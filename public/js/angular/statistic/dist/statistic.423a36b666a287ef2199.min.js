/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(1);\n__webpack_require__(2);\n__webpack_require__(3);\n__webpack_require__(4);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3N0YXRpc3RpYy9tYWluLmpzPzJmZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUJBQU8sQ0FBQyxDQUFVO0FBQ2xCLG1CQUFPLENBQUMsQ0FBa0I7QUFDMUIsbUJBQU8sQ0FBQyxDQUFpQjtBQUN6QixtQkFBTyxDQUFDLENBQWUiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vYXBwLmpzJyk7XG5yZXF1aXJlKCcuL2NvbnRyb2xsZXJzLmpzJyk7XG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMuanMnKTtcbnJlcXVpcmUoJy4vc2VydmljZXMuanMnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYW5ndWxhci9zdGF0aXN0aWMvbWFpbi5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("(function () {\r\n  angular.module('statistic', ['ui.router', 'ui.bootstrap', 'statistic.controllers', 'statistic.services', 'ngMaterial', 'ui.select', 'ngSanitize', 'statistic.directives', 'builder', 'builder.components', 'validator.rules', 'flowChart', 'oc.lazyLoad'])\r\n          .config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {\r\n              $stateProvider\r\n                      .state('mail', {\r\n                        url: \"/mail/:id\",\r\n                        templateUrl: fullUrlBase + templateBase + '/mail',\r\n                        controller: 'mailcontroller'\r\n                      })\r\n                      .state('nodo', {\r\n                        url: \"/nodo/:idAutomaticCampaign/:idNodo/:type\",\r\n                        templateUrl: fullUrlBase + templateBase + '/nodo',\r\n                        controller: 'nodo'\r\n                      })\r\n                      .state('sms', {\r\n                        url: \"/sms/:id\",\r\n                        templateUrl: fullUrlBase + templateBase + '/sms',\r\n                        controller: 'smscontroller'\r\n                      })\r\n                      .state('survey', {\r\n                        url: \"/survey/:id\",\r\n                        templateUrl: fullUrlBase + templateBase + '/survey',\r\n                        controller: 'surveycontroller'\r\n                      })\r\n                      .state('automaticcampaign', {\r\n                        url: \"/automaticcampaign/:id\",\r\n                        templateUrl: fullUrlBase + templateBase + '/automaticcampaign',\r\n                        controller: 'automaticcampaigncontroller'\r\n                      })\r\n                      .state('smstwoway', {\r\n                        url: \"/smstwoway/:id\",\r\n                        templateUrl: fullUrlBase + templateBase + '/smstwoway',\r\n                        controller: 'smstwowaycontroller'\r\n                      })\r\n            }])\r\n          .constant('constantStatistic', {\r\n            Titles: {\r\n              statisSms: \"Estadística de envío de SMS\",\r\n              statisMail: \"Estadística de envío de correo\",\r\n              statisSurvey: \"Estadística de encuesta\",\r\n              statisSmstwoway: \"Estadística de envío de SMS DOBLE VIA\",\r\n\r\n            }\r\n          });\r\n})();\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3N0YXRpc3RpYy9hcHAuanM/Njk0YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1gsQ0FBQyIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICBhbmd1bGFyLm1vZHVsZSgnc3RhdGlzdGljJywgWyd1aS5yb3V0ZXInLCAndWkuYm9vdHN0cmFwJywgJ3N0YXRpc3RpYy5jb250cm9sbGVycycsICdzdGF0aXN0aWMuc2VydmljZXMnLCAnbmdNYXRlcmlhbCcsICd1aS5zZWxlY3QnLCAnbmdTYW5pdGl6ZScsICdzdGF0aXN0aWMuZGlyZWN0aXZlcycsICdidWlsZGVyJywgJ2J1aWxkZXIuY29tcG9uZW50cycsICd2YWxpZGF0b3IucnVsZXMnLCAnZmxvd0NoYXJ0JywgJ29jLmxhenlMb2FkJ10pXHJcbiAgICAgICAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgLnN0YXRlKCdtYWlsJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL21haWwvOmlkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdWxsVXJsQmFzZSArIHRlbXBsYXRlQmFzZSArICcvbWFpbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWlsY29udHJvbGxlcidcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3RhdGUoJ25vZG8nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCIvbm9kby86aWRBdXRvbWF0aWNDYW1wYWlnbi86aWROb2RvLzp0eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdWxsVXJsQmFzZSArIHRlbXBsYXRlQmFzZSArICcvbm9kbycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdub2RvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5zdGF0ZSgnc21zJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL3Ntcy86aWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bGxVcmxCYXNlICsgdGVtcGxhdGVCYXNlICsgJy9zbXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc21zY29udHJvbGxlcidcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3RhdGUoJ3N1cnZleScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9zdXJ2ZXkvOmlkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdWxsVXJsQmFzZSArIHRlbXBsYXRlQmFzZSArICcvc3VydmV5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N1cnZleWNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnN0YXRlKCdhdXRvbWF0aWNjYW1wYWlnbicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9hdXRvbWF0aWNjYW1wYWlnbi86aWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bGxVcmxCYXNlICsgdGVtcGxhdGVCYXNlICsgJy9hdXRvbWF0aWNjYW1wYWlnbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhdXRvbWF0aWNjYW1wYWlnbmNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnN0YXRlKCdzbXN0d293YXknLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCIvc21zdHdvd2F5LzppZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVsbFVybEJhc2UgKyB0ZW1wbGF0ZUJhc2UgKyAnL3Ntc3R3b3dheScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzbXN0d293YXljb250cm9sbGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29uc3RhbnQoJ2NvbnN0YW50U3RhdGlzdGljJywge1xyXG4gICAgICAgICAgICBUaXRsZXM6IHtcclxuICAgICAgICAgICAgICBzdGF0aXNTbXM6IFwiRXN0YWTDrXN0aWNhIGRlIGVudsOtbyBkZSBTTVNcIixcclxuICAgICAgICAgICAgICBzdGF0aXNNYWlsOiBcIkVzdGFkw61zdGljYSBkZSBlbnbDrW8gZGUgY29ycmVvXCIsXHJcbiAgICAgICAgICAgICAgc3RhdGlzU3VydmV5OiBcIkVzdGFkw61zdGljYSBkZSBlbmN1ZXN0YVwiLFxyXG4gICAgICAgICAgICAgIHN0YXRpc1Ntc3R3b3dheTogXCJFc3RhZMOtc3RpY2EgZGUgZW52w61vIGRlIFNNUyBET0JMRSBWSUFcIixcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG59KSgpO1xyXG5cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hbmd1bGFyL3N0YXRpc3RpYy9hcHAuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

eval("(function () {\r\n  angular.module('statistic.controllers', [])\r\n          .controller('mailcontroller', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", \"$location\", \"$anchorScroll\", '$ocLazyLoad', '$compile', 'constantStatistic', function ($scope, statisticService, $stateParams, notificationService, $location, $anchorScroll, $ocLazyLoad, $compile, constantStatistic) {\r\n\r\n              $scope.title = constantStatistic.Titles.statisMail;\r\n              $ocLazyLoad.load([\r\n                'library/highstock/highcharts-ng.js',\r\n                'library/drilldown/highstock.src.min.js',\r\n              ]).then(function () {\r\n                if (typeof Highcharts != \"undefined\") {\r\n                  $ocLazyLoad.load([\r\n                    'library/drilldown/drilldown.js',\r\n                  ]).then(function () {\r\n                    var text = '<highchart config=\"chartConfig\"  style=\"min-width: 100%;  margin: 0 auto\" ></highchart>';\r\n                    var elToAppendOpen = $compile(text)($scope);\r\n                    var elToAppendClic = $compile(text)($scope);\r\n                    var elToAppendUnsus = $compile(text)($scope);\r\n                    var elToAppendBoun = $compile(text)($scope);\r\n                    var elToAppendSpam = $compile(text)($scope);\r\n                    var elToAppendBuzon = $compile(text)($scope);\r\n\r\n                    $('#highchartOpen').append(elToAppendOpen);\r\n                    $('#highchartClic').append(elToAppendClic);\r\n                    $('#highchartUnsuscribe').append(elToAppendUnsus);\r\n                    $('#highchartBounced').append(elToAppendBoun);\r\n                    $('#highchartSpam').append(elToAppendSpam);\r\n                    $('#highchartBuzon').append(elToAppendBuzon);\r\n                    $scope.getAll();\r\n                    $scope.opening();\r\n                  });\r\n                }\r\n              }, function (e) {\r\n                console.log('errr');\r\n                console.error(e);\r\n              });\r\n              $scope.goOpen = function () {\r\n                $location.hash('open');\r\n                $anchorScroll();\r\n                $scope.opening();\r\n              };\r\n              $scope.goClic = function () {\r\n                $location.hash('clic');\r\n                $anchorScroll();\r\n                $scope.clic();\r\n              };\r\n              $scope.goUnsuscribe = function () {\r\n                $location.hash('unsuscribe');\r\n                $anchorScroll();\r\n                $scope.unsuscribe();\r\n              };\r\n              $scope.goBounced = function () {\r\n                $location.hash('bounced');\r\n                $anchorScroll();\r\n                $scope.bounced();\r\n              };\r\n              $scope.goSpam = function () {\r\n                $location.hash('spam');\r\n                $anchorScroll();\r\n                $scope.spam();\r\n              };\r\n              $scope.goBuzon = function () {\r\n                $location.hash('buzon');\r\n                $anchorScroll();\r\n                $scope.buzon();\r\n              };\r\n              $scope.previewmailtempcont = function (id) {\r\n                statisticService.previewMailTemplateContent(id).then(function (data) {\r\n                  var e = data.template;\r\n                  $('#content-preview').empty();\r\n                  $('<iframe frameborder=\"0\" width=\"100%\" height=\"100%\"/>').appendTo('#content-preview').contents().find('body').append(e);\r\n                  $('#myModal').modal('show');\r\n                });\r\n              };\r\n              $scope.reportClic = function () {\r\n                var route = \"\";\r\n                if ($scope.selectOpen) {\r\n                  route = \"open\";\r\n                } else if ($scope.selectClic) {\r\n                  route = \"clic\";\r\n                } else if ($scope.selectUnsuscribed) {\r\n                  route = \"unsuscribe\";\r\n                } else if ($scope.selectBounced) {\r\n                  route = \"bounced\";\r\n                } else if ($scope.selectSpam) {\r\n                  route = \"spam\";\r\n                } else if ($scope.selectBuzon) {\r\n                  route = \"buzon\";\r\n                }\r\n\r\n                statisticService.reportStatics($scope.idMail, route, $scope.title).then(function () {\r\n                  var url = fullUrlBase + 'statistic/downloadexcel/' + $scope.title;\r\n                  location.href = url;\r\n                });\r\n              };\r\n              $scope.chartConfig = {};\r\n              $scope.filter = {};\r\n              $scope.filter.selected = -1;\r\n              $scope.filterSelected = function () {\r\n                $scope.filter.selected = [];\r\n                switch ($scope.filter.setvalue) {\r\n                  case \"type\":\r\n                    $scope.filter.filters = [{id: -1, name: \"Todos\"}, {id: 1, name: \"Soft\"}, {id: 2, name: \"Hard\"}];\r\n                    break;\r\n                  case \"category\":\r\n                    statisticService.getAllCategoryBounced($scope.idMail).then(function (data) {\r\n                      $scope.filter.filters = data;\r\n                      $scope.filter.filters.unshift({id: -1, name: \"Todos\"});\r\n                    });\r\n                    break;\r\n                  case \"domain\":\r\n                    statisticService.getAllDomain($scope.idMail).then(function (data) {\r\n                      $scope.filter.filters = data;\r\n                      $scope.filter.filters.unshift({id: -1, name: \"Todos\"});\r\n                    });\r\n                    break;\r\n                }\r\n              };\r\n              $scope.filter.setvalue = \"type\";\r\n              $scope.filter.filters = [{id: -1, name: \"Todos\"}, {id: 1, name: \"soft\"}, {id: 2, name: \"hard\"}];\r\n              $scope.selectOpen = false;\r\n              $scope.selectClic = false;\r\n              $scope.selectUnsuscribed = false;\r\n              $scope.selectBounced = false;\r\n              $scope.selectSpam = false;\r\n              $scope.selectBuzon = false;\r\n              $scope.initial = 0;\r\n              $scope.page = 1;\r\n              $scope.initialClic = 0;\r\n              $scope.pageClic = 1;\r\n              $scope.forward = function () {\r\n                $scope.prueba = true;\r\n                $scope.initial += 1;\r\n                $scope.page += 1;\r\n                $scope.getData();\r\n              };\r\n              $scope.fastforward = function () {\r\n                $scope.initial = ($scope.graph.info[1].total_pages - 1);\r\n                $scope.page = $scope.graph.info[1].total_pages;\r\n                $scope.getData();\r\n              };\r\n              $scope.backward = function () {\r\n                $scope.initial -= 1;\r\n                $scope.page -= 1;\r\n                $scope.getData();\r\n              };\r\n              $scope.fastbackward = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.getData();\r\n              };\r\n              $scope.forwardClic = function () {\r\n                $scope.prueba = true;\r\n                $scope.initialClic += 1;\r\n                $scope.pageClic += 1;\r\n                $scope.infoDataClic();\r\n              };\r\n              $scope.fastforwardClic = function () {\r\n                $scope.initialClic = ($scope.graph.info[1].total_pages - 1);\r\n                $scope.pageClic = $scope.graph.info[1].total_pages;\r\n                $scope.infoDataClic();\r\n              };\r\n              $scope.backwardClic = function () {\r\n                $scope.initialClic -= 1;\r\n                $scope.pageClic -= 1;\r\n                $scope.infoDataClic();\r\n              };\r\n              $scope.fastbackwardClic = function () {\r\n                $scope.initialClic = 0;\r\n                $scope.pageClic = 1;\r\n                $scope.infoDataClic();\r\n              };\r\n              if ($stateParams.id) {\r\n                $scope.idMail = $stateParams.id;\r\n              } else {\r\n                notificationService.error(\"Por favor revise la informacion enviada\");\r\n              }\r\n\r\n              $scope.getAll = function () {\r\n                statisticService.getAllInfoMail($scope.idMail).then(function (data) {\r\n                  $scope.stactics = data;\r\n                  if($scope.stactics.mail.replyto == null){\r\n                    var notAssigned = \"No asignado\";\r\n                    $scope.stactics.mail.replyto = notAssigned;\r\n                  }\r\n                });\r\n              };\r\n              $scope.calculatePercentage = function (total, value) {\r\n                if (total == 0) {\r\n                  return 0;\r\n                }\r\n                var res = (value / total) * 100;\r\n                if (res % 1 == 0) {\r\n                  return res;\r\n                } else {\r\n                  return res.toFixed(2);\r\n                }\r\n              };\r\n              $scope.clic = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.selectOpen = false;\r\n                $scope.selectClic = true;\r\n                $scope.selectUnsuscribed = false;\r\n                $scope.selectBounced = false;\r\n                $scope.selectSpam = false;\r\n                $scope.selectBuzon = false;\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoClic($scope.idMail).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#009fb2\");\r\n                  $scope.getData();\r\n                });\r\n                $scope.infoDataClic();\r\n              };\r\n              $scope.unsuscribe = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.selectOpen = false;\r\n                $scope.selectClic = false;\r\n                $scope.selectUnsuscribed = true;\r\n                $scope.selectBounced = false;\r\n                $scope.selectSpam = false;\r\n                $scope.selectBuzon = false;\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoUnsuscribed($scope.idMail).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#777\");\r\n                  $scope.getData();\r\n                });\r\n              };\r\n              $scope.spam = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.selectOpen = false;\r\n                $scope.selectClic = false;\r\n                $scope.selectUnsuscribed = false;\r\n                $scope.selectBounced = false;\r\n                $scope.selectSpam = true;\r\n                $scope.selectBuzon = false;\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoSpam($scope.idMail).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#ff2400\");\r\n                  $scope.getData();\r\n                });\r\n              };\r\n              $scope.bounced = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.selectOpen = false;\r\n                $scope.selectClic = false;\r\n                $scope.selectUnsuscribed = false;\r\n                $scope.selectBounced = true;\r\n                $scope.selectSpam = false;\r\n                $scope.selectBuzon = false;\r\n                var type = \"pie\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoBounced($scope.idMail).then(function (data) {\r\n                  $scope.graphPie = data;\r\n                  $scope.countTotal = parseInt($scope.graphPie[0].hard) + parseInt($scope.graphPie[0].soft);\r\n                  $scope.graphOpenPie(type);\r\n                  $scope.getData();\r\n                });\r\n              };\r\n              $scope.opening = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.selectOpen = true;\r\n                $scope.selectClic = false;\r\n                $scope.selectUnsuscribed = false;\r\n                $scope.selectBounced = false;\r\n                $scope.selectSpam = false;\r\n                $scope.selectBuzon = false;\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoOpen($scope.idMail, $scope.initial).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#00c1a5\");\r\n                  $scope.getData();\r\n                });\r\n              };\r\n              $scope.buzon = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.selectOpen = false;\r\n                $scope.selectClic = false;\r\n                $scope.selectUnsuscribed = false;\r\n                $scope.selectBounced = false;\r\n                $scope.selectSpam = false;\r\n                $scope.selectBuzon = true;\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoBuzon($scope.idMail, $scope.initial).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#b700c1\");\r\n                  $scope.getData();\r\n                });\r\n              };\r\n              $scope.infoDataClic = function () {\r\n                statisticService.infoClicDetail($scope.idMail, $scope.initialClic, $scope.filter.link).then(function (data) {\r\n                  $scope.infolink = data;\r\n                });\r\n              };\r\n              $scope.getData = function () {\r\n                \r\n                var route = \"\";\r\n                if ($scope.selectOpen) {\r\n                  route = \"open\";\r\n                } else if ($scope.selectClic) {\r\n                  route = \"clic\";\r\n                } else if ($scope.selectUnsuscribed) {\r\n                  route = \"unsuscribe\";\r\n                } else if ($scope.selectBounced) {\r\n                  route = \"bounced\";\r\n                } else if ($scope.selectSpam) {\r\n                  route = \"spam\";\r\n                } else if ($scope.selectBuzon) {\r\n                  route = \"buzon\";\r\n                }\r\n                statisticService.dataInfo($scope.idMail, $scope.initial, route, $scope.filter.selected, $scope.filter.setvalue).then(function (data) {\r\n                  $scope.graph = data;\r\n                });\r\n              };\r\n              $scope.graphOpenPie = function (type) {\r\n                var week = [];\r\n                var day = [];\r\n                $scope.chartConfig = {\r\n                  options: {\r\n                    chart: {\r\n                      type: type\r\n                    },\r\n                    navigator: {\r\n                      enabled: false,\r\n                      series: {\r\n                        data: []\r\n                      }\r\n                    },\r\n                    rangeSelector: {\r\n                      enabled: false\r\n                    },\r\n                    plotOptions: {\r\n                      series: {\r\n                        lineWidth: 1,\r\n                        fillOpacity: 0.5\r\n                      },\r\n                      column: {\r\n                        stacking: 'normal'\r\n                      },\r\n                      area: {\r\n                        stacking: 'normal',\r\n                        marker: {\r\n                          enabled: false\r\n                        }\r\n                      }\r\n\r\n                    },\r\n                    exporting: false,\r\n                    xAxis: [{\r\n                        type: 'datetime',\r\n                      }],\r\n                    yAxis: [\r\n                      {// Primary yAxis\r\n                        type: 'datetime',\r\n                        min: 0,\r\n                        allowDecimals: false,\r\n                        title: {\r\n                          text: '',\r\n                          style: {\r\n                            color: '#80a3ca'\r\n                          }\r\n                        },\r\n                        labels: {\r\n                          format: '{value}',\r\n                          style: {\r\n                            color: '#80a3ca'\r\n                          }\r\n                        }\r\n                      },\r\n                    ],\r\n                    legend: {\r\n                      enabled: false\r\n                    },\r\n                    title: {\r\n                      text: ' '\r\n                    },\r\n                    credits: {\r\n                      enabled: false\r\n                    },\r\n                    loading: false,\r\n                    tooltip: {\r\n                      crosshairs: [\r\n                        {\r\n                          width: 1,\r\n                          dashStyle: 'dash',\r\n                          color: '#898989'\r\n                        },\r\n                        {\r\n                          width: 1,\r\n                          dashStyle: 'dash',\r\n                          color: '#898989'\r\n                        }\r\n                      ]\r\n\r\n                    }\r\n                  },\r\n                  series: [\r\n                    {\r\n                      name: \"Cantidad\",\r\n//                colorByPoint: true,\r\n                      data: [\r\n                        {\r\n                          color: \"#ff6e00\",\r\n                          name: \"Rebotes duros\",\r\n                          visible: true,\r\n                          y: $scope.graphPie[0].hard},\r\n                        {\r\n                          color: \"#f28d41\",\r\n                          name: \"Rebotes suaves\",\r\n                          visible: true,\r\n                          y: $scope.graphPie[0].soft}\r\n                      ]\r\n                    }\r\n                  ]\r\n                };\r\n              };\r\n              $scope.graphOpen = function (type, color) {\r\n                var week = [];\r\n                var day = [];\r\n                $scope.countTotal = 0;\r\n                if ($scope.graph.statics) {\r\n                  var count = 1;\r\n                  angular.forEach($scope.graph.statics, function (value, key) {\r\n                    week.push({drilldown: value.week.week, name: value.week.interval,\r\n                      y: parseInt(value.week.count)});\r\n                    var pp = [];\r\n                    $scope.countTotal = (parseInt(value.week.count) + parseInt($scope.countTotal));\r\n                    angular.forEach(value.week.day, function (value2, key2) {\r\n                      pp.push({name: value2.interval,\r\n                        y: parseInt(value2.count),\r\n                        drilldown: value2.interval});\r\n                      var hour = [];\r\n                      angular.forEach(value2.hour, function (value3, key3) {\r\n                        var asas = [value3.interval, parseInt(value3.count)];\r\n                        hour.push(asas);\r\n                      })\r\n                      day.push({id: value2.interval, name: \"Hora(s)\", data: hour});\r\n                    })\r\n                    day.push({id: value.week.week, name: \"Dia(s)\",\r\n                      data: pp});\r\n                  });\r\n                }\r\n\r\n\r\n                $scope.chartConfig = {\r\n                  options: {\r\n                    chart: {\r\n                      type: type\r\n                    },\r\n                    drilldown: {\r\n                      series: day\r\n                    },\r\n                    xAxis: {\r\n                      type: 'category'\r\n                    },\r\n                    plotOptions: {\r\n                      series: {\r\n                        lineWidth: 1,\r\n                        fillOpacity: 0.5,\r\n                        borderWidth: 0\r\n                      },\r\n                    },\r\n                    legend: {\r\n                      enabled: true\r\n                    },\r\n                    title: {\r\n                      text: ' '\r\n                    },\r\n                    credits: {\r\n                      enabled: false\r\n                    }\r\n                  },\r\n                  series: [{\r\n                      name: 'Semana(s)',\r\n                      data: week,\r\n                      color: color\r\n                    }]\r\n                };\r\n\r\n              };\r\n\r\n            }])\r\n          .controller('nodo', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", \"$location\", \"$anchorScroll\", '$ocLazyLoad', '$compile', '$stateParams', function ($scope, statisticService, $stateParams, notificationService, $location, $anchorScroll, $ocLazyLoad, $compile, $stateParams) {\r\n              //hacer consulta de la campaÃ±a automatica por el nodo\r\n              statisticService.getAutomaticCampaignByNode($stateParams).then(function (res) {\r\n                //console.log(res);\r\n                $scope.data = res;\r\n                //console.log($scope.data[0].idMail);\r\n                if ($scope.data[0].idMailTemplate != null && angular.isDefined($scope.data[0].idMailTemplate)) {\r\n                }\r\n                if ($scope.data[0].idSmsTemplate != null && angular.isDefined($scope.data[0].idSmsTemplate)) {\r\n                  $scope.url = fullUrlBase + templateBase + '/sms';\r\n                  $scope.loadHchart = function () {\r\n                    $ocLazyLoad.load([\r\n                      'library/drilldown/highstock.src.min.js',\r\n                      'library/highstock/highcharts-ng.js',\r\n                    ]).then(function () {\r\n                      var el, elToAppend;\r\n                      elToAppend = $compile('<highchart  config=\"chartConfig\"  style=\"min-width: 100%;  margin: 0 auto\" ></highchart>')($scope);\r\n                      el = angular.element('#highchart');\r\n                      el.append(elToAppend);\r\n                    }, function (e) {\r\n                      console.log('errr');\r\n                      console.error(e);\r\n                    });\r\n                  }\r\n                  //peticion al service que trae la informacion de estadistica de sms\r\n                  $scope.initial = 0;\r\n                  $scope.page = 1;\r\n                  $scope.traslateStatus = function (status) {\r\n                    var string = \"\";\r\n                    switch (status) {\r\n                      case \"sent\":\r\n                        string = \"Enviado\";\r\n                        break;\r\n                      case \"undelivered\":\r\n                        string = \"No enviado\";\r\n                        break;\r\n                    }\r\n                    return string;\r\n                  }\r\n                  $scope.getData = function () {\r\n                    statisticService.getDetailSms($scope.data[0].idSms, $scope.initial).then(function (data) {\r\n                      $scope.listsms = data;\r\n                      $scope.loadHchart();\r\n                      //console.log($scope.listsms);\r\n                    });\r\n                  }\r\n                  $scope.getData();\r\n                  statisticService.getInfoStaticticsSms($scope.data[0].idSms).then(function (res) {\r\n                    $scope.forward = function () {\r\n                      $scope.initial += 1;\r\n                      $scope.page += 1;\r\n                      $scope.getData();\r\n                    };\r\n                    $scope.fastforward = function () {\r\n                      $scope.initial = ($scope.listsms.detail[1].total_pages - 1);\r\n                      $scope.page = $scope.listsms.detail[1].total_pages;\r\n                      $scope.getData();\r\n                    };\r\n                    $scope.backward = function () {\r\n                      $scope.initial -= 1;\r\n                      $scope.page -= 1;\r\n                      $scope.getData();\r\n                    };\r\n                    $scope.fastbackward = function () {\r\n                      $scope.initial = 0;\r\n                      $scope.page = 1;\r\n                      $scope.getData();\r\n                    };\r\n                    $scope.reportSms = function () {\r\n                      statisticService.reportStaticsSms($scope.data[0].idSms).then(function () {\r\n                        var url = fullUrlBase + 'statistic/download'\r\n                        location.href = url;\r\n                      });\r\n                    };\r\n//                    console.log(res);\r\n                    $scope.sms = {};\r\n                    $scope.sms = res;\r\n\r\n                    $scope.chartConfig = {\r\n                      options: {\r\n                        colors: ['#00BF6F', '#2DCCD3', '#F79F0F'],\r\n                        chart: {\r\n                          type: 'pie',\r\n                          backgroundColor: null,\r\n                        },\r\n                        tooltip: {\r\n                          formatter: function () {\r\n                            return '<b>Total SMS: </b>' + parseInt($scope.sms.sent + $scope.sms.undelivered) + '<br><b>Enviados: </b>' + parseInt($scope.sms.sent) + '<br><b>No Enviados: </b>' + parseInt($scope.sms.undelivered);\r\n                          }\r\n                        }\r\n                      },\r\n                      series: [{\r\n                          data: [[\"Enviados\", parseInt($scope.sms.sent)], [\"No enviados\", parseInt($scope.sms.undelivered)]],\r\n                          innerSize: '70%',\r\n                          showInLegend: true,\r\n                          dataLabels: {\r\n                            enabled: false\r\n                          }\r\n                        }],\r\n                      title: {\r\n                        text: 'Estadisticas',\r\n                        style: {\r\n                          color: 'black',\r\n                          fontSize: '16px',\r\n                          fontWeight: 'bold'\r\n                        }\r\n                      },\r\n                      legend: {\r\n                        itemStyle: {\r\n                          fontWeight: 'bold',\r\n                          fontSize: '13px'\r\n                        }\r\n                      },\r\n                      loading: false\r\n                    };\r\n\r\n                  })\r\n                }\r\n              });\r\n            }])\r\n          .controller('smscontroller', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", '$ocLazyLoad', '$compile', 'constantStatistic', function ($scope, statisticService, $stateParams, notificationService, $ocLazyLoad, $compile, constantStatistic) {\r\n              \r\n              $scope.title = constantStatistic.Titles.statisSms;\r\n              $scope.phone =\"\";\r\n              $scope.validateData = false;\r\n              $scope.validatePhone = false;\r\n              $scope.validateSearch = {\r\n                valueInitial : false,\r\n                valueFinal : false,\r\n                search : false\r\n              }\r\n              $scope.misc = {\r\n                totalLote : 0,\r\n                progressbar: false\r\n              }\r\n              \r\n              $ocLazyLoad.load([\r\n                'library/drilldown/highstock.src.min.js',\r\n                'library/highstock/highcharts-ng.js',\r\n              ]).then(function () {\r\n                if (typeof Highcharts != \"undefined\") {\r\n                  $ocLazyLoad.load([\r\n                    'library/drilldown/drilldown.js',\r\n                  ]).then(function () {\r\n                    var el, elToAppend;\r\n                    elToAppend = $compile('<highchart  config=\"chartConfig\"  style=\"min-width: 100%;  margin: 0 auto\" ></highchart>')($scope);\r\n                    el = angular.element('#highchart');\r\n                    el.append(elToAppend);\r\n                  });\r\n                }\r\n\r\n              }, function (e) {\r\n                console.log('errr');\r\n                console.error(e);\r\n              });\r\n              $scope.getData = function () { \r\n                statisticService.getDetailSms($scope.idSms, $scope.initial, $scope.phone).then(function (data) {\r\n                  if(data.detail[0]!=null){\r\n                    $scope.misc.totalLote = data.detail[0].length;                  \r\n                    \r\n                    if($scope.phone != '' && $scope.misc.totalLote == 0 && $scope.validateSearch.search == true){\r\n\r\n                        $scope.validateData = true;\r\n                        $scope.validatePhone = true;\r\n                        console.log(\"AQUI -1\",$scope.validatePhone); \r\n                    }else if($scope.phone != '' && $scope.misc.totalLote != 0 && $scope.validateSearch.search == true){\r\n\r\n                        $scope.validateData = true;\r\n                        $scope.validatePhone = false;\r\n                        console.log(\"AQUI -2\",$scope.validateData);                                             \r\n                    }else if( $scope.misc.totalLote != 0 && $scope.phone == '' && $scope.validateSearch.search == false ){\r\n                        \r\n                        $scope.validateData = true;\r\n                        $scope.validatePhone = false;\r\n                        console.log(\"AQUI -3\",$scope.validateData);\r\n                    }else if( $scope.misc.totalLote == 0 && $scope.phone == '' && $scope.validateSearch.search == false ){\r\n                        \r\n                        $scope.validateData = false;\r\n                        $scope.validatePhone = false;\r\n                        console.log(\"AQUI -4\",$scope.validateData);\r\n                    }\r\n                    \r\n                    $scope.misc.progressbar = true;\r\n                    $scope.listsms = data;\r\n                  }\r\n                  else{\r\n                    $scope.misc.progressbar = true;\r\n                    $scope.validateData = true;\r\n                    $scope.validatePhone = true;\r\n                  }\r\n                  \r\n                });\r\n              };\r\n\r\n              $scope.forward = function () {\r\n                $scope.initial += 1;\r\n                $scope.page += 1;\r\n                $scope.getData();\r\n              };\r\n              $scope.fastforward = function () {\r\n                $scope.initial = ($scope.listsms.detail[1].total_pages - 1);\r\n                $scope.page = $scope.listsms.detail[1].total_pages;\r\n                $scope.getData();\r\n              };\r\n              $scope.backward = function () {\r\n                $scope.initial -= 1;\r\n                $scope.page -= 1;\r\n                $scope.getData();\r\n              };\r\n              $scope.fastbackward = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.getData();\r\n              };\r\n\r\n              $scope.reportSms = function () {\r\n                statisticService.reportStaticsSms($scope.idSms, $scope.title).then(function () {\r\n                  var url = fullUrlBase + 'statistic/downloadexcel/' + $scope.title;\r\n                  location.href = url;\r\n                });\r\n              };\r\n              \r\n              $scope.searchNumber = function (param) {\r\n                if(param == 1){\r\n                    \r\n                    if($scope.phone != ''){\r\n                        $scope.listsms.detail[0] = null;\r\n                        $scope.validateSearch.search = true;\r\n                        $scope.getData();   \r\n                    }else{\r\n                        $scope.validateData = true;\r\n                        $scope.validatePhone = false;\r\n                        $scope.listsms.detail[0] = null;\r\n                        $scope.getData();\r\n                    }\r\n                                                     \r\n                }else if (param == 2){\r\n                    $scope.phone = \"\";\r\n                    $scope.validateSearch.search = false;\r\n                    $scope.getData();  \r\n                }\r\n\r\n              };\r\n              $scope.initial = 0;\r\n              $scope.page = 1;\r\n              $scope.traslateStatus = function (status) {\r\n                var string = \"\";\r\n                switch (status) {\r\n                  case \"sent\":\r\n                    string = \"Enviado\";\r\n                    break;\r\n                  case \"undelivered\":\r\n                    string = \"No enviado\";\r\n                    break;\r\n                }\r\n                return string;\r\n              }\r\n\r\n              if ($stateParams.id) {\r\n                $scope.idSms = $stateParams.id;\r\n              } else {\r\n                notificationService.error(\"Por favor revise la informacion enviada\");\r\n              }\r\n              $scope.getData();\r\n              statisticService.getInfoSms($scope.idSms).then(function (data) {\r\n                //En caso de que no existan registros en lote\r\n                if(data.sms.target==\"\"||data.sms.target==null){\r\n                  data.sms.target = 0;\r\n                }\r\n                $scope.sms = data;\r\n                $scope.chartConfig = {\r\n                  options: {\r\n                    colors: ['#00BF6F', '#2DCCD3', '#F79F0F'],\r\n                    chart: {\r\n                      type: 'pie',\r\n                      backgroundColor: null,\r\n                    },\r\n                    tooltip: {\r\n                      formatter: function () {\r\n                        return '<b>Total SMS:</b>' + parseInt($scope.sms.sent + $scope.sms.undelivered) + '<br><b>Enviados:</b>' + parseInt($scope.sms.sent) + '<br><b>No Enviados</b>' + parseInt($scope.sms.undelivered);\r\n                      }\r\n                    }\r\n                  },\r\n                  series: [{\r\n                      data: [[\"Enviados\", parseInt($scope.sms.sent)], [\"No enviados\", parseInt($scope.sms.undelivered)]],\r\n                      innerSize: '70%',\r\n                      showInLegend: true,\r\n                      dataLabels: {\r\n                        enabled: false\r\n                      }\r\n                    }],\r\n                  title: {\r\n                    text: 'Estadisticas',\r\n                    style: {\r\n                      color: 'black',\r\n                      fontSize: '16px',\r\n                      fontWeight: 'bold'\r\n                    }\r\n                  },\r\n                  legend: {\r\n                    itemStyle: {\r\n                      fontWeight: 'bold',\r\n                      fontSize: '13px'\r\n                    }\r\n                  },\r\n                  loading: false\r\n                };\r\n              });\r\n            }])\r\n          .controller('smssharecontroller', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", function ($scope, statisticService, $stateParams, notificationService) {\r\n              $scope.type = type;\r\n              $scope.reportSms = function () {\r\n                statisticService.reportStaticsSms($scope.idSms).then(function () {\r\n                  var url = fullUrlBase + 'statistic/download'\r\n                  location.href = url;\r\n                });\r\n              };\r\n              $scope.initial = 0;\r\n              $scope.page = 1;\r\n              $scope.traslateStatus = function (status) {\r\n                var string = \"\";\r\n                switch (status) {\r\n                  case \"sent\":\r\n                    string = \"Enviado\";\r\n                    break;\r\n                  case \"undelivered\":\r\n                    string = \"No enviado\";\r\n                    break;\r\n                }\r\n                return string;\r\n              }\r\n\r\n              if (idSms) {\r\n                $scope.idSms = idSms;\r\n              } else {\r\n                notificationService.error(\"Por favor revise la informacion enviada\");\r\n              }\r\n              if ($scope.type == \"complete\") {\r\n                statisticService.getDetailSms($scope.idSms, $scope.initial).then(function (data) {\r\n                  $scope.listsms = data;\r\n                });\r\n              }\r\n              statisticService.getInfoSms($scope.idSms).then(function (data) {\r\n                $scope.sms = data;\r\n                $scope.chartConfig = {\r\n                  options: {\r\n                    chart: {\r\n                      type: 'pie'\r\n                    }\r\n                  },\r\n                  series: [{\r\n                      data: [[\"Enviados\", parseInt($scope.sms.sent)], [\"No enviados\", parseInt($scope.sms.undelivered)]]\r\n                    }],\r\n                  title: {\r\n                    text: 'Estadisticas'\r\n                  },\r\n                  loading: false\r\n                };\r\n              });\r\n            }])\r\n          .controller('shareController', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", \"$location\", \"$anchorScroll\", '$ocLazyLoad', '$compile', function ($scope, statisticService, $stateParams, notificationService, $location, $anchorScroll, $ocLazyLoad, $compile) {\r\n\r\n              $ocLazyLoad.load([\r\n                fullUrlBase + 'library/highstock/highcharts-ng.js',\r\n                fullUrlBase + 'library/drilldown/highstock.src.min.js',\r\n              ]).then(function () {\r\n                if (typeof Highcharts != \"undefined\") {\r\n                  $ocLazyLoad.load([\r\n                    fullUrlBase + 'library/drilldown/drilldown.js',\r\n                  ]).then(function () {\r\n                    var text = '<highchart config=\"chartConfig\"  style=\"min-width: 100%;  margin: 0 auto\" ></highchart>';\r\n                    var elToAppendOpen = $compile(text)($scope);\r\n                    var elToAppendClic = $compile(text)($scope);\r\n                    var elToAppendUnsus = $compile(text)($scope);\r\n                    var elToAppendBoun = $compile(text)($scope);\r\n                    var elToAppendSpam = $compile(text)($scope);\r\n                    var elToAppendBuzon = $compile(text)($scope);\r\n\r\n                    $('#highchartOpen').append(elToAppendOpen);\r\n                    $('#highchartClic').append(elToAppendClic);\r\n                    $('#highchartUnsuscribe').append(elToAppendUnsus);\r\n                    $('#highchartBounced').append(elToAppendBoun);\r\n                    $('#highchartSpam').append(elToAppendSpam);\r\n                    $('#highchartBuzon').append(elToAppendBuzon);\r\n                    $scope.getAll();\r\n                    $scope.opening();\r\n                  });\r\n                }\r\n              }, function (e) {\r\n                console.log('errr');\r\n                console.error(e);\r\n              });\r\n\r\n              $scope.idMail = idMail;\r\n              $scope.type = type;\r\n              $scope.getAll = function () {\r\n                statisticService.getAllInfoMail($scope.idMail, $scope.type).then(function (data) {\r\n                  $scope.stactics = data;\r\n                  if($scope.stactics.mail.replyto == null){\r\n                    var notAssigned = \"No asignado\";\r\n                    $scope.stactics.mail.replyto = notAssigned;\r\n                  }\r\n                });\r\n              };\r\n\r\n              $scope.opening = function () {\r\n                $scope.initial = 0;\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoOpen($scope.idMail, $scope.initial).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#00c1a5\");\r\n                });\r\n              };\r\n\r\n              $scope.clic = function () {\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoClic($scope.idMail).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#009fb2\");\r\n                });\r\n//          $scope.infoDataClic();\r\n              };\r\n\r\n              $scope.unsuscribe = function () {\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoUnsuscribed($scope.idMail).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#777\");\r\n                });\r\n              };\r\n\r\n              $scope.bounced = function () {\r\n                var type = \"pie\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoBounced($scope.idMail).then(function (data) {\r\n                  $scope.graphPie = data;\r\n                  $scope.countTotal = parseInt($scope.graphPie[0].hard) + parseInt($scope.graphPie[0].soft);\r\n                  $scope.graphOpenPie(type);\r\n                });\r\n              };\r\n\r\n              $scope.spam = function () {\r\n                var type = \"column\";\r\n                $scope.graph = {};\r\n                $scope.chartConfig = {};\r\n                statisticService.infoSpam($scope.idMail).then(function (data) {\r\n                  $scope.graph = data;\r\n                  $scope.graphOpen(type, \"#ff2400\");\r\n                });\r\n              };\r\n\r\n              $scope.goOpen = function () {\r\n                $location.hash('open');\r\n                $anchorScroll();\r\n                $scope.opening();\r\n              };\r\n              $scope.goClic = function () {\r\n                $location.hash('clic');\r\n                $anchorScroll();\r\n                $scope.clic();\r\n              };\r\n              $scope.goUnsuscribe = function () {\r\n                $location.hash('unsuscribe');\r\n                $anchorScroll();\r\n                $scope.unsuscribe();\r\n              };\r\n              $scope.goBounced = function () {\r\n                $location.hash('bounced');\r\n                $anchorScroll();\r\n                $scope.bounced();\r\n              };\r\n              $scope.goSpam = function () {\r\n                $location.hash('spam');\r\n                $anchorScroll();\r\n                $scope.spam();\r\n              };\r\n              $scope.goBuzon = function () {\r\n                $location.hash('buzon');\r\n                $anchorScroll();\r\n                $scope.buzon();\r\n              };\r\n\r\n              $scope.calculatePercentage = function (total, value) {\r\n                if (total == 0) {\r\n                  return 0;\r\n                }\r\n                var res = (value / total) * 100;\r\n                if (res % 1 == 0) {\r\n                  return res;\r\n                } else {\r\n                  return res.toFixed(2);\r\n                }\r\n              };\r\n\r\n              $scope.graphOpen = function (type, color) {\r\n                var week = [];\r\n                var day = [];\r\n                $scope.countTotal = 0;\r\n                if ($scope.graph.statics) {\r\n                  var count = 1;\r\n                  angular.forEach($scope.graph.statics, function (value, key) {\r\n                    week.push({drilldown: value.week.week, name: value.week.interval,\r\n                      y: parseInt(value.week.count)});\r\n                    var pp = [];\r\n                    $scope.countTotal = (parseInt(value.week.count) + parseInt($scope.countTotal));\r\n                    angular.forEach(value.week.day, function (value2, key2) {\r\n                      pp.push({name: value2.interval,\r\n                        y: parseInt(value2.count),\r\n                        drilldown: value2.interval});\r\n                      var hour = [];\r\n                      angular.forEach(value2.hour, function (value3, key3) {\r\n                        var asas = [value3.interval, parseInt(value3.count)];\r\n                        hour.push(asas);\r\n                      })\r\n                      day.push({id: value2.interval, name: \"Hora(s)\", data: hour});\r\n                    })\r\n                    day.push({id: value.week.week, name: \"Dia(s)\",\r\n                      data: pp});\r\n                  });\r\n                }\r\n\r\n                $scope.chartConfig = {\r\n                  options: {\r\n                    chart: {\r\n                      type: type\r\n                    },\r\n                    drilldown: {\r\n                      series: day\r\n                    },\r\n                    xAxis: {\r\n                      type: 'category'\r\n                    },\r\n                    plotOptions: {\r\n                      series: {\r\n                        lineWidth: 1,\r\n                        fillOpacity: 0.5,\r\n                        borderWidth: 0\r\n                      },\r\n                    },\r\n                    legend: {\r\n                      enabled: true\r\n                    },\r\n                    title: {\r\n                      text: ' '\r\n                    },\r\n                    credits: {\r\n                      enabled: false\r\n                    }\r\n                  },\r\n                  series: [{\r\n                      name: 'Semana(s)',\r\n                      data: week,\r\n                      color: color\r\n                    }]\r\n                };\r\n              };\r\n\r\n              $scope.graphOpenPie = function (type) {\r\n                var week = [];\r\n                var day = [];\r\n                $scope.chartConfig = {\r\n                  options: {\r\n                    chart: {\r\n                      type: type\r\n                    },\r\n                    navigator: {\r\n                      enabled: false,\r\n                      series: {\r\n                        data: []\r\n                      }\r\n                    },\r\n                    rangeSelector: {\r\n                      enabled: false\r\n                    },\r\n                    plotOptions: {\r\n                      series: {\r\n                        lineWidth: 1,\r\n                        fillOpacity: 0.5\r\n                      },\r\n                      column: {\r\n                        stacking: 'normal'\r\n                      },\r\n                      area: {\r\n                        stacking: 'normal',\r\n                        marker: {\r\n                          enabled: false\r\n                        }\r\n                      }\r\n\r\n                    },\r\n                    exporting: false,\r\n                    xAxis: [{\r\n                        type: 'datetime',\r\n                      }],\r\n                    yAxis: [\r\n                      {// Primary yAxis\r\n                        type: 'datetime',\r\n                        min: 0,\r\n                        allowDecimals: false,\r\n                        title: {\r\n                          text: '',\r\n                          style: {\r\n                            color: '#80a3ca'\r\n                          }\r\n                        },\r\n                        labels: {\r\n                          format: '{value}',\r\n                          style: {\r\n                            color: '#80a3ca'\r\n                          }\r\n                        }\r\n                      },\r\n                    ],\r\n                    legend: {\r\n                      enabled: false\r\n                    },\r\n                    title: {\r\n                      text: ' '\r\n                    },\r\n                    credits: {\r\n                      enabled: false\r\n                    },\r\n                    loading: false,\r\n                    tooltip: {\r\n                      crosshairs: [\r\n                        {\r\n                          width: 1,\r\n                          dashStyle: 'dash',\r\n                          color: '#898989'\r\n                        },\r\n                        {\r\n                          width: 1,\r\n                          dashStyle: 'dash',\r\n                          color: '#898989'\r\n                        }\r\n                      ]\r\n\r\n                    }\r\n                  },\r\n                  series: [\r\n                    {\r\n                      name: \"Cantidad\",\r\n//                colorByPoint: true,\r\n                      data: [\r\n                        {\r\n                          color: \"#ff6e00\",\r\n                          name: \"Rebotes duros\",\r\n                          visible: true,\r\n                          y: $scope.graphPie[0].hard},\r\n                        {\r\n                          color: \"#f28d41\",\r\n                          name: \"Rebotes suaves\",\r\n                          visible: true,\r\n                          y: $scope.graphPie[0].soft}\r\n                      ]\r\n                    }\r\n                  ]\r\n                };\r\n              };\r\n\r\n//              $scope.getAll();\r\n//              $scope.opening();\r\n            }])\r\n          .controller('surveycontroller', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", \"$location\", \"$anchorScroll\", '$builder', '$validator', '$timeout', '$ocLazyLoad', '$compile', 'constantStatistic', function ($scope, statisticService, $stateParams, notificationService, $location, $anchorScroll, $builder, $validator, $timeout, $ocLazyLoad, $compile, constantStatistic) {\r\n\r\n              $scope.chartConfig = \"\";\r\n              $scope.title = constantStatistic.Titles.statisSurvey;\r\n\r\n              $scope.chartBar = function (question, totalSurvey) {\r\n                //console.log(question, totalSurvey);\r\n                question.chartConfig = {\r\n                  options: {\r\n                    chart: {\r\n                      type: \"bar\"\r\n                    },\r\n                    xAxis: {\r\n                      type: 'category'\r\n                    },\r\n                    yAxis: {\r\n                      labels: {\r\n                        formatter: function () {\r\n                          var pcnt = (this.value / totalSurvey) * 100;\r\n                          return Highcharts.numberFormat(pcnt, 0, ',') + '%';\r\n                        }\r\n                      }\r\n                    },\r\n                    plotOptions: {\r\n                      series: {\r\n                        lineWidth: 1,\r\n                        fillOpacity: 0.5,\r\n                        borderWidth: 0,\r\n                        dataLabels: {\r\n                          enabled: true,\r\n                          formatter: function () {\r\n                            var pcnt = (this.y / totalSurvey) * 100;\r\n                            return Highcharts.numberFormat(pcnt) + '%';\r\n                          }\r\n                        }\r\n                      }\r\n                    },\r\n                    legend: {\r\n                      enabled: true\r\n                    },\r\n                    title: {\r\n                      text: ' '\r\n                    },\r\n                    credits: {\r\n                      enabled: false\r\n                    }\r\n                  },\r\n                  series: [question.chart]\r\n                          /*[{\r\n                           name: 'Te gustan los hombres',\r\n                           data:[{name:\"si\",y:6},{name:\"no\",y:2}]\r\n                           }]*/\r\n                };\r\n              };\r\n\r\n\r\n              function getAll() {\r\n                statisticService.getAllInfoSurvey($stateParams.id).then(function (data) {\r\n                  $scope.stactics = data;\r\n                  $scope.loadFile();\r\n\r\n                  //$scope.chartBar($scope.stactics.questions[3].chart)\r\n                });\r\n              }\r\n\r\n              getAll();\r\n\r\n              $scope.translationType = function (type) {\r\n                var string = \"\";\r\n                switch (type) {\r\n                  case 'contact' :\r\n                    string = \"Contacto\";\r\n                    break;\r\n                  case 'public' :\r\n                    string = \"Publica\";\r\n                    break;\r\n                }\r\n                return string;\r\n              };\r\n\r\n              $scope.previsualizar = function (content) {\r\n                $scope.previewShow = false;\r\n                var json = JSON.parse(content);\r\n                //console.log(json.content);\r\n                $builder.setForm('sigmaSurvey', json.content);\r\n                $(\"#preview\").addClass('dialog--open');\r\n                $scope.backgroundForm = json.background;\r\n\r\n                $timeout(function () {\r\n                  $scope.previewShow = true;\r\n                }, 1000);\r\n              };\r\n\r\n              $scope.removeDialog = function (modal) {\r\n                $(\"#\" + modal).removeClass('dialog--open');\r\n              };\r\n\r\n              $scope.validateSurvey = function () {\r\n                $validator.validate($scope, 'sigmaSurvey')\r\n                        .success(function () {})\r\n                        .error(function () {});\r\n              };\r\n\r\n              $scope.reportDetail = function () {\r\n                statisticService.reportStaticsSurvey($stateParams.id, $scope.title).then(function (res) {\r\n                  var url = fullUrlBase + 'statistic/downloadexcel/' + $scope.title;\r\n                  location.href = url;\r\n                })\r\n              };\r\n\r\n              $scope.printDetail = function () {\r\n                window.print();\r\n              };\r\n\r\n              $scope.back = function () {\r\n                var url = fullUrlBase + 'survey#/';\r\n                location.href = url;\r\n              };\r\n              $scope.loadFile = function () {\r\n                $ocLazyLoad.load([\r\n                  'library/drilldown/highstock.src.min.js',\r\n                  'library/highstock/highcharts-ng.js',\r\n                ]).then(function () {\r\n                  if (typeof Highcharts != \"undefined\") {\r\n                    $ocLazyLoad.load([\r\n                      'library/drilldown/drilldown.js',\r\n                    ]).then(function () {\r\n                      $scope.showDom = true;\r\n                    });\r\n                  }\r\n                }, function (e) {\r\n                  console.log('errr');\r\n                  console.error(e);\r\n                });\r\n              }\r\n            }])\r\n          .controller('automaticcampaigncontroller', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", \"$location\", \"$anchorScroll\", function ($scope, statisticService, $stateParams, notificationService, $location, $anchorScroll) {\r\n//              $scope.chartViewModel = {\"nodes\": [{\"name\": \"Destinatario(s)\", \"id\": 0, \"x\": 170, \"y\": 25, \"width\": 100, \"image\": \"http:\\/\\/localhost\\/\\/aio\\/images\\/automatic\\/destinatariosa-01.jpg\", \"theme\": \"primary\", \"method\": \"primary\", \"templatepopover\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popoversegment\", \"titlepopover\": \"Selecciona a quien quiere enviar esta campa\\u00f1a autom\\u00e1tica.\", \"outputConnectors\": [{\"name\": \"\"}], \"sendData\": {\"list\": {\"id\": 1, \"name\": \"Listas de contactos\"}, \"selecteds\": [{\"idContactlist\": \"125\", \"name\": \"Desarrollo\", \"idContactlistCategory\": \"2\"}], \"textTitle\": \"Listas de contactos\", \"text\": \"Desarrollo\"}, \"element\": {\"0\": {\"jQuery111204709562130347751\": 79}, \"context\": {\"jQuery111204709562130347751\": 79}, \"length\": 1}, \"showPopover\": false, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"list\": {\"id\": 1, \"name\": \"Listas de contactos\"}, \"selected\": [{\"idContactlist\": \"125\", \"name\": \"Desarrollo\", \"idContactlistCategory\": \"2\"}], \"error\": false}}, {\"name\": \"Mail\", \"id\": 10, \"x\": 659, \"y\": 31, \"width\": 100, \"theme\": \"service\", \"method\": \"email\", \"image\": \"http:\\/\\/localhost\\/\\/aio\\/images\\/automatic\\/correoa-01.jpg\", \"templatepopover\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popovermail\", \"templatepopoveraction\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popoveraction\", \"inputConnectors\": [{\"name\": \"\"}], \"outputConnectors\": [{\"name\": \"\"}], \"sendData\": {\"mailtemplate\": {\"idMailTemplate\": \"24\", \"name\": \"Prueba\"}, \"subject\": \"prueba survey local\", \"senderEmail\": {\"idEmailsender\": \"9\", \"email\": \"kevin@roldan.com\"}, \"senderName\": {\"idNameSender\": \"17\", \"name\": \"Kevin Roldan\"}, \"mailcategory\": {\"name\": \"Musica\", \"idMailCategory\": \"5\", \"description\": null, \"deleted\": \"0\"}, \"replyto\": \"\", \"text\": \"Categoria:Musica\", \"textTitle\": \"Prueba\"}, \"element\": {\"0\": {\"jQuery111204709562130347751\": 569}, \"context\": {\"jQuery111204709562130347751\": 569}, \"length\": 1}, \"showPopover\": false, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"mailtemplate\": {\"idMailTemplate\": \"24\", \"name\": \"Prueba\"}, \"flagSelected\": true, \"hrefSelectedMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate\\/edit\\/24\", \"mailcategory\": {\"name\": \"Musica\", \"idMailCategory\": \"5\", \"description\": null, \"deleted\": \"0\"}, \"senderName\": {\"idNameSender\": \"17\", \"name\": \"Kevin Roldan\"}, \"senderEmail\": {\"idEmailsender\": \"9\", \"email\": \"kevin@roldan.com\"}, \"subject\": \"prueba survey local\", \"error\": false}}, {\"name\": \"Tiempo\", \"id\": 11, \"x\": 173, \"y\": 182, \"width\": 100, \"theme\": \"operator\", \"method\": \"time\", \"image\": \"http:\\/\\/localhost\\/\\/aio\\/images\\/automatic\\/tiempoa-01.jpg\", \"templatepopover\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popovertime\", \"inputConnectors\": [{\"name\": \"\"}], \"outputConnectors\": [{\"name\": \"\"}], \"sendData\": {\"time\": {\"id\": 1, \"name\": \"1\"}, \"timetwo\": {\"id\": 2, \"name\": \"Hora(s)\"}, \"text\": \"1 Hora(s) Despu\\u00e9s.\", \"textTitle\": \"Tiempo Programado\"}, \"element\": {\"0\": {\"jQuery111204709562130347751\": 531}, \"context\": {\"jQuery111204709562130347751\": 531}, \"length\": 1}, \"showPopover\": false, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"time\": {\"id\": 1, \"name\": \"1\"}, \"timetwo\": {\"id\": 2, \"name\": \"Hora(s)\"}, \"error\": false}}, {\"name\": \"Encuestas\", \"id\": 13, \"x\": 653, \"y\": 175, \"width\": 100, \"theme\": \"service\", \"method\": \"survey\", \"image\": \"http:\\/\\/localhost\\/\\/aio\\/images\\/general\\/forms.png\", \"templatepopover\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popoversurvey\", \"templatepopoveraction\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popoveractionsurvey\", \"inputConnectors\": [{\"name\": \"\"}], \"outputConnectors\": [{\"name\": \"\"}], \"sendData\": {\"publicsurvey\": {\"idSurvey\": \"60\", \"name\": \"Prueb Asurvey\"}, \"mailtemplate\": {\"idMailTemplate\": \"24\", \"name\": \"Prueba\"}, \"subject\": \"yguj\", \"senderEmail\": {\"idEmailsender\": \"18\", \"email\": \"kevin@roldan1.com\"}, \"senderName\": {\"idNameSender\": \"28\", \"name\": \"Pablo\"}, \"mailcategory\": {\"name\": \"Musica\", \"idMailCategory\": \"5\", \"description\": null, \"deleted\": \"0\"}, \"replyto\": \"\", \"text\": \"Categoria:Musica\", \"textTitle\": \"Prueba\"}, \"element\": {\"0\": {\"jQuery111204709562130347751\": 446}, \"context\": {\"jQuery111204709562130347751\": 446}, \"length\": 1}, \"showPopover\": false, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"publicsurvey\": {\"idSurvey\": \"60\", \"name\": \"Prueb Asurvey\"}, \"flagSelected\": true, \"hrefSelectedSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/60\", \"mailtemplate\": {\"idMailTemplate\": \"24\", \"name\": \"Prueba\"}, \"hrefSelectedMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate\\/edit\\/24\", \"mailcategory\": {\"name\": \"Musica\", \"idMailCategory\": \"5\", \"description\": null, \"deleted\": \"0\"}, \"senderName\": {\"idNameSender\": \"28\", \"name\": \"Pablo\"}, \"senderEmail\": {\"idEmailsender\": \"18\", \"email\": \"kevin@roldan1.com\"}, \"subject\": \"yguj\", \"error\": false}}, {\"name\": \"Accion\", \"id\": 14, \"x\": 175, \"y\": 351, \"width\": 100, \"theme\": \"operator\", \"method\": \"actions\", \"image\": \"http:\\/\\/localhost\\/\\/aio\\/images\\/automatic\\/accion-01.jpg\", \"templatepopover\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popoveraction\", \"inputConnectors\": [{\"name\": \"\"}], \"outputConnectors\": [{\"name\": \"\"}, {\"name\": \"\"}], \"sendData\": {\"selectAction\": {\"id\": 6, \"name\": \"Respuesta\"}, \"time\": {\"id\": 1, \"name\": \"1\"}, \"timetwo\": {\"id\": 2, \"name\": \"Hora(s)\"}, \"quest\": {\"idQuestion\": \"1497027528226\", \"question\": \"animal favorito\"}, \"condition\": {\"id\": 1, \"name\": \"Igual a\"}, \"answer\": {\"idAnswer\": 1129, \"answer\": \"gato\"}, \"text\": \"Respuesta 1 Hora(s) Despu\\u00e9s.\", \"textTitle\": \"Tiempo Programado\"}, \"element\": {\"0\": {\"jQuery111204709562130347751\": 2553}, \"context\": {\"jQuery111204709562130347751\": 2553}, \"length\": 1}, \"showPopover\": false, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"selectAction\": {\"id\": 6, \"name\": \"Respuesta\"}, \"time\": {\"id\": 1, \"name\": \"1\"}, \"timetwo\": {\"id\": 2, \"name\": \"Hora(s)\"}, \"quest\": {\"idQuestion\": \"1497027528226\", \"question\": \"animal favorito\"}, \"condition\": {\"id\": 1, \"name\": \"Igual a\"}, \"answer\": {\"idAnswer\": 1129, \"answer\": \"gato\"}, \"error\": false}}, {\"name\": \"Sms\", \"id\": 15, \"x\": 648, \"y\": 429, \"width\": 100, \"theme\": \"service\", \"method\": \"sms\", \"image\": \"http:\\/\\/localhost\\/\\/aio\\/images\\/automatic\\/SMSA-01.jpg\", \"templatepopover\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popoversms\", \"inputConnectors\": [{\"name\": \"\"}], \"outputConnectors\": [{\"name\": \"\"}], \"sendData\": {\"smstemplate\": {\"idSmsTemplate\": \"23\", \"idSmsTemplateCategory\": \"27\", \"idAccount\": \"32\", \"name\": \"Sms Con Campos Personalizados\", \"content\": \"Hola %%NOMBRE%% %%APELLIDO%% se le informa que se acabo la campana automatica, gracias por participar.%%EDAD%%\", \"created\": \"2017-01-06\", \"updated\": \"2017-01-20\", \"createdBy\": \"kevin.ramirez@sigmamovil.com\", \"updatedBy\": \"kevin.ramirez@sigmamovil.com\"}, \"smscategory\": {\"idSmsCategory\": \"32\", \"idAccount\": \"32\", \"name\": \"Xz<z\", \"description\": \"<zx<<x\", \"createdBy\": \"kevin.ramirez@sigmamovil.com\", \"updatedBy\": \"kevin.ramirez@sigmamovil.com\"}, \"text\": \"Categoria:Xz<z\", \"textTitle\": \"Sms Con Campos Personalizados\"}, \"element\": {\"0\": {\"jQuery111204709562130347751\": 3348}, \"context\": {\"jQuery111204709562130347751\": 3348}, \"length\": 1}, \"showPopover\": false, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"smstemplate\": {\"idSmsTemplate\": \"23\", \"idSmsTemplateCategory\": \"27\", \"idAccount\": \"32\", \"name\": \"Sms Con Campos Personalizados\", \"content\": \"Hola %%NOMBRE%% %%APELLIDO%% se le informa que se acabo la campana automatica, gracias por participar.%%EDAD%%\", \"created\": \"2017-01-06\", \"updated\": \"2017-01-20\", \"createdBy\": \"kevin.ramirez@sigmamovil.com\", \"updatedBy\": \"kevin.ramirez@sigmamovil.com\"}, \"flagSelected\": true, \"hrefSelectedSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/edit\\/23\", \"smscategory\": {\"idSmsCategory\": \"32\", \"idAccount\": \"32\", \"name\": \"Xz<z\", \"description\": \"<zx<<x\", \"createdBy\": \"kevin.ramirez@sigmamovil.com\", \"updatedBy\": \"kevin.ramirez@sigmamovil.com\"}, \"error\": false}}, {\"name\": \"Sms\", \"id\": 16, \"x\": 275, \"y\": 540, \"width\": 100, \"theme\": \"service\", \"method\": \"sms\", \"image\": \"http:\\/\\/localhost\\/\\/aio\\/images\\/automatic\\/SMSA-01.jpg\", \"templatepopover\": \"http:\\/\\/localhost\\/\\/aio\\/flowchart\\/popoversms\", \"inputConnectors\": [{\"name\": \"\"}], \"outputConnectors\": [{\"name\": \"\"}], \"sendData\": {\"smstemplate\": {\"idSmsTemplate\": \"23\", \"idSmsTemplateCategory\": \"27\", \"idAccount\": \"32\", \"name\": \"Sms Con Campos Personalizados\", \"content\": \"Hola %%NOMBRE%% %%APELLIDO%% se le informa que se acabo la campana automatica, gracias por participar.%%EDAD%%\", \"created\": \"2017-01-06\", \"updated\": \"2017-01-20\", \"createdBy\": \"kevin.ramirez@sigmamovil.com\", \"updatedBy\": \"kevin.ramirez@sigmamovil.com\"}, \"smscategory\": {\"idSmsCategory\": \"33\", \"idAccount\": \"32\", \"name\": \"Hola Mund\", \"description\": \"Sin descripci\\u00f3n\", \"createdBy\": \"ricardo.mayorga@sigmamovil.com\", \"updatedBy\": \"ricardo.mayorga@sigmamovil.com\"}, \"text\": \"Categoria:Hola Mund\", \"textTitle\": \"Sms Con Campos Personalizados\"}, \"element\": {\"0\": {\"jQuery111204709562130347751\": 3236}, \"context\": {\"jQuery111204709562130347751\": 3236}, \"length\": 1}, \"showPopover\": false, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"smstemplate\": {\"idSmsTemplate\": \"23\", \"idSmsTemplateCategory\": \"27\", \"idAccount\": \"32\", \"name\": \"Sms Con Campos Personalizados\", \"content\": \"Hola %%NOMBRE%% %%APELLIDO%% se le informa que se acabo la campana automatica, gracias por participar.%%EDAD%%\", \"created\": \"2017-01-06\", \"updated\": \"2017-01-20\", \"createdBy\": \"kevin.ramirez@sigmamovil.com\", \"updatedBy\": \"kevin.ramirez@sigmamovil.com\"}, \"flagSelected\": true, \"hrefSelectedSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/edit\\/23\", \"smscategory\": {\"idSmsCategory\": \"33\", \"idAccount\": \"32\", \"name\": \"Hola Mund\", \"description\": \"Sin descripci\\u00f3n\", \"createdBy\": \"ricardo.mayorga@sigmamovil.com\", \"updatedBy\": \"ricardo.mayorga@sigmamovil.com\"}, \"error\": false}}], \"connections\": [{\"source\": {\"nodeID\": 0, \"connectorIndex\": 0}, \"dest\": {\"nodeID\": 10, \"connectorIndex\": 0}, \"class\": null, \"sendData\": {}, \"dataForm\": {}}, {\"source\": {\"nodeID\": 10, \"connectorIndex\": 0}, \"dest\": {\"nodeID\": 11, \"connectorIndex\": 0}, \"class\": null, \"sendData\": {}, \"dataForm\": {}}, {\"source\": {\"nodeID\": 11, \"connectorIndex\": 0}, \"dest\": {\"nodeID\": 13, \"connectorIndex\": 0}, \"class\": null, \"sendData\": {}, \"dataForm\": {}}, {\"source\": {\"nodeID\": 13, \"connectorIndex\": 0}, \"dest\": {\"nodeID\": 14, \"connectorIndex\": 0}, \"class\": null, \"sendData\": {}, \"dataForm\": {}}, {\"source\": {\"nodeID\": 14, \"connectorIndex\": 1}, \"dest\": {\"nodeID\": 15, \"connectorIndex\": 0}, \"class\": \"success\", \"sendData\": {}, \"dataForm\": {}}, {\"source\": {\"nodeID\": 14, \"connectorIndex\": 0}, \"dest\": {\"nodeID\": 16, \"connectorIndex\": 0}, \"class\": \"negation\", \"sendData\": {\"selectAction\": {\"id\": 6, \"name\": \"Respuesta\"}, \"time\": {\"id\": 1, \"name\": \"1\"}, \"timetwo\": {\"id\": 2, \"name\": \"Hora(s)\"}, \"quest\": {\"idQuestion\": \"1497027528226\", \"question\": \"animal favorito\"}, \"condition\": {\"id\": 1, \"name\": \"Igual a\"}, \"answer\": {\"idAnswer\": 1129, \"answer\": \"gato\"}, \"text\": \"1 Hora(s)Despu\\u00e9s.\", \"textTitle\": \"Tiempo Programado\"}, \"dataForm\": {\"hrefCreateMail\": \"http:\\/\\/localhost\\/\\/aio\\/mailtemplate#\\/create\", \"hrefCreateSms\": \"http:\\/\\/localhost\\/\\/aio\\/smstemplate#\\/create\", \"hrefCreateSurvey\": \"http:\\/\\/localhost\\/\\/aio\\/survey\\/create#\\/basicinformation\\/\", \"selectAction\": {\"id\": 6, \"name\": \"Respuesta\"}, \"time\": {\"id\": 1, \"name\": \"1\"}, \"timetwo\": {\"id\": 2, \"name\": \"Hora(s)\"}, \"quest\": {\"idQuestion\": \"1497027528226\", \"question\": \"animal favorito\"}, \"condition\": {\"id\": 1, \"name\": \"Igual a\"}, \"answer\": {\"idAnswer\": 1129, \"answer\": \"gato\"}, \"error\": false}}]});\r\n\r\n              if ($stateParams.id) {\r\n                $scope.idAutomaticcampaign = $stateParams.id;\r\n              } else {\r\n                notificationService.error(\"Por favor revise la informacion enviada\");\r\n              }\r\n              $scope.getAllconfiguration = function () {\r\n                statisticService.getAllIconfiguration($scope.idAutomaticcampaign).then(function (data) {\r\n                  $scope.chartViewModel = new flowchart.ChartViewModel(data);\r\n\r\n                });\r\n              };\r\n              $scope.getAllconfiguration();\r\n            }])\r\n          .controller('smstwowaycontroller', ['$scope', 'statisticService', \"$stateParams\", \"notificationService\", '$q', '$ocLazyLoad', '$compile', 'constantStatistic', function ($scope, statisticService, $stateParams, notificationService, $q, $ocLazyLoad, $compile, constantStatistic) {\r\n\r\n              $scope.title = constantStatistic.Titles.statisSmstwoway;\r\n\r\n              $ocLazyLoad.load([\r\n                'library/drilldown/highstock.src.min.js',\r\n                'library/highstock/highcharts-ng.js',\r\n              ]).then(function () {\r\n                if (typeof Highcharts != \"undefined\") {\r\n                  $ocLazyLoad.load([\r\n                    'library/drilldown/drilldown.js',\r\n                  ]).then(function () {\r\n                    var el, elToAppend;\r\n                    elToAppend = $compile('<highchart  config=\"misc.chartConfig\"  style=\"min-width: 100%;  margin: 0 auto\" ></highchart>')($scope);\r\n                    el = angular.element('#highchart');\r\n                    el.append(elToAppend);\r\n                  });\r\n                }\r\n              }, function (e) {\r\n                console.log('errr');\r\n                console.error(e);\r\n              });\r\n              //Data\r\n              $scope.data = {};\r\n              $scope.data.initial = 0;\r\n              $scope.data.page = 1;\r\n              $scope.data.filter = \"\";\r\n              //Misc\r\n              $scope.misc = {};\r\n\r\n              //Services peticion Initial\r\n              $scope.misc.arrSerInitial = [statisticService.getDetailSmsTwoWay, statisticService.getAllSmsTwoway];\r\n\r\n              if ($stateParams.id != \"\" && typeof $stateParams.id != \"undefined\") {\r\n                $scope.data.idSmsTwoway = $stateParams.id;\r\n              }\r\n\r\n              // function universal\r\n              $scope.functions = {\r\n                initial: function () {\r\n                  $scope.functions.showModalLoading();\r\n                  $scope.funRestServices.getListPage();\r\n                  $scope.funRestServices.getInfoPage();\r\n                  $scope.funRestServices.getDetailSms();\r\n                },\r\n                setDetail: function (data) {\r\n                  $scope.data.detail = data;\r\n                },\r\n                setList: function (data) {\r\n                  //console.log(data);\r\n                  $scope.data.list = data;\r\n                }, \r\n                setHighChart: function () {\r\n                  var arrStatitics = [];\r\n                  angular.forEach($scope.data.detail, function (value, key) {\r\n                    if (value.userResponseGroup == null) {\r\n                      value.userResponseGroup = \"Sin responder\"\r\n                    }\r\n                    var arrFor = [value.userResponseGroup, parseInt(value.count)];\r\n                    arrStatitics.push(arrFor);\r\n                  });\r\n                  //console.log(arrStatitics);\r\n                  $scope.misc.chartConfig = {\r\n                    options: {\r\n                      chart: {\r\n                        type: 'pie'\r\n                      },\r\n                      tooltip: {\r\n                        formatter: function () {\r\n                          return '<b>Cantidad Total:</b>' + this.total + '<br><b>Cantidad Grupo:</b>' + this.y + '<br><b>' + this.point.name + '</b>: ' + (this.y / this.total * 100) + ' %';\r\n                        }\r\n                      }\r\n                    },\r\n                    series: [{\r\n                        data: arrStatitics,\r\n                        innerSize: '70%',\r\n                        showInLegend: true,\r\n                        dataLabels: {\r\n                          enabled: false\r\n                        }\r\n                      }],\r\n                    title: {\r\n                      text: 'Estadisticas'\r\n                    },\r\n                    loading: false\r\n                  };\r\n                }, \r\n                setSms: function (data) {\r\n                  $scope.data.sms = data;\r\n                },\r\n                forward: function () {\r\n                  $scope.data.initial += 1;\r\n                  $scope.data.page += 1;\r\n                  $scope.funRestServices.getListPage();\r\n                },\r\n                fastforward: function () {\r\n                  $scope.data.initial = ($scope.data.list.detail.total_pages - 1);\r\n                  $scope.data.page = $scope.data.list.detail.total_pages;\r\n                  $scope.funRestServices.getListPage();\r\n                },\r\n                backward: function () {\r\n                  $scope.data.initial -= 1;\r\n                  $scope.data.page -= 1;\r\n                  $scope.funRestServices.getListPage();\r\n                },\r\n                fastbackward: function () {\r\n                  $scope.data.initial = 0;\r\n                  $scope.data.page = 1;\r\n                  $scope.funRestServices.getListPage();\r\n                },\r\n                traslateStatus: function (status) {\r\n                  var string = \"\";\r\n                  switch (status) {\r\n                    case \"sent\":\r\n                      string = \"Enviado\";\r\n                      break;\r\n                    case \"undelivered\":\r\n                      string = \"No enviado\";\r\n                      break;\r\n                  }\r\n                  return string;\r\n                },\r\n                showModalLoading: function () {\r\n                \r\n                },\r\n                hideModalLoading: function () {\r\n\r\n                },\r\n                search: function (data) {\r\n                  $scope.funRestServices.getListPage();\r\n                }\r\n              };\r\n\r\n              // function restServices\r\n              $scope.funRestServices = {\r\n                getListPage: function () {\r\n                  statisticService.getAllSmsTwoway($scope.data.idSmsTwoway, $scope.data.initial, $scope.data.filter).then(function (data) {\r\n                    $scope.functions.setList(data);\r\n                  });\r\n                },\r\n                getInfoPage: function () {\r\n                  statisticService.getDetailSmsTwoWay($scope.data.idSmsTwoway).then(function (data) {\r\n                    $scope.functions.setDetail(data);\r\n                    $scope.functions.setHighChart(data);\r\n                  });\r\n                },\r\n                getDetailSms: function () {\r\n                  statisticService.getSmsTwoWay($scope.data.idSmsTwoway).then(function (data) {\r\n                    $scope.functions.setSms(data);\r\n                  });\r\n                },\r\n                reportSms: function () {\r\n                  statisticService.reportStaticsSmsTwoWay($scope.data.idSmsTwoway, $scope.title).then(function () {\r\n                    var url = fullUrlBase + 'statistic/downloadexcel/' + $scope.title;\r\n                    location.href = url;\r\n                  });\r\n                }\r\n              };\r\n\r\n              $scope.functions.initial();\r\n\r\n\r\n            }]);\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3N0YXRpc3RpYy9jb250cm9sbGVycy5qcz82NmE0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHNCQUFzQixHQUFHLG9CQUFvQixHQUFHLG9CQUFvQjtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzQkFBc0I7QUFDM0UscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNCQUFzQjtBQUMzRSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msc0JBQXNCLEdBQUcsb0JBQW9CLEdBQUcsb0JBQW9CO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7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Q2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUEsaUJBQWlCO0FBQ2pCOztBQUVBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBOztBQUVBOzs7QUFHQSxhQUFhO0FBQ2IsQ0FBQyIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICBhbmd1bGFyLm1vZHVsZSgnc3RhdGlzdGljLmNvbnRyb2xsZXJzJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignbWFpbGNvbnRyb2xsZXInLCBbJyRzY29wZScsICdzdGF0aXN0aWNTZXJ2aWNlJywgXCIkc3RhdGVQYXJhbXNcIiwgXCJub3RpZmljYXRpb25TZXJ2aWNlXCIsIFwiJGxvY2F0aW9uXCIsIFwiJGFuY2hvclNjcm9sbFwiLCAnJG9jTGF6eUxvYWQnLCAnJGNvbXBpbGUnLCAnY29uc3RhbnRTdGF0aXN0aWMnLCBmdW5jdGlvbiAoJHNjb3BlLCBzdGF0aXN0aWNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsIG5vdGlmaWNhdGlvblNlcnZpY2UsICRsb2NhdGlvbiwgJGFuY2hvclNjcm9sbCwgJG9jTGF6eUxvYWQsICRjb21waWxlLCBjb25zdGFudFN0YXRpc3RpYykge1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUudGl0bGUgPSBjb25zdGFudFN0YXRpc3RpYy5UaXRsZXMuc3RhdGlzTWFpbDtcclxuICAgICAgICAgICAgICAkb2NMYXp5TG9hZC5sb2FkKFtcclxuICAgICAgICAgICAgICAgICdsaWJyYXJ5L2hpZ2hzdG9jay9oaWdoY2hhcnRzLW5nLmpzJyxcclxuICAgICAgICAgICAgICAgICdsaWJyYXJ5L2RyaWxsZG93bi9oaWdoc3RvY2suc3JjLm1pbi5qcycsXHJcbiAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIEhpZ2hjaGFydHMgIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAkb2NMYXp5TG9hZC5sb2FkKFtcclxuICAgICAgICAgICAgICAgICAgICAnbGlicmFyeS9kcmlsbGRvd24vZHJpbGxkb3duLmpzJyxcclxuICAgICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSAnPGhpZ2hjaGFydCBjb25maWc9XCJjaGFydENvbmZpZ1wiICBzdHlsZT1cIm1pbi13aWR0aDogMTAwJTsgIG1hcmdpbjogMCBhdXRvXCIgPjwvaGlnaGNoYXJ0Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsVG9BcHBlbmRPcGVuID0gJGNvbXBpbGUodGV4dCkoJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxUb0FwcGVuZENsaWMgPSAkY29tcGlsZSh0ZXh0KSgkc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbFRvQXBwZW5kVW5zdXMgPSAkY29tcGlsZSh0ZXh0KSgkc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbFRvQXBwZW5kQm91biA9ICRjb21waWxlKHRleHQpKCRzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsVG9BcHBlbmRTcGFtID0gJGNvbXBpbGUodGV4dCkoJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxUb0FwcGVuZEJ1em9uID0gJGNvbXBpbGUodGV4dCkoJHNjb3BlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2hpZ2hjaGFydE9wZW4nKS5hcHBlbmQoZWxUb0FwcGVuZE9wZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNoaWdoY2hhcnRDbGljJykuYXBwZW5kKGVsVG9BcHBlbmRDbGljKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjaGlnaGNoYXJ0VW5zdXNjcmliZScpLmFwcGVuZChlbFRvQXBwZW5kVW5zdXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNoaWdoY2hhcnRCb3VuY2VkJykuYXBwZW5kKGVsVG9BcHBlbmRCb3VuKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjaGlnaGNoYXJ0U3BhbScpLmFwcGVuZChlbFRvQXBwZW5kU3BhbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2hpZ2hjaGFydEJ1em9uJykuYXBwZW5kKGVsVG9BcHBlbmRCdXpvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcGVuaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJycicpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29PcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuaW5nKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29DbGljID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2NsaWMnKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jbGljKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29VbnN1c2NyaWJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ3Vuc3VzY3JpYmUnKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS51bnN1c2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29Cb3VuY2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdW5jZWQnKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ib3VuY2VkKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29TcGFtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ3NwYW0nKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zcGFtKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29CdXpvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5oYXNoKCdidXpvbicpO1xyXG4gICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJ1em9uKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUucHJldmlld21haWx0ZW1wY29udCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5wcmV2aWV3TWFpbFRlbXBsYXRlQ29udGVudChpZCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgZSA9IGRhdGEudGVtcGxhdGU7XHJcbiAgICAgICAgICAgICAgICAgICQoJyNjb250ZW50LXByZXZpZXcnKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAkKCc8aWZyYW1lIGZyYW1lYm9yZGVyPVwiMFwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIi8+JykuYXBwZW5kVG8oJyNjb250ZW50LXByZXZpZXcnKS5jb250ZW50cygpLmZpbmQoJ2JvZHknKS5hcHBlbmQoZSk7XHJcbiAgICAgICAgICAgICAgICAgICQoJyNteU1vZGFsJykubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydENsaWMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm91dGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZWxlY3RPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJvdXRlID0gXCJvcGVuXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5zZWxlY3RDbGljKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJvdXRlID0gXCJjbGljXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5zZWxlY3RVbnN1c2NyaWJlZCkge1xyXG4gICAgICAgICAgICAgICAgICByb3V0ZSA9IFwidW5zdXNjcmliZVwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0Qm91bmNlZCkge1xyXG4gICAgICAgICAgICAgICAgICByb3V0ZSA9IFwiYm91bmNlZFwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0U3BhbSkge1xyXG4gICAgICAgICAgICAgICAgICByb3V0ZSA9IFwic3BhbVwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0QnV6b24pIHtcclxuICAgICAgICAgICAgICAgICAgcm91dGUgPSBcImJ1em9uXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5yZXBvcnRTdGF0aWNzKCRzY29wZS5pZE1haWwsIHJvdXRlLCAkc2NvcGUudGl0bGUpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnc3RhdGlzdGljL2Rvd25sb2FkZXhjZWwvJyArICRzY29wZS50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0Q29uZmlnID0ge307XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlciA9IHt9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5maWx0ZXIuc2VsZWN0ZWQgPSAtMTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyLnNlbGVjdGVkID0gW107XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKCRzY29wZS5maWx0ZXIuc2V0dmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcInR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyLmZpbHRlcnMgPSBbe2lkOiAtMSwgbmFtZTogXCJUb2Rvc1wifSwge2lkOiAxLCBuYW1lOiBcIlNvZnRcIn0sIHtpZDogMiwgbmFtZTogXCJIYXJkXCJ9XTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcImNhdGVnb3J5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRBbGxDYXRlZ29yeUJvdW5jZWQoJHNjb3BlLmlkTWFpbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlci5maWx0ZXJzID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXIuZmlsdGVycy51bnNoaWZ0KHtpZDogLTEsIG5hbWU6IFwiVG9kb3NcIn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZG9tYWluXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRBbGxEb21haW4oJHNjb3BlLmlkTWFpbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlci5maWx0ZXJzID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXIuZmlsdGVycy51bnNoaWZ0KHtpZDogLTEsIG5hbWU6IFwiVG9kb3NcIn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlci5zZXR2YWx1ZSA9IFwidHlwZVwiO1xyXG4gICAgICAgICAgICAgICRzY29wZS5maWx0ZXIuZmlsdGVycyA9IFt7aWQ6IC0xLCBuYW1lOiBcIlRvZG9zXCJ9LCB7aWQ6IDEsIG5hbWU6IFwic29mdFwifSwge2lkOiAyLCBuYW1lOiBcImhhcmRcIn1dO1xyXG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdENsaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0VW5zdXNjcmliZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Qm91bmNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RTcGFtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEJ1em9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgPSAwO1xyXG4gICAgICAgICAgICAgICRzY29wZS5wYWdlID0gMTtcclxuICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbENsaWMgPSAwO1xyXG4gICAgICAgICAgICAgICRzY29wZS5wYWdlQ2xpYyA9IDE7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZvcndhcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJ1ZWJhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsICs9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5mYXN0Zm9yd2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsID0gKCRzY29wZS5ncmFwaC5pbmZvWzFdLnRvdGFsX3BhZ2VzIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9ICRzY29wZS5ncmFwaC5pbmZvWzFdLnRvdGFsX3BhZ2VzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5iYWNrd2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsIC09IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5mYXN0YmFja3dhcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZvcndhcmRDbGljID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBydWViYSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbENsaWMgKz0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlQ2xpYyArPSAxO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluZm9EYXRhQ2xpYygpO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZhc3Rmb3J3YXJkQ2xpYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsQ2xpYyA9ICgkc2NvcGUuZ3JhcGguaW5mb1sxXS50b3RhbF9wYWdlcyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VDbGljID0gJHNjb3BlLmdyYXBoLmluZm9bMV0udG90YWxfcGFnZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5mb0RhdGFDbGljKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuYmFja3dhcmRDbGljID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWxDbGljIC09IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZUNsaWMgLT0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbmZvRGF0YUNsaWMoKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5mYXN0YmFja3dhcmRDbGljID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWxDbGljID0gMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlQ2xpYyA9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5mb0RhdGFDbGljKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaWRNYWlsID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKFwiUG9yIGZhdm9yIHJldmlzZSBsYSBpbmZvcm1hY2lvbiBlbnZpYWRhXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UuZ2V0QWxsSW5mb01haWwoJHNjb3BlLmlkTWFpbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhY3RpY3MgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICBpZigkc2NvcGUuc3RhY3RpY3MubWFpbC5yZXBseXRvID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub3RBc3NpZ25lZCA9IFwiTm8gYXNpZ25hZG9cIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhY3RpY3MubWFpbC5yZXBseXRvID0gbm90QXNzaWduZWQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbiAodG90YWwsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG90YWwgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByZXMgPSAodmFsdWUgLyB0b3RhbCkgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzICUgMSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuY2xpYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsID0gMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlID0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Q2xpYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0VW5zdXNjcmliZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RCb3VuY2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0U3BhbSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEJ1em9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IFwiY29sdW1uXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGggPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydENvbmZpZyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5pbmZvQ2xpYygkc2NvcGUuaWRNYWlsKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaE9wZW4odHlwZSwgXCIjMDA5ZmIyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5mb0RhdGFDbGljKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUudW5zdXNjcmliZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsID0gMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlID0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Q2xpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdFVuc3VzY3JpYmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RCb3VuY2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0U3BhbSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEJ1em9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IFwiY29sdW1uXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGggPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydENvbmZpZyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5pbmZvVW5zdXNjcmliZWQoJHNjb3BlLmlkTWFpbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGggPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGhPcGVuKHR5cGUsIFwiIzc3N1wiKTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnNwYW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0T3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdENsaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RVbnN1c2NyaWJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEJvdW5jZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RTcGFtID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RCdXpvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBcImNvbHVtblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7fTtcclxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UuaW5mb1NwYW0oJHNjb3BlLmlkTWFpbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGggPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGhPcGVuKHR5cGUsIFwiI2ZmMjQwMFwiKTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmJvdW5jZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0T3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdENsaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RVbnN1c2NyaWJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEJvdW5jZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdFNwYW0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RCdXpvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBcInBpZVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7fTtcclxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UuaW5mb0JvdW5jZWQoJHNjb3BlLmlkTWFpbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGhQaWUgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnRUb3RhbCA9IHBhcnNlSW50KCRzY29wZS5ncmFwaFBpZVswXS5oYXJkKSArIHBhcnNlSW50KCRzY29wZS5ncmFwaFBpZVswXS5zb2Z0KTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3BlblBpZSh0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm9wZW5pbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0T3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Q2xpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdFVuc3VzY3JpYmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Qm91bmNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdFNwYW0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RCdXpvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBcImNvbHVtblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7fTtcclxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UuaW5mb09wZW4oJHNjb3BlLmlkTWFpbCwgJHNjb3BlLmluaXRpYWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3Blbih0eXBlLCBcIiMwMGMxYTVcIik7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5nZXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5idXpvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsID0gMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlID0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Q2xpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdFVuc3VzY3JpYmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0Qm91bmNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdFNwYW0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RCdXpvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IFwiY29sdW1uXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGggPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydENvbmZpZyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5pbmZvQnV6b24oJHNjb3BlLmlkTWFpbCwgJHNjb3BlLmluaXRpYWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3Blbih0eXBlLCBcIiNiNzAwYzFcIik7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5nZXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5pbmZvRGF0YUNsaWMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmluZm9DbGljRGV0YWlsKCRzY29wZS5pZE1haWwsICRzY29wZS5pbml0aWFsQ2xpYywgJHNjb3BlLmZpbHRlci5saW5rKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5pbmZvbGluayA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5nZXREYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgcm91dGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZWxlY3RPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJvdXRlID0gXCJvcGVuXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5zZWxlY3RDbGljKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJvdXRlID0gXCJjbGljXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5zZWxlY3RVbnN1c2NyaWJlZCkge1xyXG4gICAgICAgICAgICAgICAgICByb3V0ZSA9IFwidW5zdXNjcmliZVwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0Qm91bmNlZCkge1xyXG4gICAgICAgICAgICAgICAgICByb3V0ZSA9IFwiYm91bmNlZFwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0U3BhbSkge1xyXG4gICAgICAgICAgICAgICAgICByb3V0ZSA9IFwic3BhbVwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2VsZWN0QnV6b24pIHtcclxuICAgICAgICAgICAgICAgICAgcm91dGUgPSBcImJ1em9uXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmRhdGFJbmZvKCRzY29wZS5pZE1haWwsICRzY29wZS5pbml0aWFsLCByb3V0ZSwgJHNjb3BlLmZpbHRlci5zZWxlY3RlZCwgJHNjb3BlLmZpbHRlci5zZXR2YWx1ZSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGggPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGhPcGVuUGllID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB3ZWVrID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNlcmllczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTZWxlY3Rvcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHBsb3RPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41XHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNraW5nOiAnbm9ybWFsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIGFyZWE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tpbmc6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB4QXhpczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHlBeGlzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICB7Ly8gUHJpbWFyeSB5QXhpc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93RGVjaW1hbHM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM4MGEzY2EnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7dmFsdWV9JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjODBhM2NhJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZ2VuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnICdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWRpdHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjcm9zc2hhaXJzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXNoU3R5bGU6ICdkYXNoJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM4OTg5ODknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXNoU3R5bGU6ICdkYXNoJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyM4OTg5ODknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIF1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBzZXJpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkNhbnRpZGFkXCIsXHJcbi8vICAgICAgICAgICAgICAgIGNvbG9yQnlQb2ludDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZjZlMDBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlYm90ZXMgZHVyb3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk6ICRzY29wZS5ncmFwaFBpZVswXS5oYXJkfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmMjhkNDFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlYm90ZXMgc3VhdmVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAkc2NvcGUuZ3JhcGhQaWVbMF0uc29mdH1cclxuICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ3JhcGhPcGVuID0gZnVuY3Rpb24gKHR5cGUsIGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2VlayA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50VG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmFwaC5zdGF0aWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZ3JhcGguc3RhdGljcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrLnB1c2goe2RyaWxsZG93bjogdmFsdWUud2Vlay53ZWVrLCBuYW1lOiB2YWx1ZS53ZWVrLmludGVydmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgeTogcGFyc2VJbnQodmFsdWUud2Vlay5jb3VudCl9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHAgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnRUb3RhbCA9IChwYXJzZUludCh2YWx1ZS53ZWVrLmNvdW50KSArIHBhcnNlSW50KCRzY29wZS5jb3VudFRvdGFsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlLndlZWsuZGF5LCBmdW5jdGlvbiAodmFsdWUyLCBrZXkyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwcC5wdXNoKHtuYW1lOiB2YWx1ZTIuaW50ZXJ2YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHBhcnNlSW50KHZhbHVlMi5jb3VudCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyaWxsZG93bjogdmFsdWUyLmludGVydmFsfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaG91ciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlMi5ob3VyLCBmdW5jdGlvbiAodmFsdWUzLCBrZXkzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc2FzID0gW3ZhbHVlMy5pbnRlcnZhbCwgcGFyc2VJbnQodmFsdWUzLmNvdW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIucHVzaChhc2FzKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXkucHVzaCh7aWQ6IHZhbHVlMi5pbnRlcnZhbCwgbmFtZTogXCJIb3JhKHMpXCIsIGRhdGE6IGhvdXJ9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGRheS5wdXNoKHtpZDogdmFsdWUud2Vlay53ZWVrLCBuYW1lOiBcIkRpYShzKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHB9KTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydENvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBkcmlsbGRvd246IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogZGF5XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB4QXhpczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NhdGVnb3J5J1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNlcmllczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogJyAnXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjcmVkaXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgc2VyaWVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NlbWFuYShzKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB3ZWVrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB9XSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdub2RvJywgWyckc2NvcGUnLCAnc3RhdGlzdGljU2VydmljZScsIFwiJHN0YXRlUGFyYW1zXCIsIFwibm90aWZpY2F0aW9uU2VydmljZVwiLCBcIiRsb2NhdGlvblwiLCBcIiRhbmNob3JTY3JvbGxcIiwgJyRvY0xhenlMb2FkJywgJyRjb21waWxlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICgkc2NvcGUsIHN0YXRpc3RpY1NlcnZpY2UsICRzdGF0ZVBhcmFtcywgbm90aWZpY2F0aW9uU2VydmljZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsLCAkb2NMYXp5TG9hZCwgJGNvbXBpbGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgIC8vaGFjZXIgY29uc3VsdGEgZGUgbGEgY2FtcGHDg8KxYSBhdXRvbWF0aWNhIHBvciBlbCBub2RvXHJcbiAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRBdXRvbWF0aWNDYW1wYWlnbkJ5Tm9kZSgkc3RhdGVQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSByZXM7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCRzY29wZS5kYXRhWzBdLmlkTWFpbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFbMF0uaWRNYWlsVGVtcGxhdGUgIT0gbnVsbCAmJiBhbmd1bGFyLmlzRGVmaW5lZCgkc2NvcGUuZGF0YVswXS5pZE1haWxUZW1wbGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGF0YVswXS5pZFNtc1RlbXBsYXRlICE9IG51bGwgJiYgYW5ndWxhci5pc0RlZmluZWQoJHNjb3BlLmRhdGFbMF0uaWRTbXNUZW1wbGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLnVybCA9IGZ1bGxVcmxCYXNlICsgdGVtcGxhdGVCYXNlICsgJy9zbXMnO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZEhjaGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkb2NMYXp5TG9hZC5sb2FkKFtcclxuICAgICAgICAgICAgICAgICAgICAgICdsaWJyYXJ5L2RyaWxsZG93bi9oaWdoc3RvY2suc3JjLm1pbi5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAnbGlicmFyeS9oaWdoc3RvY2svaGlnaGNoYXJ0cy1uZy5qcycsXHJcbiAgICAgICAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwsIGVsVG9BcHBlbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbFRvQXBwZW5kID0gJGNvbXBpbGUoJzxoaWdoY2hhcnQgIGNvbmZpZz1cImNoYXJ0Q29uZmlnXCIgIHN0eWxlPVwibWluLXdpZHRoOiAxMDAlOyAgbWFyZ2luOiAwIGF1dG9cIiA+PC9oaWdoY2hhcnQ+JykoJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGVsID0gYW5ndWxhci5lbGVtZW50KCcjaGlnaGNoYXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmQoZWxUb0FwcGVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIC8vcGV0aWNpb24gYWwgc2VydmljZSBxdWUgdHJhZSBsYSBpbmZvcm1hY2lvbiBkZSBlc3RhZGlzdGljYSBkZSBzbXNcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS50cmFzbGF0ZVN0YXR1cyA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gXCJFbnZpYWRvXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVsaXZlcmVkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IFwiTm8gZW52aWFkb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmdldERldGFpbFNtcygkc2NvcGUuZGF0YVswXS5pZFNtcywgJHNjb3BlLmluaXRpYWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0c21zID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2FkSGNoYXJ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCRzY29wZS5saXN0c21zKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmdldEluZm9TdGF0aWN0aWNzU21zKCRzY29wZS5kYXRhWzBdLmlkU21zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZm9yd2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5mYXN0Zm9yd2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsID0gKCRzY29wZS5saXN0c21zLmRldGFpbFsxXS50b3RhbF9wYWdlcyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2UgPSAkc2NvcGUubGlzdHNtcy5kZXRhaWxbMV0udG90YWxfcGFnZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJhY2t3YXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZhc3RiYWNrd2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0U21zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5yZXBvcnRTdGF0aWNzU21zKCRzY29wZS5kYXRhWzBdLmlkU21zKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ3N0YXRpc3RpYy9kb3dubG9hZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zbXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc21zID0gcmVzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yczogWycjMDBCRjZGJywgJyMyRENDRDMnLCAnI0Y3OUYwRiddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8Yj5Ub3RhbCBTTVM6IDwvYj4nICsgcGFyc2VJbnQoJHNjb3BlLnNtcy5zZW50ICsgJHNjb3BlLnNtcy51bmRlbGl2ZXJlZCkgKyAnPGJyPjxiPkVudmlhZG9zOiA8L2I+JyArIHBhcnNlSW50KCRzY29wZS5zbXMuc2VudCkgKyAnPGJyPjxiPk5vIEVudmlhZG9zOiA8L2I+JyArIHBhcnNlSW50KCRzY29wZS5zbXMudW5kZWxpdmVyZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbW1wiRW52aWFkb3NcIiwgcGFyc2VJbnQoJHNjb3BlLnNtcy5zZW50KV0sIFtcIk5vIGVudmlhZG9zXCIsIHBhcnNlSW50KCRzY29wZS5zbXMudW5kZWxpdmVyZWQpXV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJTaXplOiAnNzAlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5MZWdlbmQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUxhYmVsczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VzdGFkaXN0aWNhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibGFjaycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIGxlZ2VuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxM3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignc21zY29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3N0YXRpc3RpY1NlcnZpY2UnLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIm5vdGlmaWNhdGlvblNlcnZpY2VcIiwgJyRvY0xhenlMb2FkJywgJyRjb21waWxlJywgJ2NvbnN0YW50U3RhdGlzdGljJywgZnVuY3Rpb24gKCRzY29wZSwgc3RhdGlzdGljU2VydmljZSwgJHN0YXRlUGFyYW1zLCBub3RpZmljYXRpb25TZXJ2aWNlLCAkb2NMYXp5TG9hZCwgJGNvbXBpbGUsIGNvbnN0YW50U3RhdGlzdGljKSB7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gY29uc3RhbnRTdGF0aXN0aWMuVGl0bGVzLnN0YXRpc1NtcztcclxuICAgICAgICAgICAgICAkc2NvcGUucGhvbmUgPVwiXCI7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZVBob25lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlU2VhcmNoID0ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVJbml0aWFsIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZUZpbmFsIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2ggOiBmYWxzZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkc2NvcGUubWlzYyA9IHtcclxuICAgICAgICAgICAgICAgIHRvdGFsTG90ZSA6IDAsXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc2JhcjogZmFsc2VcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgJG9jTGF6eUxvYWQubG9hZChbXHJcbiAgICAgICAgICAgICAgICAnbGlicmFyeS9kcmlsbGRvd24vaGlnaHN0b2NrLnNyYy5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgJ2xpYnJhcnkvaGlnaHN0b2NrL2hpZ2hjaGFydHMtbmcuanMnLFxyXG4gICAgICAgICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBIaWdoY2hhcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgJG9jTGF6eUxvYWQubG9hZChbXHJcbiAgICAgICAgICAgICAgICAgICAgJ2xpYnJhcnkvZHJpbGxkb3duL2RyaWxsZG93bi5qcycsXHJcbiAgICAgICAgICAgICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCwgZWxUb0FwcGVuZDtcclxuICAgICAgICAgICAgICAgICAgICBlbFRvQXBwZW5kID0gJGNvbXBpbGUoJzxoaWdoY2hhcnQgIGNvbmZpZz1cImNoYXJ0Q29uZmlnXCIgIHN0eWxlPVwibWluLXdpZHRoOiAxMDAlOyAgbWFyZ2luOiAwIGF1dG9cIiA+PC9oaWdoY2hhcnQ+JykoJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICBlbCA9IGFuZ3VsYXIuZWxlbWVudCgnI2hpZ2hjaGFydCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmFwcGVuZChlbFRvQXBwZW5kKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJycicpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHsgXHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmdldERldGFpbFNtcygkc2NvcGUuaWRTbXMsICRzY29wZS5pbml0aWFsLCAkc2NvcGUucGhvbmUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kZXRhaWxbMF0hPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5taXNjLnRvdGFsTG90ZSA9IGRhdGEuZGV0YWlsWzBdLmxlbmd0aDsgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUucGhvbmUgIT0gJycgJiYgJHNjb3BlLm1pc2MudG90YWxMb3RlID09IDAgJiYgJHNjb3BlLnZhbGlkYXRlU2VhcmNoLnNlYXJjaCA9PSB0cnVlKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZURhdGEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVQaG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQVFVSSAtMVwiLCRzY29wZS52YWxpZGF0ZVBob25lKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoJHNjb3BlLnBob25lICE9ICcnICYmICRzY29wZS5taXNjLnRvdGFsTG90ZSAhPSAwICYmICRzY29wZS52YWxpZGF0ZVNlYXJjaC5zZWFyY2ggPT0gdHJ1ZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVEYXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlUGhvbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUVVJIC0yXCIsJHNjb3BlLnZhbGlkYXRlRGF0YSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoICRzY29wZS5taXNjLnRvdGFsTG90ZSAhPSAwICYmICRzY29wZS5waG9uZSA9PSAnJyAmJiAkc2NvcGUudmFsaWRhdGVTZWFyY2guc2VhcmNoID09IGZhbHNlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVEYXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlUGhvbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUVVJIC0zXCIsJHNjb3BlLnZhbGlkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoICRzY29wZS5taXNjLnRvdGFsTG90ZSA9PSAwICYmICRzY29wZS5waG9uZSA9PSAnJyAmJiAkc2NvcGUudmFsaWRhdGVTZWFyY2guc2VhcmNoID09IGZhbHNlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVEYXRhID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZVBob25lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQVFVSSAtNFwiLCRzY29wZS52YWxpZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWlzYy5wcm9ncmVzc2JhciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxpc3RzbXMgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1pc2MucHJvZ3Jlc3NiYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZURhdGEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZVBob25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5mb3J3YXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgKz0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZhc3Rmb3J3YXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgPSAoJHNjb3BlLmxpc3RzbXMuZGV0YWlsWzFdLnRvdGFsX3BhZ2VzIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9ICRzY29wZS5saXN0c21zLmRldGFpbFsxXS50b3RhbF9wYWdlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuYmFja3dhcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2UgLT0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZmFzdGJhY2t3YXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2UgPSAxO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0U21zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5yZXBvcnRTdGF0aWNzU21zKCRzY29wZS5pZFNtcywgJHNjb3BlLnRpdGxlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ3N0YXRpc3RpYy9kb3dubG9hZGV4Y2VsLycgKyAkc2NvcGUudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICRzY29wZS5zZWFyY2hOdW1iZXIgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgICAgICAgICAgIGlmKHBhcmFtID09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5waG9uZSAhPSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0c21zLmRldGFpbFswXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZVNlYXJjaC5zZWFyY2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGF0YSgpOyAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVEYXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlUGhvbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxpc3RzbXMuZGV0YWlsWzBdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAocGFyYW0gPT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBob25lID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVTZWFyY2guc2VhcmNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldERhdGEoKTsgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5pbml0aWFsID0gMDtcclxuICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnRyYXNsYXRlU3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwic2VudFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IFwiRW52aWFkb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWxpdmVyZWRcIjpcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBcIk5vIGVudmlhZG9cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaWRTbXMgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoXCJQb3IgZmF2b3IgcmV2aXNlIGxhIGluZm9ybWFjaW9uIGVudmlhZGFcIik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICRzY29wZS5nZXREYXRhKCk7XHJcbiAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRJbmZvU21zKCRzY29wZS5pZFNtcykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy9FbiBjYXNvIGRlIHF1ZSBubyBleGlzdGFuIHJlZ2lzdHJvcyBlbiBsb3RlXHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLnNtcy50YXJnZXQ9PVwiXCJ8fGRhdGEuc21zLnRhcmdldD09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGEuc21zLnRhcmdldCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc21zID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydENvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yczogWycjMDBCRjZGJywgJyMyRENDRDMnLCAnI0Y3OUYwRiddLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGllJyxcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxiPlRvdGFsIFNNUzo8L2I+JyArIHBhcnNlSW50KCRzY29wZS5zbXMuc2VudCArICRzY29wZS5zbXMudW5kZWxpdmVyZWQpICsgJzxicj48Yj5FbnZpYWRvczo8L2I+JyArIHBhcnNlSW50KCRzY29wZS5zbXMuc2VudCkgKyAnPGJyPjxiPk5vIEVudmlhZG9zPC9iPicgKyBwYXJzZUludCgkc2NvcGUuc21zLnVuZGVsaXZlcmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIHNlcmllczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtbXCJFbnZpYWRvc1wiLCBwYXJzZUludCgkc2NvcGUuc21zLnNlbnQpXSwgW1wiTm8gZW52aWFkb3NcIiwgcGFyc2VJbnQoJHNjb3BlLnNtcy51bmRlbGl2ZXJlZCldXSxcclxuICAgICAgICAgICAgICAgICAgICAgIGlubmVyU2l6ZTogJzcwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzaG93SW5MZWdlbmQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhTGFiZWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VzdGFkaXN0aWNhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmxhY2snLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEzcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignc21zc2hhcmVjb250cm9sbGVyJywgWyckc2NvcGUnLCAnc3RhdGlzdGljU2VydmljZScsIFwiJHN0YXRlUGFyYW1zXCIsIFwibm90aWZpY2F0aW9uU2VydmljZVwiLCBmdW5jdGlvbiAoJHNjb3BlLCBzdGF0aXN0aWNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsIG5vdGlmaWNhdGlvblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydFNtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UucmVwb3J0U3RhdGljc1Ntcygkc2NvcGUuaWRTbXMpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnc3RhdGlzdGljL2Rvd25sb2FkJ1xyXG4gICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnBhZ2UgPSAxO1xyXG4gICAgICAgICAgICAgICRzY29wZS50cmFzbGF0ZVN0YXR1cyA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBcIkVudmlhZG9cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVsaXZlcmVkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gXCJObyBlbnZpYWRvXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGlkU21zKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaWRTbXMgPSBpZFNtcztcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihcIlBvciBmYXZvciByZXZpc2UgbGEgaW5mb3JtYWNpb24gZW52aWFkYVwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS50eXBlID09IFwiY29tcGxldGVcIikge1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXREZXRhaWxTbXMoJHNjb3BlLmlkU21zLCAkc2NvcGUuaW5pdGlhbCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdHNtcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRJbmZvU21zKCRzY29wZS5pZFNtcykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNtcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BpZSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIHNlcmllczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtbXCJFbnZpYWRvc1wiLCBwYXJzZUludCgkc2NvcGUuc21zLnNlbnQpXSwgW1wiTm8gZW52aWFkb3NcIiwgcGFyc2VJbnQoJHNjb3BlLnNtcy51bmRlbGl2ZXJlZCldXVxyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdFc3RhZGlzdGljYXMnXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdzaGFyZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICdzdGF0aXN0aWNTZXJ2aWNlJywgXCIkc3RhdGVQYXJhbXNcIiwgXCJub3RpZmljYXRpb25TZXJ2aWNlXCIsIFwiJGxvY2F0aW9uXCIsIFwiJGFuY2hvclNjcm9sbFwiLCAnJG9jTGF6eUxvYWQnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJHNjb3BlLCBzdGF0aXN0aWNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsIG5vdGlmaWNhdGlvblNlcnZpY2UsICRsb2NhdGlvbiwgJGFuY2hvclNjcm9sbCwgJG9jTGF6eUxvYWQsICRjb21waWxlKSB7XHJcblxyXG4gICAgICAgICAgICAgICRvY0xhenlMb2FkLmxvYWQoW1xyXG4gICAgICAgICAgICAgICAgZnVsbFVybEJhc2UgKyAnbGlicmFyeS9oaWdoc3RvY2svaGlnaGNoYXJ0cy1uZy5qcycsXHJcbiAgICAgICAgICAgICAgICBmdWxsVXJsQmFzZSArICdsaWJyYXJ5L2RyaWxsZG93bi9oaWdoc3RvY2suc3JjLm1pbi5qcycsXHJcbiAgICAgICAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIEhpZ2hjaGFydHMgIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAkb2NMYXp5TG9hZC5sb2FkKFtcclxuICAgICAgICAgICAgICAgICAgICBmdWxsVXJsQmFzZSArICdsaWJyYXJ5L2RyaWxsZG93bi9kcmlsbGRvd24uanMnLFxyXG4gICAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICc8aGlnaGNoYXJ0IGNvbmZpZz1cImNoYXJ0Q29uZmlnXCIgIHN0eWxlPVwibWluLXdpZHRoOiAxMDAlOyAgbWFyZ2luOiAwIGF1dG9cIiA+PC9oaWdoY2hhcnQ+JztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxUb0FwcGVuZE9wZW4gPSAkY29tcGlsZSh0ZXh0KSgkc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbFRvQXBwZW5kQ2xpYyA9ICRjb21waWxlKHRleHQpKCRzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsVG9BcHBlbmRVbnN1cyA9ICRjb21waWxlKHRleHQpKCRzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsVG9BcHBlbmRCb3VuID0gJGNvbXBpbGUodGV4dCkoJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxUb0FwcGVuZFNwYW0gPSAkY29tcGlsZSh0ZXh0KSgkc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbFRvQXBwZW5kQnV6b24gPSAkY29tcGlsZSh0ZXh0KSgkc2NvcGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjaGlnaGNoYXJ0T3BlbicpLmFwcGVuZChlbFRvQXBwZW5kT3Blbik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2hpZ2hjaGFydENsaWMnKS5hcHBlbmQoZWxUb0FwcGVuZENsaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNoaWdoY2hhcnRVbnN1c2NyaWJlJykuYXBwZW5kKGVsVG9BcHBlbmRVbnN1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2hpZ2hjaGFydEJvdW5jZWQnKS5hcHBlbmQoZWxUb0FwcGVuZEJvdW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNoaWdoY2hhcnRTcGFtJykuYXBwZW5kKGVsVG9BcHBlbmRTcGFtKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjaGlnaGNoYXJ0QnV6b24nKS5hcHBlbmQoZWxUb0FwcGVuZEJ1em9uKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5pbmcoKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJyJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuaWRNYWlsID0gaWRNYWlsO1xyXG4gICAgICAgICAgICAgICRzY29wZS50eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRBbGxJbmZvTWFpbCgkc2NvcGUuaWRNYWlsLCAkc2NvcGUudHlwZSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhY3RpY3MgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICBpZigkc2NvcGUuc3RhY3RpY3MubWFpbC5yZXBseXRvID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub3RBc3NpZ25lZCA9IFwiTm8gYXNpZ25hZG9cIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhY3RpY3MubWFpbC5yZXBseXRvID0gbm90QXNzaWduZWQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5vcGVuaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBcImNvbHVtblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7fTtcclxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UuaW5mb09wZW4oJHNjb3BlLmlkTWFpbCwgJHNjb3BlLmluaXRpYWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3Blbih0eXBlLCBcIiMwMGMxYTVcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuY2xpYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gXCJjb2x1bW5cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0Q29uZmlnID0ge307XHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmluZm9DbGljKCRzY29wZS5pZE1haWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3Blbih0eXBlLCBcIiMwMDlmYjJcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgJHNjb3BlLmluZm9EYXRhQ2xpYygpO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS51bnN1c2NyaWJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBcImNvbHVtblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSB7fTtcclxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UuaW5mb1Vuc3VzY3JpYmVkKCRzY29wZS5pZE1haWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3Blbih0eXBlLCBcIiM3NzdcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuYm91bmNlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gXCJwaWVcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0Q29uZmlnID0ge307XHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmluZm9Cb3VuY2VkKCRzY29wZS5pZE1haWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoUGllID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50VG90YWwgPSBwYXJzZUludCgkc2NvcGUuZ3JhcGhQaWVbMF0uaGFyZCkgKyBwYXJzZUludCgkc2NvcGUuZ3JhcGhQaWVbMF0uc29mdCk7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaE9wZW5QaWUodHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuc3BhbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gXCJjb2x1bW5cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0Q29uZmlnID0ge307XHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmluZm9TcGFtKCRzY29wZS5pZE1haWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3Blbih0eXBlLCBcIiNmZjI0MDBcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuZ29PcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuaW5nKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29DbGljID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2NsaWMnKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jbGljKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29VbnN1c2NyaWJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ3Vuc3VzY3JpYmUnKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS51bnN1c2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29Cb3VuY2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdW5jZWQnKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ib3VuY2VkKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29TcGFtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ3NwYW0nKTtcclxuICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zcGFtKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ29CdXpvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5oYXNoKCdidXpvbicpO1xyXG4gICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmJ1em9uKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbiAodG90YWwsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG90YWwgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByZXMgPSAodmFsdWUgLyB0b3RhbCkgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzICUgMSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3BlbiA9IGZ1bmN0aW9uICh0eXBlLCBjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdlZWsgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudFRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZ3JhcGguc3RhdGljcykge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmdyYXBoLnN0YXRpY3MsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2Vlay5wdXNoKHtkcmlsbGRvd246IHZhbHVlLndlZWsud2VlaywgbmFtZTogdmFsdWUud2Vlay5pbnRlcnZhbCxcclxuICAgICAgICAgICAgICAgICAgICAgIHk6IHBhcnNlSW50KHZhbHVlLndlZWsuY291bnQpfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBwID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50VG90YWwgPSAocGFyc2VJbnQodmFsdWUud2Vlay5jb3VudCkgKyBwYXJzZUludCgkc2NvcGUuY291bnRUb3RhbCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZS53ZWVrLmRheSwgZnVuY3Rpb24gKHZhbHVlMiwga2V5Mikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcHAucHVzaCh7bmFtZTogdmFsdWUyLmludGVydmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBwYXJzZUludCh2YWx1ZTIuY291bnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmlsbGRvd246IHZhbHVlMi5pbnRlcnZhbH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZTIuaG91ciwgZnVuY3Rpb24gKHZhbHVlMywga2V5Mykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNhcyA9IFt2YWx1ZTMuaW50ZXJ2YWwsIHBhcnNlSW50KHZhbHVlMy5jb3VudCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyLnB1c2goYXNhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgZGF5LnB1c2goe2lkOiB2YWx1ZTIuaW50ZXJ2YWwsIG5hbWU6IFwiSG9yYShzKVwiLCBkYXRhOiBob3VyfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBkYXkucHVzaCh7aWQ6IHZhbHVlLndlZWsud2VlaywgbmFtZTogXCJEaWEocylcIixcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHBwfSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydENvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBkcmlsbGRvd246IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogZGF5XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB4QXhpczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NhdGVnb3J5J1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNlcmllczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogJyAnXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjcmVkaXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgc2VyaWVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NlbWFuYShzKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB3ZWVrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoT3BlblBpZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2VlayA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0Q29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlU2VsZWN0b3I6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBwbG90T3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja2luZzogJ25vcm1hbCdcclxuICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBhcmVhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNraW5nOiAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgeEF4aXM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICB5QXhpczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgey8vIFByaW1hcnkgeUF4aXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0RlY2ltYWxzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjODBhM2NhJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAne3ZhbHVlfScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzgwYTNjYSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogJyAnXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjcmVkaXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY3Jvc3NoYWlyczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGFzaFN0eWxlOiAnZGFzaCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjODk4OTg5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGFzaFN0eWxlOiAnZGFzaCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjODk4OTg5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBdXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgc2VyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJDYW50aWRhZFwiLFxyXG4vLyAgICAgICAgICAgICAgICBjb2xvckJ5UG9pbnQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmY2ZTAwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJSZWJvdGVzIGR1cm9zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAkc2NvcGUuZ3JhcGhQaWVbMF0uaGFyZH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjZjI4ZDQxXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJSZWJvdGVzIHN1YXZlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeTogJHNjb3BlLmdyYXBoUGllWzBdLnNvZnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4vLyAgICAgICAgICAgICAgJHNjb3BlLmdldEFsbCgpO1xyXG4vLyAgICAgICAgICAgICAgJHNjb3BlLm9wZW5pbmcoKTtcclxuICAgICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignc3VydmV5Y29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3N0YXRpc3RpY1NlcnZpY2UnLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIm5vdGlmaWNhdGlvblNlcnZpY2VcIiwgXCIkbG9jYXRpb25cIiwgXCIkYW5jaG9yU2Nyb2xsXCIsICckYnVpbGRlcicsICckdmFsaWRhdG9yJywgJyR0aW1lb3V0JywgJyRvY0xhenlMb2FkJywgJyRjb21waWxlJywgJ2NvbnN0YW50U3RhdGlzdGljJywgZnVuY3Rpb24gKCRzY29wZSwgc3RhdGlzdGljU2VydmljZSwgJHN0YXRlUGFyYW1zLCBub3RpZmljYXRpb25TZXJ2aWNlLCAkbG9jYXRpb24sICRhbmNob3JTY3JvbGwsICRidWlsZGVyLCAkdmFsaWRhdG9yLCAkdGltZW91dCwgJG9jTGF6eUxvYWQsICRjb21waWxlLCBjb25zdGFudFN0YXRpc3RpYykge1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRDb25maWcgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICRzY29wZS50aXRsZSA9IGNvbnN0YW50U3RhdGlzdGljLlRpdGxlcy5zdGF0aXNTdXJ2ZXk7XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5jaGFydEJhciA9IGZ1bmN0aW9uIChxdWVzdGlvbiwgdG90YWxTdXJ2ZXkpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocXVlc3Rpb24sIHRvdGFsU3VydmV5KTtcclxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uLmNoYXJ0Q29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmFyXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHhBeGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB5QXhpczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwY250ID0gKHRoaXMudmFsdWUgLyB0b3RhbFN1cnZleSkgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhpZ2hjaGFydHMubnVtYmVyRm9ybWF0KHBjbnQsIDAsICcsJykgKyAnJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHBsb3RPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUxhYmVsczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGNudCA9ICh0aGlzLnkgLyB0b3RhbFN1cnZleSkgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSGlnaGNoYXJ0cy5udW1iZXJGb3JtYXQocGNudCkgKyAnJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnICdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWRpdHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBzZXJpZXM6IFtxdWVzdGlvbi5jaGFydF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvKlt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUZSBndXN0YW4gbG9zIGhvbWJyZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOlt7bmFtZTpcInNpXCIseTo2fSx7bmFtZTpcIm5vXCIseToyfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0qL1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QWxsKCkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRBbGxJbmZvU3VydmV5KCRzdGF0ZVBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhY3RpY3MgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZEZpbGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmNoYXJ0QmFyKCRzY29wZS5zdGFjdGljcy5xdWVzdGlvbnNbM10uY2hhcnQpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGdldEFsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25UeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRhY3QnIDpcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBcIkNvbnRhY3RvXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ3B1YmxpYycgOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IFwiUHVibGljYVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUucHJldmlzdWFsaXphciA9IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJldmlld1Nob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShjb250ZW50KTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coanNvbi5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICRidWlsZGVyLnNldEZvcm0oJ3NpZ21hU3VydmV5JywganNvbi5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICQoXCIjcHJldmlld1wiKS5hZGRDbGFzcygnZGlhbG9nLS1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYmFja2dyb3VuZEZvcm0gPSBqc29uLmJhY2tncm91bmQ7XHJcblxyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUucHJldmlld1Nob3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZURpYWxvZyA9IGZ1bmN0aW9uIChtb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgJChcIiNcIiArIG1vZGFsKS5yZW1vdmVDbGFzcygnZGlhbG9nLS1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlU3VydmV5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHZhbGlkYXRvci52YWxpZGF0ZSgkc2NvcGUsICdzaWdtYVN1cnZleScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uICgpIHt9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKCkge30pO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5yZXBvcnREZXRhaWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLnJlcG9ydFN0YXRpY3NTdXJ2ZXkoJHN0YXRlUGFyYW1zLmlkLCAkc2NvcGUudGl0bGUpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnc3RhdGlzdGljL2Rvd25sb2FkZXhjZWwvJyArICRzY29wZS50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnByaW50RGV0YWlsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnByaW50KCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnc3VydmV5Iy8nO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5sb2FkRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRvY0xhenlMb2FkLmxvYWQoW1xyXG4gICAgICAgICAgICAgICAgICAnbGlicmFyeS9kcmlsbGRvd24vaGlnaHN0b2NrLnNyYy5taW4uanMnLFxyXG4gICAgICAgICAgICAgICAgICAnbGlicmFyeS9oaWdoc3RvY2svaGlnaGNoYXJ0cy1uZy5qcycsXHJcbiAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBIaWdoY2hhcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkb2NMYXp5TG9hZC5sb2FkKFtcclxuICAgICAgICAgICAgICAgICAgICAgICdsaWJyYXJ5L2RyaWxsZG93bi9kcmlsbGRvd24uanMnLFxyXG4gICAgICAgICAgICAgICAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dEb20gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJycicpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdhdXRvbWF0aWNjYW1wYWlnbmNvbnRyb2xsZXInLCBbJyRzY29wZScsICdzdGF0aXN0aWNTZXJ2aWNlJywgXCIkc3RhdGVQYXJhbXNcIiwgXCJub3RpZmljYXRpb25TZXJ2aWNlXCIsIFwiJGxvY2F0aW9uXCIsIFwiJGFuY2hvclNjcm9sbFwiLCBmdW5jdGlvbiAoJHNjb3BlLCBzdGF0aXN0aWNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsIG5vdGlmaWNhdGlvblNlcnZpY2UsICRsb2NhdGlvbiwgJGFuY2hvclNjcm9sbCkge1xyXG4vLyAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0Vmlld01vZGVsID0ge1wibm9kZXNcIjogW3tcIm5hbWVcIjogXCJEZXN0aW5hdGFyaW8ocylcIiwgXCJpZFwiOiAwLCBcInhcIjogMTcwLCBcInlcIjogMjUsIFwid2lkdGhcIjogMTAwLCBcImltYWdlXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9pbWFnZXNcXC9hdXRvbWF0aWNcXC9kZXN0aW5hdGFyaW9zYS0wMS5qcGdcIiwgXCJ0aGVtZVwiOiBcInByaW1hcnlcIiwgXCJtZXRob2RcIjogXCJwcmltYXJ5XCIsIFwidGVtcGxhdGVwb3BvdmVyXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9mbG93Y2hhcnRcXC9wb3BvdmVyc2VnbWVudFwiLCBcInRpdGxlcG9wb3ZlclwiOiBcIlNlbGVjY2lvbmEgYSBxdWllbiBxdWllcmUgZW52aWFyIGVzdGEgY2FtcGFcXHUwMGYxYSBhdXRvbVxcdTAwZTF0aWNhLlwiLCBcIm91dHB1dENvbm5lY3RvcnNcIjogW3tcIm5hbWVcIjogXCJcIn1dLCBcInNlbmREYXRhXCI6IHtcImxpc3RcIjoge1wiaWRcIjogMSwgXCJuYW1lXCI6IFwiTGlzdGFzIGRlIGNvbnRhY3Rvc1wifSwgXCJzZWxlY3RlZHNcIjogW3tcImlkQ29udGFjdGxpc3RcIjogXCIxMjVcIiwgXCJuYW1lXCI6IFwiRGVzYXJyb2xsb1wiLCBcImlkQ29udGFjdGxpc3RDYXRlZ29yeVwiOiBcIjJcIn1dLCBcInRleHRUaXRsZVwiOiBcIkxpc3RhcyBkZSBjb250YWN0b3NcIiwgXCJ0ZXh0XCI6IFwiRGVzYXJyb2xsb1wifSwgXCJlbGVtZW50XCI6IHtcIjBcIjoge1wialF1ZXJ5MTExMjA0NzA5NTYyMTMwMzQ3NzUxXCI6IDc5fSwgXCJjb250ZXh0XCI6IHtcImpRdWVyeTExMTIwNDcwOTU2MjEzMDM0Nzc1MVwiOiA3OX0sIFwibGVuZ3RoXCI6IDF9LCBcInNob3dQb3BvdmVyXCI6IGZhbHNlLCBcImRhdGFGb3JtXCI6IHtcImhyZWZDcmVhdGVNYWlsXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9tYWlsdGVtcGxhdGUjXFwvY3JlYXRlXCIsIFwiaHJlZkNyZWF0ZVNtc1wiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvc21zdGVtcGxhdGUjXFwvY3JlYXRlXCIsIFwiaHJlZkNyZWF0ZVN1cnZleVwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvc3VydmV5XFwvY3JlYXRlI1xcL2Jhc2ljaW5mb3JtYXRpb25cXC9cIiwgXCJsaXN0XCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIkxpc3RhcyBkZSBjb250YWN0b3NcIn0sIFwic2VsZWN0ZWRcIjogW3tcImlkQ29udGFjdGxpc3RcIjogXCIxMjVcIiwgXCJuYW1lXCI6IFwiRGVzYXJyb2xsb1wiLCBcImlkQ29udGFjdGxpc3RDYXRlZ29yeVwiOiBcIjJcIn1dLCBcImVycm9yXCI6IGZhbHNlfX0sIHtcIm5hbWVcIjogXCJNYWlsXCIsIFwiaWRcIjogMTAsIFwieFwiOiA2NTksIFwieVwiOiAzMSwgXCJ3aWR0aFwiOiAxMDAsIFwidGhlbWVcIjogXCJzZXJ2aWNlXCIsIFwibWV0aG9kXCI6IFwiZW1haWxcIiwgXCJpbWFnZVwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvaW1hZ2VzXFwvYXV0b21hdGljXFwvY29ycmVvYS0wMS5qcGdcIiwgXCJ0ZW1wbGF0ZXBvcG92ZXJcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL2Zsb3djaGFydFxcL3BvcG92ZXJtYWlsXCIsIFwidGVtcGxhdGVwb3BvdmVyYWN0aW9uXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9mbG93Y2hhcnRcXC9wb3BvdmVyYWN0aW9uXCIsIFwiaW5wdXRDb25uZWN0b3JzXCI6IFt7XCJuYW1lXCI6IFwiXCJ9XSwgXCJvdXRwdXRDb25uZWN0b3JzXCI6IFt7XCJuYW1lXCI6IFwiXCJ9XSwgXCJzZW5kRGF0YVwiOiB7XCJtYWlsdGVtcGxhdGVcIjoge1wiaWRNYWlsVGVtcGxhdGVcIjogXCIyNFwiLCBcIm5hbWVcIjogXCJQcnVlYmFcIn0sIFwic3ViamVjdFwiOiBcInBydWViYSBzdXJ2ZXkgbG9jYWxcIiwgXCJzZW5kZXJFbWFpbFwiOiB7XCJpZEVtYWlsc2VuZGVyXCI6IFwiOVwiLCBcImVtYWlsXCI6IFwia2V2aW5Acm9sZGFuLmNvbVwifSwgXCJzZW5kZXJOYW1lXCI6IHtcImlkTmFtZVNlbmRlclwiOiBcIjE3XCIsIFwibmFtZVwiOiBcIktldmluIFJvbGRhblwifSwgXCJtYWlsY2F0ZWdvcnlcIjoge1wibmFtZVwiOiBcIk11c2ljYVwiLCBcImlkTWFpbENhdGVnb3J5XCI6IFwiNVwiLCBcImRlc2NyaXB0aW9uXCI6IG51bGwsIFwiZGVsZXRlZFwiOiBcIjBcIn0sIFwicmVwbHl0b1wiOiBcIlwiLCBcInRleHRcIjogXCJDYXRlZ29yaWE6TXVzaWNhXCIsIFwidGV4dFRpdGxlXCI6IFwiUHJ1ZWJhXCJ9LCBcImVsZW1lbnRcIjoge1wiMFwiOiB7XCJqUXVlcnkxMTEyMDQ3MDk1NjIxMzAzNDc3NTFcIjogNTY5fSwgXCJjb250ZXh0XCI6IHtcImpRdWVyeTExMTIwNDcwOTU2MjEzMDM0Nzc1MVwiOiA1Njl9LCBcImxlbmd0aFwiOiAxfSwgXCJzaG93UG9wb3ZlclwiOiBmYWxzZSwgXCJkYXRhRm9ybVwiOiB7XCJocmVmQ3JlYXRlTWFpbFwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvbWFpbHRlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTbXNcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3Ntc3RlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTdXJ2ZXlcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3N1cnZleVxcL2NyZWF0ZSNcXC9iYXNpY2luZm9ybWF0aW9uXFwvXCIsIFwibWFpbHRlbXBsYXRlXCI6IHtcImlkTWFpbFRlbXBsYXRlXCI6IFwiMjRcIiwgXCJuYW1lXCI6IFwiUHJ1ZWJhXCJ9LCBcImZsYWdTZWxlY3RlZFwiOiB0cnVlLCBcImhyZWZTZWxlY3RlZE1haWxcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL21haWx0ZW1wbGF0ZVxcL2VkaXRcXC8yNFwiLCBcIm1haWxjYXRlZ29yeVwiOiB7XCJuYW1lXCI6IFwiTXVzaWNhXCIsIFwiaWRNYWlsQ2F0ZWdvcnlcIjogXCI1XCIsIFwiZGVzY3JpcHRpb25cIjogbnVsbCwgXCJkZWxldGVkXCI6IFwiMFwifSwgXCJzZW5kZXJOYW1lXCI6IHtcImlkTmFtZVNlbmRlclwiOiBcIjE3XCIsIFwibmFtZVwiOiBcIktldmluIFJvbGRhblwifSwgXCJzZW5kZXJFbWFpbFwiOiB7XCJpZEVtYWlsc2VuZGVyXCI6IFwiOVwiLCBcImVtYWlsXCI6IFwia2V2aW5Acm9sZGFuLmNvbVwifSwgXCJzdWJqZWN0XCI6IFwicHJ1ZWJhIHN1cnZleSBsb2NhbFwiLCBcImVycm9yXCI6IGZhbHNlfX0sIHtcIm5hbWVcIjogXCJUaWVtcG9cIiwgXCJpZFwiOiAxMSwgXCJ4XCI6IDE3MywgXCJ5XCI6IDE4MiwgXCJ3aWR0aFwiOiAxMDAsIFwidGhlbWVcIjogXCJvcGVyYXRvclwiLCBcIm1ldGhvZFwiOiBcInRpbWVcIiwgXCJpbWFnZVwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvaW1hZ2VzXFwvYXV0b21hdGljXFwvdGllbXBvYS0wMS5qcGdcIiwgXCJ0ZW1wbGF0ZXBvcG92ZXJcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL2Zsb3djaGFydFxcL3BvcG92ZXJ0aW1lXCIsIFwiaW5wdXRDb25uZWN0b3JzXCI6IFt7XCJuYW1lXCI6IFwiXCJ9XSwgXCJvdXRwdXRDb25uZWN0b3JzXCI6IFt7XCJuYW1lXCI6IFwiXCJ9XSwgXCJzZW5kRGF0YVwiOiB7XCJ0aW1lXCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIjFcIn0sIFwidGltZXR3b1wiOiB7XCJpZFwiOiAyLCBcIm5hbWVcIjogXCJIb3JhKHMpXCJ9LCBcInRleHRcIjogXCIxIEhvcmEocykgRGVzcHVcXHUwMGU5cy5cIiwgXCJ0ZXh0VGl0bGVcIjogXCJUaWVtcG8gUHJvZ3JhbWFkb1wifSwgXCJlbGVtZW50XCI6IHtcIjBcIjoge1wialF1ZXJ5MTExMjA0NzA5NTYyMTMwMzQ3NzUxXCI6IDUzMX0sIFwiY29udGV4dFwiOiB7XCJqUXVlcnkxMTEyMDQ3MDk1NjIxMzAzNDc3NTFcIjogNTMxfSwgXCJsZW5ndGhcIjogMX0sIFwic2hvd1BvcG92ZXJcIjogZmFsc2UsIFwiZGF0YUZvcm1cIjoge1wiaHJlZkNyZWF0ZU1haWxcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL21haWx0ZW1wbGF0ZSNcXC9jcmVhdGVcIiwgXCJocmVmQ3JlYXRlU21zXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zbXN0ZW1wbGF0ZSNcXC9jcmVhdGVcIiwgXCJocmVmQ3JlYXRlU3VydmV5XCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zdXJ2ZXlcXC9jcmVhdGUjXFwvYmFzaWNpbmZvcm1hdGlvblxcL1wiLCBcInRpbWVcIjoge1wiaWRcIjogMSwgXCJuYW1lXCI6IFwiMVwifSwgXCJ0aW1ldHdvXCI6IHtcImlkXCI6IDIsIFwibmFtZVwiOiBcIkhvcmEocylcIn0sIFwiZXJyb3JcIjogZmFsc2V9fSwge1wibmFtZVwiOiBcIkVuY3Vlc3Rhc1wiLCBcImlkXCI6IDEzLCBcInhcIjogNjUzLCBcInlcIjogMTc1LCBcIndpZHRoXCI6IDEwMCwgXCJ0aGVtZVwiOiBcInNlcnZpY2VcIiwgXCJtZXRob2RcIjogXCJzdXJ2ZXlcIiwgXCJpbWFnZVwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvaW1hZ2VzXFwvZ2VuZXJhbFxcL2Zvcm1zLnBuZ1wiLCBcInRlbXBsYXRlcG9wb3ZlclwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvZmxvd2NoYXJ0XFwvcG9wb3ZlcnN1cnZleVwiLCBcInRlbXBsYXRlcG9wb3ZlcmFjdGlvblwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvZmxvd2NoYXJ0XFwvcG9wb3ZlcmFjdGlvbnN1cnZleVwiLCBcImlucHV0Q29ubmVjdG9yc1wiOiBbe1wibmFtZVwiOiBcIlwifV0sIFwib3V0cHV0Q29ubmVjdG9yc1wiOiBbe1wibmFtZVwiOiBcIlwifV0sIFwic2VuZERhdGFcIjoge1wicHVibGljc3VydmV5XCI6IHtcImlkU3VydmV5XCI6IFwiNjBcIiwgXCJuYW1lXCI6IFwiUHJ1ZWIgQXN1cnZleVwifSwgXCJtYWlsdGVtcGxhdGVcIjoge1wiaWRNYWlsVGVtcGxhdGVcIjogXCIyNFwiLCBcIm5hbWVcIjogXCJQcnVlYmFcIn0sIFwic3ViamVjdFwiOiBcInlndWpcIiwgXCJzZW5kZXJFbWFpbFwiOiB7XCJpZEVtYWlsc2VuZGVyXCI6IFwiMThcIiwgXCJlbWFpbFwiOiBcImtldmluQHJvbGRhbjEuY29tXCJ9LCBcInNlbmRlck5hbWVcIjoge1wiaWROYW1lU2VuZGVyXCI6IFwiMjhcIiwgXCJuYW1lXCI6IFwiUGFibG9cIn0sIFwibWFpbGNhdGVnb3J5XCI6IHtcIm5hbWVcIjogXCJNdXNpY2FcIiwgXCJpZE1haWxDYXRlZ29yeVwiOiBcIjVcIiwgXCJkZXNjcmlwdGlvblwiOiBudWxsLCBcImRlbGV0ZWRcIjogXCIwXCJ9LCBcInJlcGx5dG9cIjogXCJcIiwgXCJ0ZXh0XCI6IFwiQ2F0ZWdvcmlhOk11c2ljYVwiLCBcInRleHRUaXRsZVwiOiBcIlBydWViYVwifSwgXCJlbGVtZW50XCI6IHtcIjBcIjoge1wialF1ZXJ5MTExMjA0NzA5NTYyMTMwMzQ3NzUxXCI6IDQ0Nn0sIFwiY29udGV4dFwiOiB7XCJqUXVlcnkxMTEyMDQ3MDk1NjIxMzAzNDc3NTFcIjogNDQ2fSwgXCJsZW5ndGhcIjogMX0sIFwic2hvd1BvcG92ZXJcIjogZmFsc2UsIFwiZGF0YUZvcm1cIjoge1wiaHJlZkNyZWF0ZU1haWxcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL21haWx0ZW1wbGF0ZSNcXC9jcmVhdGVcIiwgXCJocmVmQ3JlYXRlU21zXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zbXN0ZW1wbGF0ZSNcXC9jcmVhdGVcIiwgXCJocmVmQ3JlYXRlU3VydmV5XCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zdXJ2ZXlcXC9jcmVhdGUjXFwvYmFzaWNpbmZvcm1hdGlvblxcL1wiLCBcInB1YmxpY3N1cnZleVwiOiB7XCJpZFN1cnZleVwiOiBcIjYwXCIsIFwibmFtZVwiOiBcIlBydWViIEFzdXJ2ZXlcIn0sIFwiZmxhZ1NlbGVjdGVkXCI6IHRydWUsIFwiaHJlZlNlbGVjdGVkU3VydmV5XCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zdXJ2ZXlcXC9jcmVhdGUjXFwvYmFzaWNpbmZvcm1hdGlvblxcLzYwXCIsIFwibWFpbHRlbXBsYXRlXCI6IHtcImlkTWFpbFRlbXBsYXRlXCI6IFwiMjRcIiwgXCJuYW1lXCI6IFwiUHJ1ZWJhXCJ9LCBcImhyZWZTZWxlY3RlZE1haWxcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL21haWx0ZW1wbGF0ZVxcL2VkaXRcXC8yNFwiLCBcIm1haWxjYXRlZ29yeVwiOiB7XCJuYW1lXCI6IFwiTXVzaWNhXCIsIFwiaWRNYWlsQ2F0ZWdvcnlcIjogXCI1XCIsIFwiZGVzY3JpcHRpb25cIjogbnVsbCwgXCJkZWxldGVkXCI6IFwiMFwifSwgXCJzZW5kZXJOYW1lXCI6IHtcImlkTmFtZVNlbmRlclwiOiBcIjI4XCIsIFwibmFtZVwiOiBcIlBhYmxvXCJ9LCBcInNlbmRlckVtYWlsXCI6IHtcImlkRW1haWxzZW5kZXJcIjogXCIxOFwiLCBcImVtYWlsXCI6IFwia2V2aW5Acm9sZGFuMS5jb21cIn0sIFwic3ViamVjdFwiOiBcInlndWpcIiwgXCJlcnJvclwiOiBmYWxzZX19LCB7XCJuYW1lXCI6IFwiQWNjaW9uXCIsIFwiaWRcIjogMTQsIFwieFwiOiAxNzUsIFwieVwiOiAzNTEsIFwid2lkdGhcIjogMTAwLCBcInRoZW1lXCI6IFwib3BlcmF0b3JcIiwgXCJtZXRob2RcIjogXCJhY3Rpb25zXCIsIFwiaW1hZ2VcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL2ltYWdlc1xcL2F1dG9tYXRpY1xcL2FjY2lvbi0wMS5qcGdcIiwgXCJ0ZW1wbGF0ZXBvcG92ZXJcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL2Zsb3djaGFydFxcL3BvcG92ZXJhY3Rpb25cIiwgXCJpbnB1dENvbm5lY3RvcnNcIjogW3tcIm5hbWVcIjogXCJcIn1dLCBcIm91dHB1dENvbm5lY3RvcnNcIjogW3tcIm5hbWVcIjogXCJcIn0sIHtcIm5hbWVcIjogXCJcIn1dLCBcInNlbmREYXRhXCI6IHtcInNlbGVjdEFjdGlvblwiOiB7XCJpZFwiOiA2LCBcIm5hbWVcIjogXCJSZXNwdWVzdGFcIn0sIFwidGltZVwiOiB7XCJpZFwiOiAxLCBcIm5hbWVcIjogXCIxXCJ9LCBcInRpbWV0d29cIjoge1wiaWRcIjogMiwgXCJuYW1lXCI6IFwiSG9yYShzKVwifSwgXCJxdWVzdFwiOiB7XCJpZFF1ZXN0aW9uXCI6IFwiMTQ5NzAyNzUyODIyNlwiLCBcInF1ZXN0aW9uXCI6IFwiYW5pbWFsIGZhdm9yaXRvXCJ9LCBcImNvbmRpdGlvblwiOiB7XCJpZFwiOiAxLCBcIm5hbWVcIjogXCJJZ3VhbCBhXCJ9LCBcImFuc3dlclwiOiB7XCJpZEFuc3dlclwiOiAxMTI5LCBcImFuc3dlclwiOiBcImdhdG9cIn0sIFwidGV4dFwiOiBcIlJlc3B1ZXN0YSAxIEhvcmEocykgRGVzcHVcXHUwMGU5cy5cIiwgXCJ0ZXh0VGl0bGVcIjogXCJUaWVtcG8gUHJvZ3JhbWFkb1wifSwgXCJlbGVtZW50XCI6IHtcIjBcIjoge1wialF1ZXJ5MTExMjA0NzA5NTYyMTMwMzQ3NzUxXCI6IDI1NTN9LCBcImNvbnRleHRcIjoge1wialF1ZXJ5MTExMjA0NzA5NTYyMTMwMzQ3NzUxXCI6IDI1NTN9LCBcImxlbmd0aFwiOiAxfSwgXCJzaG93UG9wb3ZlclwiOiBmYWxzZSwgXCJkYXRhRm9ybVwiOiB7XCJocmVmQ3JlYXRlTWFpbFwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvbWFpbHRlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTbXNcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3Ntc3RlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTdXJ2ZXlcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3N1cnZleVxcL2NyZWF0ZSNcXC9iYXNpY2luZm9ybWF0aW9uXFwvXCIsIFwic2VsZWN0QWN0aW9uXCI6IHtcImlkXCI6IDYsIFwibmFtZVwiOiBcIlJlc3B1ZXN0YVwifSwgXCJ0aW1lXCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIjFcIn0sIFwidGltZXR3b1wiOiB7XCJpZFwiOiAyLCBcIm5hbWVcIjogXCJIb3JhKHMpXCJ9LCBcInF1ZXN0XCI6IHtcImlkUXVlc3Rpb25cIjogXCIxNDk3MDI3NTI4MjI2XCIsIFwicXVlc3Rpb25cIjogXCJhbmltYWwgZmF2b3JpdG9cIn0sIFwiY29uZGl0aW9uXCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIklndWFsIGFcIn0sIFwiYW5zd2VyXCI6IHtcImlkQW5zd2VyXCI6IDExMjksIFwiYW5zd2VyXCI6IFwiZ2F0b1wifSwgXCJlcnJvclwiOiBmYWxzZX19LCB7XCJuYW1lXCI6IFwiU21zXCIsIFwiaWRcIjogMTUsIFwieFwiOiA2NDgsIFwieVwiOiA0MjksIFwid2lkdGhcIjogMTAwLCBcInRoZW1lXCI6IFwic2VydmljZVwiLCBcIm1ldGhvZFwiOiBcInNtc1wiLCBcImltYWdlXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9pbWFnZXNcXC9hdXRvbWF0aWNcXC9TTVNBLTAxLmpwZ1wiLCBcInRlbXBsYXRlcG9wb3ZlclwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvZmxvd2NoYXJ0XFwvcG9wb3ZlcnNtc1wiLCBcImlucHV0Q29ubmVjdG9yc1wiOiBbe1wibmFtZVwiOiBcIlwifV0sIFwib3V0cHV0Q29ubmVjdG9yc1wiOiBbe1wibmFtZVwiOiBcIlwifV0sIFwic2VuZERhdGFcIjoge1wic21zdGVtcGxhdGVcIjoge1wiaWRTbXNUZW1wbGF0ZVwiOiBcIjIzXCIsIFwiaWRTbXNUZW1wbGF0ZUNhdGVnb3J5XCI6IFwiMjdcIiwgXCJpZEFjY291bnRcIjogXCIzMlwiLCBcIm5hbWVcIjogXCJTbXMgQ29uIENhbXBvcyBQZXJzb25hbGl6YWRvc1wiLCBcImNvbnRlbnRcIjogXCJIb2xhICUlTk9NQlJFJSUgJSVBUEVMTElETyUlIHNlIGxlIGluZm9ybWEgcXVlIHNlIGFjYWJvIGxhIGNhbXBhbmEgYXV0b21hdGljYSwgZ3JhY2lhcyBwb3IgcGFydGljaXBhci4lJUVEQUQlJVwiLCBcImNyZWF0ZWRcIjogXCIyMDE3LTAxLTA2XCIsIFwidXBkYXRlZFwiOiBcIjIwMTctMDEtMjBcIiwgXCJjcmVhdGVkQnlcIjogXCJrZXZpbi5yYW1pcmV6QHNpZ21hbW92aWwuY29tXCIsIFwidXBkYXRlZEJ5XCI6IFwia2V2aW4ucmFtaXJlekBzaWdtYW1vdmlsLmNvbVwifSwgXCJzbXNjYXRlZ29yeVwiOiB7XCJpZFNtc0NhdGVnb3J5XCI6IFwiMzJcIiwgXCJpZEFjY291bnRcIjogXCIzMlwiLCBcIm5hbWVcIjogXCJYejx6XCIsIFwiZGVzY3JpcHRpb25cIjogXCI8eng8PHhcIiwgXCJjcmVhdGVkQnlcIjogXCJrZXZpbi5yYW1pcmV6QHNpZ21hbW92aWwuY29tXCIsIFwidXBkYXRlZEJ5XCI6IFwia2V2aW4ucmFtaXJlekBzaWdtYW1vdmlsLmNvbVwifSwgXCJ0ZXh0XCI6IFwiQ2F0ZWdvcmlhOlh6PHpcIiwgXCJ0ZXh0VGl0bGVcIjogXCJTbXMgQ29uIENhbXBvcyBQZXJzb25hbGl6YWRvc1wifSwgXCJlbGVtZW50XCI6IHtcIjBcIjoge1wialF1ZXJ5MTExMjA0NzA5NTYyMTMwMzQ3NzUxXCI6IDMzNDh9LCBcImNvbnRleHRcIjoge1wialF1ZXJ5MTExMjA0NzA5NTYyMTMwMzQ3NzUxXCI6IDMzNDh9LCBcImxlbmd0aFwiOiAxfSwgXCJzaG93UG9wb3ZlclwiOiBmYWxzZSwgXCJkYXRhRm9ybVwiOiB7XCJocmVmQ3JlYXRlTWFpbFwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvbWFpbHRlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTbXNcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3Ntc3RlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTdXJ2ZXlcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3N1cnZleVxcL2NyZWF0ZSNcXC9iYXNpY2luZm9ybWF0aW9uXFwvXCIsIFwic21zdGVtcGxhdGVcIjoge1wiaWRTbXNUZW1wbGF0ZVwiOiBcIjIzXCIsIFwiaWRTbXNUZW1wbGF0ZUNhdGVnb3J5XCI6IFwiMjdcIiwgXCJpZEFjY291bnRcIjogXCIzMlwiLCBcIm5hbWVcIjogXCJTbXMgQ29uIENhbXBvcyBQZXJzb25hbGl6YWRvc1wiLCBcImNvbnRlbnRcIjogXCJIb2xhICUlTk9NQlJFJSUgJSVBUEVMTElETyUlIHNlIGxlIGluZm9ybWEgcXVlIHNlIGFjYWJvIGxhIGNhbXBhbmEgYXV0b21hdGljYSwgZ3JhY2lhcyBwb3IgcGFydGljaXBhci4lJUVEQUQlJVwiLCBcImNyZWF0ZWRcIjogXCIyMDE3LTAxLTA2XCIsIFwidXBkYXRlZFwiOiBcIjIwMTctMDEtMjBcIiwgXCJjcmVhdGVkQnlcIjogXCJrZXZpbi5yYW1pcmV6QHNpZ21hbW92aWwuY29tXCIsIFwidXBkYXRlZEJ5XCI6IFwia2V2aW4ucmFtaXJlekBzaWdtYW1vdmlsLmNvbVwifSwgXCJmbGFnU2VsZWN0ZWRcIjogdHJ1ZSwgXCJocmVmU2VsZWN0ZWRTbXNcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3Ntc3RlbXBsYXRlI1xcL2VkaXRcXC8yM1wiLCBcInNtc2NhdGVnb3J5XCI6IHtcImlkU21zQ2F0ZWdvcnlcIjogXCIzMlwiLCBcImlkQWNjb3VudFwiOiBcIjMyXCIsIFwibmFtZVwiOiBcIlh6PHpcIiwgXCJkZXNjcmlwdGlvblwiOiBcIjx6eDw8eFwiLCBcImNyZWF0ZWRCeVwiOiBcImtldmluLnJhbWlyZXpAc2lnbWFtb3ZpbC5jb21cIiwgXCJ1cGRhdGVkQnlcIjogXCJrZXZpbi5yYW1pcmV6QHNpZ21hbW92aWwuY29tXCJ9LCBcImVycm9yXCI6IGZhbHNlfX0sIHtcIm5hbWVcIjogXCJTbXNcIiwgXCJpZFwiOiAxNiwgXCJ4XCI6IDI3NSwgXCJ5XCI6IDU0MCwgXCJ3aWR0aFwiOiAxMDAsIFwidGhlbWVcIjogXCJzZXJ2aWNlXCIsIFwibWV0aG9kXCI6IFwic21zXCIsIFwiaW1hZ2VcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL2ltYWdlc1xcL2F1dG9tYXRpY1xcL1NNU0EtMDEuanBnXCIsIFwidGVtcGxhdGVwb3BvdmVyXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9mbG93Y2hhcnRcXC9wb3BvdmVyc21zXCIsIFwiaW5wdXRDb25uZWN0b3JzXCI6IFt7XCJuYW1lXCI6IFwiXCJ9XSwgXCJvdXRwdXRDb25uZWN0b3JzXCI6IFt7XCJuYW1lXCI6IFwiXCJ9XSwgXCJzZW5kRGF0YVwiOiB7XCJzbXN0ZW1wbGF0ZVwiOiB7XCJpZFNtc1RlbXBsYXRlXCI6IFwiMjNcIiwgXCJpZFNtc1RlbXBsYXRlQ2F0ZWdvcnlcIjogXCIyN1wiLCBcImlkQWNjb3VudFwiOiBcIjMyXCIsIFwibmFtZVwiOiBcIlNtcyBDb24gQ2FtcG9zIFBlcnNvbmFsaXphZG9zXCIsIFwiY29udGVudFwiOiBcIkhvbGEgJSVOT01CUkUlJSAlJUFQRUxMSURPJSUgc2UgbGUgaW5mb3JtYSBxdWUgc2UgYWNhYm8gbGEgY2FtcGFuYSBhdXRvbWF0aWNhLCBncmFjaWFzIHBvciBwYXJ0aWNpcGFyLiUlRURBRCUlXCIsIFwiY3JlYXRlZFwiOiBcIjIwMTctMDEtMDZcIiwgXCJ1cGRhdGVkXCI6IFwiMjAxNy0wMS0yMFwiLCBcImNyZWF0ZWRCeVwiOiBcImtldmluLnJhbWlyZXpAc2lnbWFtb3ZpbC5jb21cIiwgXCJ1cGRhdGVkQnlcIjogXCJrZXZpbi5yYW1pcmV6QHNpZ21hbW92aWwuY29tXCJ9LCBcInNtc2NhdGVnb3J5XCI6IHtcImlkU21zQ2F0ZWdvcnlcIjogXCIzM1wiLCBcImlkQWNjb3VudFwiOiBcIjMyXCIsIFwibmFtZVwiOiBcIkhvbGEgTXVuZFwiLCBcImRlc2NyaXB0aW9uXCI6IFwiU2luIGRlc2NyaXBjaVxcdTAwZjNuXCIsIFwiY3JlYXRlZEJ5XCI6IFwicmljYXJkby5tYXlvcmdhQHNpZ21hbW92aWwuY29tXCIsIFwidXBkYXRlZEJ5XCI6IFwicmljYXJkby5tYXlvcmdhQHNpZ21hbW92aWwuY29tXCJ9LCBcInRleHRcIjogXCJDYXRlZ29yaWE6SG9sYSBNdW5kXCIsIFwidGV4dFRpdGxlXCI6IFwiU21zIENvbiBDYW1wb3MgUGVyc29uYWxpemFkb3NcIn0sIFwiZWxlbWVudFwiOiB7XCIwXCI6IHtcImpRdWVyeTExMTIwNDcwOTU2MjEzMDM0Nzc1MVwiOiAzMjM2fSwgXCJjb250ZXh0XCI6IHtcImpRdWVyeTExMTIwNDcwOTU2MjEzMDM0Nzc1MVwiOiAzMjM2fSwgXCJsZW5ndGhcIjogMX0sIFwic2hvd1BvcG92ZXJcIjogZmFsc2UsIFwiZGF0YUZvcm1cIjoge1wiaHJlZkNyZWF0ZU1haWxcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL21haWx0ZW1wbGF0ZSNcXC9jcmVhdGVcIiwgXCJocmVmQ3JlYXRlU21zXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zbXN0ZW1wbGF0ZSNcXC9jcmVhdGVcIiwgXCJocmVmQ3JlYXRlU3VydmV5XCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zdXJ2ZXlcXC9jcmVhdGUjXFwvYmFzaWNpbmZvcm1hdGlvblxcL1wiLCBcInNtc3RlbXBsYXRlXCI6IHtcImlkU21zVGVtcGxhdGVcIjogXCIyM1wiLCBcImlkU21zVGVtcGxhdGVDYXRlZ29yeVwiOiBcIjI3XCIsIFwiaWRBY2NvdW50XCI6IFwiMzJcIiwgXCJuYW1lXCI6IFwiU21zIENvbiBDYW1wb3MgUGVyc29uYWxpemFkb3NcIiwgXCJjb250ZW50XCI6IFwiSG9sYSAlJU5PTUJSRSUlICUlQVBFTExJRE8lJSBzZSBsZSBpbmZvcm1hIHF1ZSBzZSBhY2FibyBsYSBjYW1wYW5hIGF1dG9tYXRpY2EsIGdyYWNpYXMgcG9yIHBhcnRpY2lwYXIuJSVFREFEJSVcIiwgXCJjcmVhdGVkXCI6IFwiMjAxNy0wMS0wNlwiLCBcInVwZGF0ZWRcIjogXCIyMDE3LTAxLTIwXCIsIFwiY3JlYXRlZEJ5XCI6IFwia2V2aW4ucmFtaXJlekBzaWdtYW1vdmlsLmNvbVwiLCBcInVwZGF0ZWRCeVwiOiBcImtldmluLnJhbWlyZXpAc2lnbWFtb3ZpbC5jb21cIn0sIFwiZmxhZ1NlbGVjdGVkXCI6IHRydWUsIFwiaHJlZlNlbGVjdGVkU21zXCI6IFwiaHR0cDpcXC9cXC9sb2NhbGhvc3RcXC9cXC9haW9cXC9zbXN0ZW1wbGF0ZSNcXC9lZGl0XFwvMjNcIiwgXCJzbXNjYXRlZ29yeVwiOiB7XCJpZFNtc0NhdGVnb3J5XCI6IFwiMzNcIiwgXCJpZEFjY291bnRcIjogXCIzMlwiLCBcIm5hbWVcIjogXCJIb2xhIE11bmRcIiwgXCJkZXNjcmlwdGlvblwiOiBcIlNpbiBkZXNjcmlwY2lcXHUwMGYzblwiLCBcImNyZWF0ZWRCeVwiOiBcInJpY2FyZG8ubWF5b3JnYUBzaWdtYW1vdmlsLmNvbVwiLCBcInVwZGF0ZWRCeVwiOiBcInJpY2FyZG8ubWF5b3JnYUBzaWdtYW1vdmlsLmNvbVwifSwgXCJlcnJvclwiOiBmYWxzZX19XSwgXCJjb25uZWN0aW9uc1wiOiBbe1wic291cmNlXCI6IHtcIm5vZGVJRFwiOiAwLCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImRlc3RcIjoge1wibm9kZUlEXCI6IDEwLCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImNsYXNzXCI6IG51bGwsIFwic2VuZERhdGFcIjoge30sIFwiZGF0YUZvcm1cIjoge319LCB7XCJzb3VyY2VcIjoge1wibm9kZUlEXCI6IDEwLCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImRlc3RcIjoge1wibm9kZUlEXCI6IDExLCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImNsYXNzXCI6IG51bGwsIFwic2VuZERhdGFcIjoge30sIFwiZGF0YUZvcm1cIjoge319LCB7XCJzb3VyY2VcIjoge1wibm9kZUlEXCI6IDExLCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImRlc3RcIjoge1wibm9kZUlEXCI6IDEzLCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImNsYXNzXCI6IG51bGwsIFwic2VuZERhdGFcIjoge30sIFwiZGF0YUZvcm1cIjoge319LCB7XCJzb3VyY2VcIjoge1wibm9kZUlEXCI6IDEzLCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImRlc3RcIjoge1wibm9kZUlEXCI6IDE0LCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImNsYXNzXCI6IG51bGwsIFwic2VuZERhdGFcIjoge30sIFwiZGF0YUZvcm1cIjoge319LCB7XCJzb3VyY2VcIjoge1wibm9kZUlEXCI6IDE0LCBcImNvbm5lY3RvckluZGV4XCI6IDF9LCBcImRlc3RcIjoge1wibm9kZUlEXCI6IDE1LCBcImNvbm5lY3RvckluZGV4XCI6IDB9LCBcImNsYXNzXCI6IFwic3VjY2Vzc1wiLCBcInNlbmREYXRhXCI6IHt9LCBcImRhdGFGb3JtXCI6IHt9fSwge1wic291cmNlXCI6IHtcIm5vZGVJRFwiOiAxNCwgXCJjb25uZWN0b3JJbmRleFwiOiAwfSwgXCJkZXN0XCI6IHtcIm5vZGVJRFwiOiAxNiwgXCJjb25uZWN0b3JJbmRleFwiOiAwfSwgXCJjbGFzc1wiOiBcIm5lZ2F0aW9uXCIsIFwic2VuZERhdGFcIjoge1wic2VsZWN0QWN0aW9uXCI6IHtcImlkXCI6IDYsIFwibmFtZVwiOiBcIlJlc3B1ZXN0YVwifSwgXCJ0aW1lXCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIjFcIn0sIFwidGltZXR3b1wiOiB7XCJpZFwiOiAyLCBcIm5hbWVcIjogXCJIb3JhKHMpXCJ9LCBcInF1ZXN0XCI6IHtcImlkUXVlc3Rpb25cIjogXCIxNDk3MDI3NTI4MjI2XCIsIFwicXVlc3Rpb25cIjogXCJhbmltYWwgZmF2b3JpdG9cIn0sIFwiY29uZGl0aW9uXCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIklndWFsIGFcIn0sIFwiYW5zd2VyXCI6IHtcImlkQW5zd2VyXCI6IDExMjksIFwiYW5zd2VyXCI6IFwiZ2F0b1wifSwgXCJ0ZXh0XCI6IFwiMSBIb3JhKHMpRGVzcHVcXHUwMGU5cy5cIiwgXCJ0ZXh0VGl0bGVcIjogXCJUaWVtcG8gUHJvZ3JhbWFkb1wifSwgXCJkYXRhRm9ybVwiOiB7XCJocmVmQ3JlYXRlTWFpbFwiOiBcImh0dHA6XFwvXFwvbG9jYWxob3N0XFwvXFwvYWlvXFwvbWFpbHRlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTbXNcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3Ntc3RlbXBsYXRlI1xcL2NyZWF0ZVwiLCBcImhyZWZDcmVhdGVTdXJ2ZXlcIjogXCJodHRwOlxcL1xcL2xvY2FsaG9zdFxcL1xcL2Fpb1xcL3N1cnZleVxcL2NyZWF0ZSNcXC9iYXNpY2luZm9ybWF0aW9uXFwvXCIsIFwic2VsZWN0QWN0aW9uXCI6IHtcImlkXCI6IDYsIFwibmFtZVwiOiBcIlJlc3B1ZXN0YVwifSwgXCJ0aW1lXCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIjFcIn0sIFwidGltZXR3b1wiOiB7XCJpZFwiOiAyLCBcIm5hbWVcIjogXCJIb3JhKHMpXCJ9LCBcInF1ZXN0XCI6IHtcImlkUXVlc3Rpb25cIjogXCIxNDk3MDI3NTI4MjI2XCIsIFwicXVlc3Rpb25cIjogXCJhbmltYWwgZmF2b3JpdG9cIn0sIFwiY29uZGl0aW9uXCI6IHtcImlkXCI6IDEsIFwibmFtZVwiOiBcIklndWFsIGFcIn0sIFwiYW5zd2VyXCI6IHtcImlkQW5zd2VyXCI6IDExMjksIFwiYW5zd2VyXCI6IFwiZ2F0b1wifSwgXCJlcnJvclwiOiBmYWxzZX19XX0pO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaWRBdXRvbWF0aWNjYW1wYWlnbiA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihcIlBvciBmYXZvciByZXZpc2UgbGEgaW5mb3JtYWNpb24gZW52aWFkYVwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmdldEFsbGNvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmdldEFsbEljb25maWd1cmF0aW9uKCRzY29wZS5pZEF1dG9tYXRpY2NhbXBhaWduKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydFZpZXdNb2RlbCA9IG5ldyBmbG93Y2hhcnQuQ2hhcnRWaWV3TW9kZWwoZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWxsY29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgICAgICB9XSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdzbXN0d293YXljb250cm9sbGVyJywgWyckc2NvcGUnLCAnc3RhdGlzdGljU2VydmljZScsIFwiJHN0YXRlUGFyYW1zXCIsIFwibm90aWZpY2F0aW9uU2VydmljZVwiLCAnJHEnLCAnJG9jTGF6eUxvYWQnLCAnJGNvbXBpbGUnLCAnY29uc3RhbnRTdGF0aXN0aWMnLCBmdW5jdGlvbiAoJHNjb3BlLCBzdGF0aXN0aWNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsIG5vdGlmaWNhdGlvblNlcnZpY2UsICRxLCAkb2NMYXp5TG9hZCwgJGNvbXBpbGUsIGNvbnN0YW50U3RhdGlzdGljKSB7XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS50aXRsZSA9IGNvbnN0YW50U3RhdGlzdGljLlRpdGxlcy5zdGF0aXNTbXN0d293YXk7XHJcblxyXG4gICAgICAgICAgICAgICRvY0xhenlMb2FkLmxvYWQoW1xyXG4gICAgICAgICAgICAgICAgJ2xpYnJhcnkvZHJpbGxkb3duL2hpZ2hzdG9jay5zcmMubWluLmpzJyxcclxuICAgICAgICAgICAgICAgICdsaWJyYXJ5L2hpZ2hzdG9jay9oaWdoY2hhcnRzLW5nLmpzJyxcclxuICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgSGlnaGNoYXJ0cyAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICRvY0xhenlMb2FkLmxvYWQoW1xyXG4gICAgICAgICAgICAgICAgICAgICdsaWJyYXJ5L2RyaWxsZG93bi9kcmlsbGRvd24uanMnLFxyXG4gICAgICAgICAgICAgICAgICBdKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWwsIGVsVG9BcHBlbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxUb0FwcGVuZCA9ICRjb21waWxlKCc8aGlnaGNoYXJ0ICBjb25maWc9XCJtaXNjLmNoYXJ0Q29uZmlnXCIgIHN0eWxlPVwibWluLXdpZHRoOiAxMDAlOyAgbWFyZ2luOiAwIGF1dG9cIiA+PC9oaWdoY2hhcnQ+JykoJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICBlbCA9IGFuZ3VsYXIuZWxlbWVudCgnI2hpZ2hjaGFydCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmFwcGVuZChlbFRvQXBwZW5kKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJyJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIC8vRGF0YVxyXG4gICAgICAgICAgICAgICRzY29wZS5kYXRhID0ge307XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuZmlsdGVyID0gXCJcIjtcclxuICAgICAgICAgICAgICAvL01pc2NcclxuICAgICAgICAgICAgICAkc2NvcGUubWlzYyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAvL1NlcnZpY2VzIHBldGljaW9uIEluaXRpYWxcclxuICAgICAgICAgICAgICAkc2NvcGUubWlzYy5hcnJTZXJJbml0aWFsID0gW3N0YXRpc3RpY1NlcnZpY2UuZ2V0RGV0YWlsU21zVHdvV2F5LCBzdGF0aXN0aWNTZXJ2aWNlLmdldEFsbFNtc1R3b3dheV07XHJcblxyXG4gICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgIT0gXCJcIiAmJiB0eXBlb2YgJHN0YXRlUGFyYW1zLmlkICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLmlkU21zVHdvd2F5ID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gdW5pdmVyc2FsXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZ1bmN0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGluaXRpYWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bmN0aW9ucy5zaG93TW9kYWxMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mdW5SZXN0U2VydmljZXMuZ2V0TGlzdFBhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1blJlc3RTZXJ2aWNlcy5nZXRJbmZvUGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZnVuUmVzdFNlcnZpY2VzLmdldERldGFpbFNtcygpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldERldGFpbDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuZGV0YWlsID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXRMaXN0OiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5saXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAgICAgc2V0SGlnaENoYXJ0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBhcnJTdGF0aXRpY3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5kYXRhLmRldGFpbCwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUudXNlclJlc3BvbnNlR3JvdXAgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUudXNlclJlc3BvbnNlR3JvdXAgPSBcIlNpbiByZXNwb25kZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyRm9yID0gW3ZhbHVlLnVzZXJSZXNwb25zZUdyb3VwLCBwYXJzZUludCh2YWx1ZS5jb3VudCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGFyclN0YXRpdGljcy5wdXNoKGFyckZvcik7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFyclN0YXRpdGljcyk7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5taXNjLmNoYXJ0Q29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWUnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxiPkNhbnRpZGFkIFRvdGFsOjwvYj4nICsgdGhpcy50b3RhbCArICc8YnI+PGI+Q2FudGlkYWQgR3J1cG86PC9iPicgKyB0aGlzLnkgKyAnPGJyPjxiPicgKyB0aGlzLnBvaW50Lm5hbWUgKyAnPC9iPjogJyArICh0aGlzLnkgLyB0aGlzLnRvdGFsICogMTAwKSArICcgJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNlcmllczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogYXJyU3RhdGl0aWNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclNpemU6ICc3MCUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5MZWdlbmQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFMYWJlbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VzdGFkaXN0aWNhcydcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgICAgIHNldFNtczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuc21zID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmb3J3YXJkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLmluaXRpYWwgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZnVuUmVzdFNlcnZpY2VzLmdldExpc3RQYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFzdGZvcndhcmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEuaW5pdGlhbCA9ICgkc2NvcGUuZGF0YS5saXN0LmRldGFpbC50b3RhbF9wYWdlcyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5wYWdlID0gJHNjb3BlLmRhdGEubGlzdC5kZXRhaWwudG90YWxfcGFnZXM7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mdW5SZXN0U2VydmljZXMuZ2V0TGlzdFBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBiYWNrd2FyZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5pbml0aWFsIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLnBhZ2UgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1blJlc3RTZXJ2aWNlcy5nZXRMaXN0UGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhc3RiYWNrd2FyZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YS5pbml0aWFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mdW5SZXN0U2VydmljZXMuZ2V0TGlzdFBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0cmFzbGF0ZVN0YXR1czogZnVuY3Rpb24gKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VudFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gXCJFbnZpYWRvXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWxpdmVyZWRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IFwiTm8gZW52aWFkb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzaG93TW9kYWxMb2FkaW5nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBoaWRlTW9kYWxMb2FkaW5nOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1blJlc3RTZXJ2aWNlcy5nZXRMaXN0UGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHJlc3RTZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICRzY29wZS5mdW5SZXN0U2VydmljZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBnZXRMaXN0UGFnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmdldEFsbFNtc1R3b3dheSgkc2NvcGUuZGF0YS5pZFNtc1R3b3dheSwgJHNjb3BlLmRhdGEuaW5pdGlhbCwgJHNjb3BlLmRhdGEuZmlsdGVyKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bmN0aW9ucy5zZXRMaXN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRJbmZvUGFnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICBzdGF0aXN0aWNTZXJ2aWNlLmdldERldGFpbFNtc1R3b1dheSgkc2NvcGUuZGF0YS5pZFNtc1R3b3dheSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5mdW5jdGlvbnMuc2V0RGV0YWlsKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5mdW5jdGlvbnMuc2V0SGlnaENoYXJ0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBnZXREZXRhaWxTbXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgc3RhdGlzdGljU2VydmljZS5nZXRTbXNUd29XYXkoJHNjb3BlLmRhdGEuaWRTbXNUd293YXkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVuY3Rpb25zLnNldFNtcyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcmVwb3J0U21zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY1NlcnZpY2UucmVwb3J0U3RhdGljc1Ntc1R3b1dheSgkc2NvcGUuZGF0YS5pZFNtc1R3b3dheSwgJHNjb3BlLnRpdGxlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnc3RhdGlzdGljL2Rvd25sb2FkZXhjZWwvJyArICRzY29wZS50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuZnVuY3Rpb25zLmluaXRpYWwoKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9XSk7XHJcbn0pKCk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYW5ndWxhci9zdGF0aXN0aWMvY29udHJvbGxlcnMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports) {

eval("(function () {\r\n    angular.module('statistic.directives', []).directive('fallbackSrc', function () {\r\n        var fallbackSrc = {\r\n            link: function postLink(scope, iElement, iAttrs) {\r\n                iElement.bind('error', function () {\r\n                    angular.element(this).attr(\"src\", iAttrs.fallbackSrc);\r\n                });\r\n            }\r\n        }\r\n        return fallbackSrc;\r\n    });\r\n\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3N0YXRpc3RpYy9kaXJlY3RpdmVzLmpzP2FmMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsQ0FBQyIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdzdGF0aXN0aWMuZGlyZWN0aXZlcycsIFtdKS5kaXJlY3RpdmUoJ2ZhbGxiYWNrU3JjJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmYWxsYmFja1NyYyA9IHtcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlFbGVtZW50LmJpbmQoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCh0aGlzKS5hdHRyKFwic3JjXCIsIGlBdHRycy5mYWxsYmFja1NyYyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsbGJhY2tTcmM7XHJcbiAgICB9KTtcclxuXHJcbn0pKCk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYW5ndWxhci9zdGF0aXN0aWMvZGlyZWN0aXZlcy5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports) {

eval("(function () {\r\n  angular.module('statistic.services', [])\r\n          .factory('statisticService', ['$http', '$q', 'notificationService', '$window', function ($http, $q, notificationService, $window) {\r\n\r\n              function getAllInfoMail(idMail, type) {\r\n\r\n                if (type == \"complete\") {\r\n                  type = 1;\r\n                } else if (type == \"summary\") {\r\n                  type = 2;\r\n                } else {\r\n                  type = 0;\r\n                }\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getallinfomail/' + idMail + '/' + type;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n\r\n                return deferred.promise;\r\n              }\r\n\r\n              function infoOpen(idMail, initial) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/infoopen/' + idMail + \"/\" + initial;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function infoClic(idMail) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/infoclic/' + idMail;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function infoUnsuscribed(idMail) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/infounsuscribed/' + idMail;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function infoBounced(idMail) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/infobounced/' + idMail;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function infoSpam(idMail) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/infospam/' + idMail;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n              \r\n              function infoBuzon(idMail) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/infobuzon/' + idMail;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function dataInfo(idMail, page, route, filters, type) {\r\n                var deferred = $q.defer();\r\n                var arr = {route: route, filters: filters, type: type};\r\n                var url = fullUrlBase + 'api/statics/datainfo/' + idMail + \"/\" + page;\r\n                $http.post(url, arr)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function infoClicDetail(idMail, page, filter) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/datainfoclic/' + idMail + \"/\" + page;\r\n                $http.post(url, filter)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getAllCategoryBounced() {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getallcategorybounced';\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getAllDomain() {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getalldomain';\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getInfoSms(idSms) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getinfosms/' + idSms;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getDetailSms(idSms, page, phonesearch) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getdetailsms/' + idSms + \"/\" + page;\r\n                $http.post(url,{phonesearch: phonesearch} )\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function reportStatics(idMail, type, title) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/reportstatics/' + idMail + \"/\" + title;\r\n                $http.post(url, type)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function reportStaticsSms(idSms, title) { \r\n                \r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/reportstaticssms/' + idSms + \"/\" + title;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function reportStaticsSmsTwoWay(idSmsTwoway, title) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/reportstaticssmstwoway/' + idSmsTwoway + \"/\" + title;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function previewMailTemplateContent(id) {\r\n                var deferred = $q.defer();\r\n                var url = 'api/mail/preview/' + id;\r\n                $http.post(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                        });\r\n\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getAllInfoSurvey(idMail) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getallinfosurvey/' + idMail;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n\r\n                return deferred.promise;\r\n              }\r\n\r\n              function reportStaticsSurvey(idSurvey, title) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/reportstaticssurvey/' + idSurvey + \"/\" + title;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getAllIconfiguration(idAutomaticcampaign) {\r\n\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getallconfiguration/' + idAutomaticcampaign;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getAllSmsTwoway(idSmsTwoway, page, filter) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/smstwoway/detailsms';\r\n                $http.post(url, {idSmsTwoway: idSmsTwoway, page: page, filter: filter})\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getDetailSmsTwoWay(idSmsTwoWay) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/smstwoway/info/' + idSmsTwoWay;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getSmsTwoWay(idSmsTwoWay) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/smstwoway/getone/' + idSmsTwoWay;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n\r\n                return deferred.promise;\r\n              }\r\n\r\n              function getAutomaticCampaignByNode(data) {\r\n//                console.log(data);\r\n//                return;\r\n                var defer = $q.defer();\r\n                var url = fullUrlBase + \"api/statics/getAutomaticCampaignByNode\";\r\n                $http.post(url, data)\r\n                        .success(function (data) {\r\n                          defer.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          defer.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return defer.promise;\r\n              }\r\n\r\n              function getInfoStaticticsSms(idSms) {\r\n                var deferred = $q.defer();\r\n                var url = fullUrlBase + 'api/statics/getinfosms/' + idSms;\r\n                $http.get(url)\r\n                        .success(function (data) {\r\n                          deferred.resolve(data);\r\n                        })\r\n                        .error(function (data) {\r\n                          deferred.reject(data);\r\n                          notificationService.error(data.message);\r\n                        });\r\n                return deferred.promise;\r\n              }\r\n\r\n              return {\r\n                getAllInfoMail: getAllInfoMail,\r\n                infoOpen: infoOpen,\r\n                infoClic: infoClic,\r\n                infoUnsuscribed: infoUnsuscribed,\r\n                infoBounced: infoBounced,\r\n                infoSpam: infoSpam,\r\n                infoBuzon: infoBuzon,\r\n                dataInfo: dataInfo,\r\n                infoClicDetail: infoClicDetail,\r\n                getAllCategoryBounced: getAllCategoryBounced,\r\n                getAllDomain: getAllDomain,\r\n                getInfoSms: getInfoSms,\r\n                getDetailSms: getDetailSms,\r\n                reportStatics: reportStatics,\r\n                reportStaticsSms: reportStaticsSms,\r\n                previewMailTemplateContent: previewMailTemplateContent,\r\n                getAllInfoSurvey: getAllInfoSurvey,\r\n                reportStaticsSurvey: reportStaticsSurvey,\r\n                getAllIconfiguration: getAllIconfiguration,\r\n                getAllSmsTwoway: getAllSmsTwoway,\r\n                getDetailSmsTwoWay: getDetailSmsTwoWay,\r\n                getSmsTwoWay: getSmsTwoWay,\r\n                reportStaticsSmsTwoWay: reportStaticsSmsTwoWay,\r\n                getAutomaticCampaignByNode: getAutomaticCampaignByNode,\r\n                getInfoStaticticsSms: getInfoStaticticsSms\r\n              };\r\n            }])\r\n          .factory('notificationService', function () {\r\n            function error(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-remove-circle', 'danger');\r\n            }\r\n\r\n            function success(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-ok-circle', 'success');\r\n            }\r\n\r\n            function warning(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-exclamation-sign', 'warning');\r\n            }\r\n\r\n            function notice(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-exclamation-sign', 'notice');\r\n            }\r\n\r\n            function primary(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-exclamation-sign', 'primary');\r\n            }\r\n\r\n            return {\r\n              error: error,\r\n              success: success,\r\n              warning: warning,\r\n              notice: notice,\r\n              primary: primary\r\n            };\r\n          });\r\n})();\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3N0YXRpc3RpYy9zZXJ2aWNlcy5qcz8yOTllIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MseUJBQXlCO0FBQ3pEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBLHVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxREFBcUQ7QUFDdEY7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsQ0FBQyIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICBhbmd1bGFyLm1vZHVsZSgnc3RhdGlzdGljLnNlcnZpY2VzJywgW10pXHJcbiAgICAgICAgICAuZmFjdG9yeSgnc3RhdGlzdGljU2VydmljZScsIFsnJGh0dHAnLCAnJHEnLCAnbm90aWZpY2F0aW9uU2VydmljZScsICckd2luZG93JywgZnVuY3Rpb24gKCRodHRwLCAkcSwgbm90aWZpY2F0aW9uU2VydmljZSwgJHdpbmRvdykge1xyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRBbGxJbmZvTWFpbChpZE1haWwsIHR5cGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBcImNvbXBsZXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgdHlwZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJzdW1tYXJ5XCIpIHtcclxuICAgICAgICAgICAgICAgICAgdHlwZSA9IDI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB0eXBlID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3N0YXRpY3MvZ2V0YWxsaW5mb21haWwvJyArIGlkTWFpbCArICcvJyArIHR5cGU7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gaW5mb09wZW4oaWRNYWlsLCBpbml0aWFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zdGF0aWNzL2luZm9vcGVuLycgKyBpZE1haWwgKyBcIi9cIiArIGluaXRpYWw7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBpbmZvQ2xpYyhpZE1haWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3N0YXRpY3MvaW5mb2NsaWMvJyArIGlkTWFpbDtcclxuICAgICAgICAgICAgICAgICRodHRwLmdldCh1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGluZm9VbnN1c2NyaWJlZChpZE1haWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3N0YXRpY3MvaW5mb3Vuc3VzY3JpYmVkLycgKyBpZE1haWw7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBpbmZvQm91bmNlZChpZE1haWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3N0YXRpY3MvaW5mb2JvdW5jZWQvJyArIGlkTWFpbDtcclxuICAgICAgICAgICAgICAgICRodHRwLmdldCh1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGluZm9TcGFtKGlkTWFpbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc3RhdGljcy9pbmZvc3BhbS8nICsgaWRNYWlsO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KHVybClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBmdW5jdGlvbiBpbmZvQnV6b24oaWRNYWlsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zdGF0aWNzL2luZm9idXpvbi8nICsgaWRNYWlsO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KHVybClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gZGF0YUluZm8oaWRNYWlsLCBwYWdlLCByb3V0ZSwgZmlsdGVycywgdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBhcnIgPSB7cm91dGU6IHJvdXRlLCBmaWx0ZXJzOiBmaWx0ZXJzLCB0eXBlOiB0eXBlfTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc3RhdGljcy9kYXRhaW5mby8nICsgaWRNYWlsICsgXCIvXCIgKyBwYWdlO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCh1cmwsIGFycilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gaW5mb0NsaWNEZXRhaWwoaWRNYWlsLCBwYWdlLCBmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3N0YXRpY3MvZGF0YWluZm9jbGljLycgKyBpZE1haWwgKyBcIi9cIiArIHBhZ2U7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KHVybCwgZmlsdGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRBbGxDYXRlZ29yeUJvdW5jZWQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zdGF0aWNzL2dldGFsbGNhdGVnb3J5Ym91bmNlZCc7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRBbGxEb21haW4oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zdGF0aWNzL2dldGFsbGRvbWFpbic7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRJbmZvU21zKGlkU21zKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zdGF0aWNzL2dldGluZm9zbXMvJyArIGlkU21zO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KHVybClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RGV0YWlsU21zKGlkU21zLCBwYWdlLCBwaG9uZXNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc3RhdGljcy9nZXRkZXRhaWxzbXMvJyArIGlkU21zICsgXCIvXCIgKyBwYWdlO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCh1cmwse3Bob25lc2VhcmNoOiBwaG9uZXNlYXJjaH0gKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiByZXBvcnRTdGF0aWNzKGlkTWFpbCwgdHlwZSwgdGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3N0YXRpY3MvcmVwb3J0c3RhdGljcy8nICsgaWRNYWlsICsgXCIvXCIgKyB0aXRsZTtcclxuICAgICAgICAgICAgICAgICRodHRwLnBvc3QodXJsLCB0eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiByZXBvcnRTdGF0aWNzU21zKGlkU21zLCB0aXRsZSkgeyBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc3RhdGljcy9yZXBvcnRzdGF0aWNzc21zLycgKyBpZFNtcyArIFwiL1wiICsgdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiByZXBvcnRTdGF0aWNzU21zVHdvV2F5KGlkU21zVHdvd2F5LCB0aXRsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc3RhdGljcy9yZXBvcnRzdGF0aWNzc21zdHdvd2F5LycgKyBpZFNtc1R3b3dheSArIFwiL1wiICsgdGl0bGU7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBwcmV2aWV3TWFpbFRlbXBsYXRlQ29udGVudChpZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSAnYXBpL21haWwvcHJldmlldy8nICsgaWQ7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KHVybClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QWxsSW5mb1N1cnZleShpZE1haWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3N0YXRpY3MvZ2V0YWxsaW5mb3N1cnZleS8nICsgaWRNYWlsO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KHVybClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIHJlcG9ydFN0YXRpY3NTdXJ2ZXkoaWRTdXJ2ZXksIHRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zdGF0aWNzL3JlcG9ydHN0YXRpY3NzdXJ2ZXkvJyArIGlkU3VydmV5ICsgXCIvXCIgKyB0aXRsZTtcclxuICAgICAgICAgICAgICAgICRodHRwLmdldCh1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGdldEFsbEljb25maWd1cmF0aW9uKGlkQXV0b21hdGljY2FtcGFpZ24pIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zdGF0aWNzL2dldGFsbGNvbmZpZ3VyYXRpb24vJyArIGlkQXV0b21hdGljY2FtcGFpZ247XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QWxsU21zVHdvd2F5KGlkU21zVHdvd2F5LCBwYWdlLCBmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyAnYXBpL3Ntc3R3b3dheS9kZXRhaWxzbXMnO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCh1cmwsIHtpZFNtc1R3b3dheTogaWRTbXNUd293YXksIHBhZ2U6IHBhZ2UsIGZpbHRlcjogZmlsdGVyfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGdldERldGFpbFNtc1R3b1dheShpZFNtc1R3b1dheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc21zdHdvd2F5L2luZm8vJyArIGlkU21zVHdvV2F5O1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KHVybClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNtc1R3b1dheShpZFNtc1R3b1dheSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc21zdHdvd2F5L2dldG9uZS8nICsgaWRTbXNUd29XYXk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QXV0b21hdGljQ2FtcGFpZ25CeU5vZGUoZGF0YSkge1xyXG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuLy8gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArIFwiYXBpL3N0YXRpY3MvZ2V0QXV0b21hdGljQ2FtcGFpZ25CeU5vZGVcIjtcclxuICAgICAgICAgICAgICAgICRodHRwLnBvc3QodXJsLCBkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRJbmZvU3RhdGljdGljc1NtcyhpZFNtcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBmdWxsVXJsQmFzZSArICdhcGkvc3RhdGljcy9nZXRpbmZvc21zLycgKyBpZFNtcztcclxuICAgICAgICAgICAgICAgICRodHRwLmdldCh1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBnZXRBbGxJbmZvTWFpbDogZ2V0QWxsSW5mb01haWwsXHJcbiAgICAgICAgICAgICAgICBpbmZvT3BlbjogaW5mb09wZW4sXHJcbiAgICAgICAgICAgICAgICBpbmZvQ2xpYzogaW5mb0NsaWMsXHJcbiAgICAgICAgICAgICAgICBpbmZvVW5zdXNjcmliZWQ6IGluZm9VbnN1c2NyaWJlZCxcclxuICAgICAgICAgICAgICAgIGluZm9Cb3VuY2VkOiBpbmZvQm91bmNlZCxcclxuICAgICAgICAgICAgICAgIGluZm9TcGFtOiBpbmZvU3BhbSxcclxuICAgICAgICAgICAgICAgIGluZm9CdXpvbjogaW5mb0J1em9uLFxyXG4gICAgICAgICAgICAgICAgZGF0YUluZm86IGRhdGFJbmZvLFxyXG4gICAgICAgICAgICAgICAgaW5mb0NsaWNEZXRhaWw6IGluZm9DbGljRGV0YWlsLFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsQ2F0ZWdvcnlCb3VuY2VkOiBnZXRBbGxDYXRlZ29yeUJvdW5jZWQsXHJcbiAgICAgICAgICAgICAgICBnZXRBbGxEb21haW46IGdldEFsbERvbWFpbixcclxuICAgICAgICAgICAgICAgIGdldEluZm9TbXM6IGdldEluZm9TbXMsXHJcbiAgICAgICAgICAgICAgICBnZXREZXRhaWxTbXM6IGdldERldGFpbFNtcyxcclxuICAgICAgICAgICAgICAgIHJlcG9ydFN0YXRpY3M6IHJlcG9ydFN0YXRpY3MsXHJcbiAgICAgICAgICAgICAgICByZXBvcnRTdGF0aWNzU21zOiByZXBvcnRTdGF0aWNzU21zLFxyXG4gICAgICAgICAgICAgICAgcHJldmlld01haWxUZW1wbGF0ZUNvbnRlbnQ6IHByZXZpZXdNYWlsVGVtcGxhdGVDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsSW5mb1N1cnZleTogZ2V0QWxsSW5mb1N1cnZleSxcclxuICAgICAgICAgICAgICAgIHJlcG9ydFN0YXRpY3NTdXJ2ZXk6IHJlcG9ydFN0YXRpY3NTdXJ2ZXksXHJcbiAgICAgICAgICAgICAgICBnZXRBbGxJY29uZmlndXJhdGlvbjogZ2V0QWxsSWNvbmZpZ3VyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGxTbXNUd293YXk6IGdldEFsbFNtc1R3b3dheSxcclxuICAgICAgICAgICAgICAgIGdldERldGFpbFNtc1R3b1dheTogZ2V0RGV0YWlsU21zVHdvV2F5LFxyXG4gICAgICAgICAgICAgICAgZ2V0U21zVHdvV2F5OiBnZXRTbXNUd29XYXksXHJcbiAgICAgICAgICAgICAgICByZXBvcnRTdGF0aWNzU21zVHdvV2F5OiByZXBvcnRTdGF0aWNzU21zVHdvV2F5LFxyXG4gICAgICAgICAgICAgICAgZ2V0QXV0b21hdGljQ2FtcGFpZ25CeU5vZGU6IGdldEF1dG9tYXRpY0NhbXBhaWduQnlOb2RlLFxyXG4gICAgICAgICAgICAgICAgZ2V0SW5mb1N0YXRpY3RpY3NTbXM6IGdldEluZm9TdGF0aWN0aWNzU21zXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuZmFjdG9yeSgnbm90aWZpY2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgIHNsaWRlT25Ub3AobWVzc2FnZSwgNDAwMCwgJ2dseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlLWNpcmNsZScsICdkYW5nZXInKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgc2xpZGVPblRvcChtZXNzYWdlLCA0MDAwLCAnZ2x5cGhpY29uIGdseXBoaWNvbi1vay1jaXJjbGUnLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICBzbGlkZU9uVG9wKG1lc3NhZ2UsIDQwMDAsICdnbHlwaGljb24gZ2x5cGhpY29uLWV4Y2xhbWF0aW9uLXNpZ24nLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBub3RpY2UobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgIHNsaWRlT25Ub3AobWVzc2FnZSwgNDAwMCwgJ2dseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbicsICdub3RpY2UnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcHJpbWFyeShtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgc2xpZGVPblRvcChtZXNzYWdlLCA0MDAwLCAnZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduJywgJ3ByaW1hcnknKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXHJcbiAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcclxuICAgICAgICAgICAgICB3YXJuaW5nOiB3YXJuaW5nLFxyXG4gICAgICAgICAgICAgIG5vdGljZTogbm90aWNlLFxyXG4gICAgICAgICAgICAgIHByaW1hcnk6IHByaW1hcnlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG59KSgpO1xyXG5cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hbmd1bGFyL3N0YXRpc3RpYy9zZXJ2aWNlcy5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ })
/******/ ]);