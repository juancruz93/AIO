/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(1);\n__webpack_require__(2);\n__webpack_require__(3);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3Ntc3RlbXBsYXRlL21haW4uanM/MDEwZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQkFBTyxDQUFDLENBQWlCO0FBQ3pCLG1CQUFPLENBQUMsQ0FBVTtBQUNsQixtQkFBTyxDQUFDLENBQWUiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vY29udHJvbGxlci5qcycpO1xucmVxdWlyZSgnLi9hcHAuanMnKTtcbnJlcXVpcmUoJy4vc2VydmljZXMuanMnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYW5ndWxhci9zbXN0ZW1wbGF0ZS9tYWluLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("(function () {\r\n  angular.module('smstemplate.controller', [])\r\n          .filter('propsFilter', function () {\r\n            return function (items, props) {\r\n              var out = [];\r\n\r\n              if (angular.isArray(items)) {\r\n                var keys = Object.keys(props);\r\n\r\n                items.forEach(function (item) {\r\n                  var itemMatches = false;\r\n\r\n                  for (var i = 0; i < keys.length; i++) {\r\n                    var prop = keys[i];\r\n                    var text = props[prop].toLowerCase();\r\n                    if (item[prop].toString().toLowerCase().indexOf(text) !== -1) {\r\n                      itemMatches = true;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (itemMatches) {\r\n                    out.push(item);\r\n                  }\r\n                });\r\n              } else {\r\n                // Let the output be the input untouched\r\n                out = items;\r\n              }\r\n\r\n              return out;\r\n            };\r\n          })\r\n          .controller('listController', ['$scope', 'RestServices', '$stateParams', 'notificationService', function ($scope, RestServices, $stateParams, notificationService) {\r\n              $scope.errorChart = false;\r\n//-----------------------------------------------\r\n              //Se cargan las categorias según la cuenta\r\n              $scope.loadsmstemplatecategory = function () {\r\n                RestServices.listSmsTemplateCategory().then(function (data) {\r\n                  $scope.listcateg = data;\r\n                });\r\n              };\r\n\r\n              $scope.loadsmstemplatecategory();\r\n//-----------------------------------------------\r\n              $scope.initial = 0;\r\n              $scope.page = 1;\r\n\r\n              $scope.forward = function () {\r\n                $scope.initial += 1;\r\n                $scope.page += 1;\r\n                $scope.listsmstemplate();\r\n              };\r\n              $scope.fastforward = function () {\r\n                $scope.initial = ($scope.list.total_pages - 1);\r\n                $scope.page = $scope.list.total_pages;\r\n                $scope.listsmstemplate();\r\n              };\r\n              $scope.backward = function () {\r\n                $scope.initial -= 1;\r\n                $scope.page -= 1;\r\n                $scope.listsmstemplate();\r\n              };\r\n              $scope.fastbackward = function () {\r\n                $scope.initial = 0;\r\n                $scope.page = 1;\r\n                $scope.listsmstemplate();\r\n              };\r\n\r\n              $scope.listsmstemplate = function () {\r\n                RestServices.listSmsTemplate($scope.initial, $scope.data).then(function (data) {\r\n                  $scope.list = data;\r\n                });\r\n              };\r\n              $scope.listsmstemplate();\r\n//-----------------------------------------------\r\n//Filtros\r\n              $scope.filterCateg = function () {\r\n                RestServices.listSmsTemplate($scope.initial, $scope.data).then(function (data) {\r\n                  $scope.list = data;\r\n                });\r\n              };\r\n\r\n              $scope.filtername = function () {\r\n                RestServices.listSmsTemplate($scope.initial, $scope.data).then(function (data) {\r\n                  $scope.list = data;\r\n                });\r\n              };\r\n//-----------------------------------------------\r\n//Validar contenido SMS\r\n\r\n\r\n//-----------------------------------------------\r\n//Eliminar\r\n              $scope.confirmDelete = function (idSmsTemplate) {\r\n                console.log(idSmsTemplate);\r\n                $scope.idSmsTemplate = idSmsTemplate;\r\n                openModal();\r\n              };\r\n              $scope.deleteSmstemplate = function () {\r\n                RestServices.deleteSmstemplate($scope.idSmsTemplate).then(function (data) {\r\n                  closeModal();\r\n                  notificationService.warning(data.message);\r\n                  $scope.getAll();\r\n                });\r\n              };\r\n\r\n              $scope.getAll = function () {\r\n                RestServices.getAll($scope.initial).then(function (data) {\r\n                  $scope.list = data;\r\n                });\r\n              };\r\n            }])\r\n          .controller('createController', ['$scope', 'RestServices', '$stateParams', 'notificationService', '$state', function ($scope, RestServices, $stateParams, notificationService, $state) {\r\n              //-----------------------------------------------\r\n              //Se cargan las categorias según la cuenta\r\n              $scope.newcategorytemplatesms = false;\r\n              $scope.showTags = false;\r\n              $scope.morecaracter = false;\r\n              $scope.existTags = false;\r\n              $scope.loadsmstemplatecategory = function () {\r\n                RestServices.listSmsTemplateCategory().then(function (data) {\r\n                  $scope.listcateg = data;\r\n                });\r\n              };\r\n              $scope.loadsmstemplatecategory();\r\n\r\n              $scope.validateContent = function () {\r\n                $scope.errorChart = false;\r\n                if (!$scope.contenttempsms.match(/^[0-9A-Za-z_ \\\\\\/\\\\'\\-!#$%&()*+,.:;<=>?@]{1,160}$/i)) {\r\n                  $scope.errorChart = true;\r\n                  return;\r\n                }\r\n              };\r\n              \r\n             $scope.opeModalMoreCa = function () {\r\n              if( $('#morecaracter').prop('checked') ) {\r\n                   $('#alertMoreCaracter').removeClass('modal'); \r\n                   $('#alertMoreCaracter').addClass('dialog dialog--open'); \r\n                }\r\n              }\r\n\r\n              $scope.newCateg = function () {\r\n                $scope.newcategorytemplatesms = true;\r\n              };\r\n\r\n              $scope.cancelCateg = function () {\r\n                $scope.newsmstempcateg = '';\r\n                $scope.newcategorytemplatesms = false;\r\n              };\r\n\r\n              $scope.saveCateg = function () {\r\n                if (angular.isUndefined($scope.newsmstempcateg) || $scope.newsmstempcateg === '') {\r\n                  notificationService.error(\"El campo de nueva categoría no puede estar vacío\");\r\n                  return;\r\n                }\r\n                if ($scope.newsmstempcateg.length < 2 || $scope.newsmstempcateg.length > 80) {\r\n                  notificationService.error(\"El campo de nueva categoría debe tener mínimo 2 caracteres y máximo 80\");\r\n                  return;\r\n                }\r\n\r\n                var data = {\r\n                  name: $scope.newsmstempcateg\r\n                };\r\n\r\n                RestServices.saveSmsTempCateg(data).then(function (data) {\r\n                  notificationService.success(data.message);\r\n                  $scope.newsmstempcateg = '';\r\n                  $scope.newcategorytemplatesms = false;\r\n                  $scope.loadsmstemplatecategory();\r\n                  $scope.smstempcateg = data.idSmsTemplateCategory;\r\n                });\r\n\r\n\r\n              };\r\n\r\n//-----------------------------------------------\r\n\r\n              $scope.saveSmsTemplate = function () {\r\n                var message = $('#contenttempsms').val(); \r\n                $scope.contenttempsms = message;\r\n                var data = {\r\n                  name: $scope.nametempsms,\r\n                  categ: $scope.smstempcateg,\r\n                  morecaracter : $scope.morecaracter,\r\n                  content: $scope.contenttempsms\r\n                };\r\n\r\n                RestServices.saveSmsTemplate(data).then(function (data) {\r\n                  notificationService.success(data.message);\r\n                  $state.go(\"index\");\r\n                });\r\n              };\r\n              $scope.getTags = function () {\r\n                RestServices.getTags().then(function (data) {\r\n                  $scope.tags = data;\r\n                });\r\n                console.log($scope.tags);\r\n              };\r\n              $scope.addTag = function (tag) {\r\n                if (typeof $scope.contenttempsms == \"undefined\") {\r\n                  $scope.contenttempsms = \"\";\r\n                  $scope.contenttempsms += tag;\r\n                } else {\r\n                  $scope.contenttempsms += \" \" + tag;\r\n                }\r\n\r\n                $scope.validateInLine();\r\n              }\r\n\r\n              $scope.validateInLine = function () {\r\n                $scope.taggedMessage = $scope.contenttempsms;\r\n                var tags = /%%+[a-zA-Z0-9_]+%%/;\r\n                if (tags.test($scope.contenttempsms)) {\r\n                  $scope.existTags = true;\r\n                  $scope.taggedMessage = \"\";\r\n                  var words = $scope.contenttempsms.split(\" \");\r\n                  for (var cont = 0; cont < words.length; cont++) {\r\n                    var word = words[cont];\r\n                    if (word.substr(0, 2) == \"%%\" && (word.substr(-2) == \"%%\" || word.substr(-3) == \"%%,\" || word.substr(-3) == \"%%.\" || word.substr(-3) == \"%%;\")) {\r\n                      word = word.substr(2);\r\n                      word = \"<b><i>\" + word;\r\n                      if (word.substr(-2) == \"%%\") {\r\n                        word = word.substr(0, word.length - 2);\r\n                      } else if (word.substr(-3) == \"%%,\" || word.substr(-3) == \"%%.\" || word.substr(-3) == \"%%;\") {\r\n                        word = word.substr(0, word.length - 3);\r\n                      }\r\n                      word = word + \"</i></b>\";\r\n                    }\r\n                    $scope.taggedMessage += word + \" \";\r\n                  }\r\n\r\n                }\r\n\r\n              };\r\n              $scope.openPreview = function () {\r\n                $(\"#preview\").addClass('dialog--open');\r\n              }\r\n              $scope.closePreview = function () {\r\n                $(\"#preview\").removeClass('dialog--open');\r\n              }\r\n              $scope.toggleAllTags = function () {\r\n                $(\".allTags\").toggle('slow');\r\n              }\r\n              $scope.getTags();\r\n            }])\r\n          .controller('editController', ['$scope', 'RestServices', '$stateParams', 'notificationService', '$state', function ($scope, RestServices, $stateParams, notificationService, $state) {\r\n              $scope.errorChart = false;\r\n              $scope.showTags = false;\r\n//-----------------------------------------------\r\n              //Se cargan las categorias según la cuenta\r\n              $scope.loadsmstemplatecategory = function () {\r\n                RestServices.listSmsTemplateCategory().then(function (data) {\r\n                  $scope.listcateg = data;\r\n                });\r\n              };\r\n\r\n              $scope.loadsmstemplatecategory();\r\n\r\n              $scope.newCateg = function () {\r\n                $scope.newcategorytemplatesms = true;\r\n              };\r\n\r\n              $scope.cancelCateg = function () {\r\n                $scope.newsmstempcateg = '';\r\n                $scope.newcategorytemplatesms = false;\r\n              };\r\n\r\n              $scope.validateContent = function () {\r\n                $scope.errorChart = false;\r\n                if (!$scope.data.contenttempsms.match(/^[0-9A-Za-z_ \\\\\\/\\\\'\\-!#$%&()*+,.:;<=>?@]{1,160}$/i)) {\r\n                  $scope.errorChart = true;\r\n                  return;\r\n                }\r\n              };\r\n              \r\n              $scope.opeModalMoreCa = function () {\r\n                if( $('#morecaracter').prop('checked') ) {\r\n                   $('#alertMoreCaracter').removeClass('modal'); \r\n                   $('#alertMoreCaracter').addClass('dialog dialog--open'); \r\n                }\r\n              }\r\n              \r\n              $scope.saveCateg = function () {\r\n                if (angular.isUndefined($scope.newsmstempcateg) || $scope.newsmstempcateg === '') {\r\n                  notificationService.error(\"El campo de nueva categoría no puede estar vacío\");\r\n                  return;\r\n                }\r\n                if ($scope.newsmstempcateg.length < 2 || $scope.newsmstempcateg.length > 80) {\r\n                  notificationService.error(\"El campo de nueva categoría debe tener mínimo 2 caracteres y máximo 80\");\r\n                  return;\r\n                }\r\n\r\n                var data = {\r\n                  name: $scope.newsmstempcateg\r\n                };\r\n\r\n                RestServices.saveSmsTempCateg(data).then(function (data) {\r\n                  notificationService.success(data.message);\r\n                  $scope.newsmstempcateg = '';\r\n                  $scope.newcategorytemplatesms = false;\r\n                  $scope.loadsmstemplatecategory();\r\n                  $scope.data.smstempcateg = data.idSmsTemplateCategory;\r\n                });\r\n              };\r\n//-----------------------------------------------\r\n              $scope.loadDataOneSmsTemplate = function () {\r\n                RestServices.getSmsTemplate($stateParams.idsmstemplate).then(function (data) {\r\n                  $scope.idSmsTemplate = data.idSmsTemplate;\r\n                  $scope.data = data;\r\n                  $scope.validateInLine();\r\n                });\r\n              };\r\n\r\n              $scope.loadDataOneSmsTemplate();\r\n//-----------------------------------------------\r\n              $scope.editSmsTemplate = function () {\r\n                var message = $('#contenttempsms').val(); \r\n                $scope.data.contenttempsms = message;\r\n                message = null;\r\n                var datap = {\r\n                  idSmsTemplate: $scope.idSmsTemplate,\r\n                  name: $scope.data.nametempsms,\r\n                  categ: $scope.data.smstempcateg,\r\n                  morecaracter : $scope.data.morecaracter,\r\n                  content: $scope.data.contenttempsms\r\n                };\r\n                RestServices.editSmsTemplate(datap).then(function (data) {\r\n                  notificationService.success(data.message);\r\n                  $state.go(\"index\");\r\n                });\r\n              };\r\n\r\n              $scope.getTags = function () {\r\n                RestServices.getTags().then(function (data) {\r\n                  $scope.tags = data;\r\n                });\r\n                console.log($scope.tags);\r\n              };\r\n              $scope.addTag = function (tag) {\r\n                $scope.data.contenttempsms += \" \" + tag;\r\n                $scope.validateInLine();\r\n              }\r\n\r\n              $scope.validateInLine = function () {\r\n//                $scope.invalidCharacters = false;\r\n//                $scope.existTags = false;\r\n                $scope.taggedMessage = $scope.data.contenttempsms;\r\n                var tags = /%%+[a-zA-Z0-9_]+%%/;\r\n\r\n                if (tags.test($scope.data.contenttempsms)) {\r\n                  $scope.existTags = true;\r\n                  $scope.taggedMessage = \"\";\r\n                  var words = $scope.data.contenttempsms.split(\" \");\r\n                  for (var cont = 0; cont < words.length; cont++) {\r\n                    var word = words[cont];\r\n                    if (word.substr(0, 2) == \"%%\" && (word.substr(-2) == \"%%\" || word.substr(-3) == \"%%,\" || word.substr(-3) == \"%%.\" || word.substr(-3) == \"%%;\")) {\r\n                      word = word.substr(2);\r\n                      word = \"<b><i>\" + word;\r\n                      if (word.substr(-2) == \"%%\") {\r\n                        word = word.substr(0, word.length - 2);\r\n                      } else if (word.substr(-3) == \"%%,\" || word.substr(-3) == \"%%.\" || word.substr(-3) == \"%%;\") {\r\n                        word = word.substr(0, word.length - 3);\r\n                      }\r\n                      word = word + \"</i></b>\";\r\n                    }\r\n                    $scope.taggedMessage += word + \" \";\r\n                  }\r\n\r\n                }\r\n\r\n              };\r\n              $scope.openPreview = function () {\r\n                $(\"#preview\").addClass('dialog--open');\r\n              }\r\n              $scope.closePreview = function () {\r\n                $(\"#preview\").removeClass('dialog--open');\r\n              }\r\n              $scope.toggleAllTags = function () {\r\n                $(\".allTags\").toggle('slow');\r\n              }\r\n              $scope.getTags();\r\n            }]);\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3Ntc3RlbXBsYXRlL2NvbnRyb2xsZXIuanM/ZmIzMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUMsaUJBQWlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxRkFBcUYsT0FBTyxNQUFNO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnRTtBQUNBLDJFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7OztBQUdqQjs7QUFFQTs7QUFFQTtBQUNBLHlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscUJBQXFCO0FBQ3pEO0FBQ0EsZ0tBQWdLO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlGQUF5RjtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEZBQTBGLE9BQU8sTUFBTTtBQUN2RztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0U7QUFDQSwyRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHFCQUFxQjtBQUN6RDtBQUNBLGdLQUFnSztBQUNoSztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5RkFBeUY7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsQ0FBQyIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICBhbmd1bGFyLm1vZHVsZSgnc21zdGVtcGxhdGUuY29udHJvbGxlcicsIFtdKVxyXG4gICAgICAgICAgLmZpbHRlcigncHJvcHNGaWx0ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaXRlbXMsIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG91dCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGl0ZW1zKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgaXRlbU1hdGNoZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHByb3BzW3Byb3BdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1bcHJvcF0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtTWF0Y2hlcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIGlmIChpdGVtTWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTGV0IHRoZSBvdXRwdXQgYmUgdGhlIGlucHV0IHVudG91Y2hlZFxyXG4gICAgICAgICAgICAgICAgb3V0ID0gaXRlbXM7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdsaXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ1Jlc3RTZXJ2aWNlcycsICckc3RhdGVQYXJhbXMnLCAnbm90aWZpY2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIFJlc3RTZXJ2aWNlcywgJHN0YXRlUGFyYW1zLCBub3RpZmljYXRpb25TZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmVycm9yQ2hhcnQgPSBmYWxzZTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgIC8vU2UgY2FyZ2FuIGxhcyBjYXRlZ29yaWFzIHNlZ8O6biBsYSBjdWVudGFcclxuICAgICAgICAgICAgICAkc2NvcGUubG9hZHNtc3RlbXBsYXRlY2F0ZWdvcnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBSZXN0U2VydmljZXMubGlzdFNtc1RlbXBsYXRlQ2F0ZWdvcnkoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0Y2F0ZWcgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRzbXN0ZW1wbGF0ZWNhdGVnb3J5KCk7XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnBhZ2UgPSAxO1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuZm9yd2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsICs9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3RzbXN0ZW1wbGF0ZSgpO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmZhc3Rmb3J3YXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluaXRpYWwgPSAoJHNjb3BlLmxpc3QudG90YWxfcGFnZXMgLSAxKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlID0gJHNjb3BlLmxpc3QudG90YWxfcGFnZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlzdHNtc3RlbXBsYXRlKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuYmFja3dhcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCAtPSAxO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2UgLT0gMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5saXN0c21zdGVtcGxhdGUoKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5mYXN0YmFja3dhcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlzdHNtc3RlbXBsYXRlKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmxpc3RzbXN0ZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIFJlc3RTZXJ2aWNlcy5saXN0U21zVGVtcGxhdGUoJHNjb3BlLmluaXRpYWwsICRzY29wZS5kYXRhKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmxpc3RzbXN0ZW1wbGF0ZSgpO1xyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vRmlsdHJvc1xyXG4gICAgICAgICAgICAgICRzY29wZS5maWx0ZXJDYXRlZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIFJlc3RTZXJ2aWNlcy5saXN0U21zVGVtcGxhdGUoJHNjb3BlLmluaXRpYWwsICRzY29wZS5kYXRhKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5maWx0ZXJuYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgUmVzdFNlcnZpY2VzLmxpc3RTbXNUZW1wbGF0ZSgkc2NvcGUuaW5pdGlhbCwgJHNjb3BlLmRhdGEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL1ZhbGlkYXIgY29udGVuaWRvIFNNU1xyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9FbGltaW5hclxyXG4gICAgICAgICAgICAgICRzY29wZS5jb25maXJtRGVsZXRlID0gZnVuY3Rpb24gKGlkU21zVGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkU21zVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlkU21zVGVtcGxhdGUgPSBpZFNtc1RlbXBsYXRlO1xyXG4gICAgICAgICAgICAgICAgb3Blbk1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlU21zdGVtcGxhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBSZXN0U2VydmljZXMuZGVsZXRlU21zdGVtcGxhdGUoJHNjb3BlLmlkU21zVGVtcGxhdGUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLndhcm5pbmcoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIFJlc3RTZXJ2aWNlcy5nZXRBbGwoJHNjb3BlLmluaXRpYWwpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfV0pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignY3JlYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ1Jlc3RTZXJ2aWNlcycsICckc3RhdGVQYXJhbXMnLCAnbm90aWZpY2F0aW9uU2VydmljZScsICckc3RhdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCBSZXN0U2VydmljZXMsICRzdGF0ZVBhcmFtcywgbm90aWZpY2F0aW9uU2VydmljZSwgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgIC8vU2UgY2FyZ2FuIGxhcyBjYXRlZ29yaWFzIHNlZ8O6biBsYSBjdWVudGFcclxuICAgICAgICAgICAgICAkc2NvcGUubmV3Y2F0ZWdvcnl0ZW1wbGF0ZXNtcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICRzY29wZS5zaG93VGFncyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICRzY29wZS5tb3JlY2FyYWN0ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RUYWdzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRzbXN0ZW1wbGF0ZWNhdGVnb3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgUmVzdFNlcnZpY2VzLmxpc3RTbXNUZW1wbGF0ZUNhdGVnb3J5KCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdGNhdGVnID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRzbXN0ZW1wbGF0ZWNhdGVnb3J5KCk7XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JDaGFydCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY29udGVudHRlbXBzbXMubWF0Y2goL15bMC05QS1aYS16XyBcXFxcXFwvXFxcXCdcXC0hIyQlJigpKissLjo7PD0+P0BdezEsMTYwfSQvaSkpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yQ2hhcnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICRzY29wZS5vcGVNb2RhbE1vcmVDYSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICBpZiggJCgnI21vcmVjYXJhY3RlcicpLnByb3AoJ2NoZWNrZWQnKSApIHtcclxuICAgICAgICAgICAgICAgICAgICQoJyNhbGVydE1vcmVDYXJhY3RlcicpLnJlbW92ZUNsYXNzKCdtb2RhbCcpOyBcclxuICAgICAgICAgICAgICAgICAgICQoJyNhbGVydE1vcmVDYXJhY3RlcicpLmFkZENsYXNzKCdkaWFsb2cgZGlhbG9nLS1vcGVuJyk7IFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLm5ld0NhdGVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld2NhdGVnb3J5dGVtcGxhdGVzbXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5jYW5jZWxDYXRlZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdzbXN0ZW1wY2F0ZWcgPSAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdjYXRlZ29yeXRlbXBsYXRlc21zID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnNhdmVDYXRlZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5uZXdzbXN0ZW1wY2F0ZWcpIHx8ICRzY29wZS5uZXdzbXN0ZW1wY2F0ZWcgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoXCJFbCBjYW1wbyBkZSBudWV2YSBjYXRlZ29yw61hIG5vIHB1ZWRlIGVzdGFyIHZhY8Otb1wiKTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdzbXN0ZW1wY2F0ZWcubGVuZ3RoIDwgMiB8fCAkc2NvcGUubmV3c21zdGVtcGNhdGVnLmxlbmd0aCA+IDgwKSB7XHJcbiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoXCJFbCBjYW1wbyBkZSBudWV2YSBjYXRlZ29yw61hIGRlYmUgdGVuZXIgbcOtbmltbyAyIGNhcmFjdGVyZXMgeSBtw6F4aW1vIDgwXCIpO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5uZXdzbXN0ZW1wY2F0ZWdcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgUmVzdFNlcnZpY2VzLnNhdmVTbXNUZW1wQ2F0ZWcoZGF0YSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLnN1Y2Nlc3MoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld3Ntc3RlbXBjYXRlZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubmV3Y2F0ZWdvcnl0ZW1wbGF0ZXNtcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZHNtc3RlbXBsYXRlY2F0ZWdvcnkoKTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLnNtc3RlbXBjYXRlZyA9IGRhdGEuaWRTbXNUZW1wbGF0ZUNhdGVnb3J5O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICB9O1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVNtc1RlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAkKCcjY29udGVudHRlbXBzbXMnKS52YWwoKTsgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29udGVudHRlbXBzbXMgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5uYW1ldGVtcHNtcyxcclxuICAgICAgICAgICAgICAgICAgY2F0ZWc6ICRzY29wZS5zbXN0ZW1wY2F0ZWcsXHJcbiAgICAgICAgICAgICAgICAgIG1vcmVjYXJhY3RlciA6ICRzY29wZS5tb3JlY2FyYWN0ZXIsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICRzY29wZS5jb250ZW50dGVtcHNtc1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBSZXN0U2VydmljZXMuc2F2ZVNtc1RlbXBsYXRlKGRhdGEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5zdWNjZXNzKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcImluZGV4XCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUuZ2V0VGFncyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIFJlc3RTZXJ2aWNlcy5nZXRUYWdzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUudGFncyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS50YWdzKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5hZGRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mICRzY29wZS5jb250ZW50dGVtcHNtcyA9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50dGVtcHNtcyA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50dGVtcHNtcyArPSB0YWc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY29udGVudHRlbXBzbXMgKz0gXCIgXCIgKyB0YWc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlSW5MaW5lKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVJbkxpbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFnZ2VkTWVzc2FnZSA9ICRzY29wZS5jb250ZW50dGVtcHNtcztcclxuICAgICAgICAgICAgICAgIHZhciB0YWdzID0gLyUlK1thLXpBLVowLTlfXSslJS87XHJcbiAgICAgICAgICAgICAgICBpZiAodGFncy50ZXN0KCRzY29wZS5jb250ZW50dGVtcHNtcykpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0VGFncyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS50YWdnZWRNZXNzYWdlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgdmFyIHdvcmRzID0gJHNjb3BlLmNvbnRlbnR0ZW1wc21zLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY29udCA9IDA7IGNvbnQgPCB3b3Jkcy5sZW5ndGg7IGNvbnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3b3JkID0gd29yZHNbY29udF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQuc3Vic3RyKDAsIDIpID09IFwiJSVcIiAmJiAod29yZC5zdWJzdHIoLTIpID09IFwiJSVcIiB8fCB3b3JkLnN1YnN0cigtMykgPT0gXCIlJSxcIiB8fCB3b3JkLnN1YnN0cigtMykgPT0gXCIlJS5cIiB8fCB3b3JkLnN1YnN0cigtMykgPT0gXCIlJTtcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSB3b3JkLnN1YnN0cigyKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSBcIjxiPjxpPlwiICsgd29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JkLnN1YnN0cigtMikgPT0gXCIlJVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSB3b3JkLnN1YnN0cigwLCB3b3JkLmxlbmd0aCAtIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JkLnN1YnN0cigtMykgPT0gXCIlJSxcIiB8fCB3b3JkLnN1YnN0cigtMykgPT0gXCIlJS5cIiB8fCB3b3JkLnN1YnN0cigtMykgPT0gXCIlJTtcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gd29yZC5zdWJzdHIoMCwgd29yZC5sZW5ndGggLSAzKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSB3b3JkICsgXCI8L2k+PC9iPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFnZ2VkTWVzc2FnZSArPSB3b3JkICsgXCIgXCI7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm9wZW5QcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChcIiNwcmV2aWV3XCIpLmFkZENsYXNzKCdkaWFsb2ctLW9wZW4nKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlUHJldmlldyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjcHJldmlld1wiKS5yZW1vdmVDbGFzcygnZGlhbG9nLS1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICRzY29wZS50b2dnbGVBbGxUYWdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5hbGxUYWdzXCIpLnRvZ2dsZSgnc2xvdycpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkc2NvcGUuZ2V0VGFncygpO1xyXG4gICAgICAgICAgICB9XSlcclxuICAgICAgICAgIC5jb250cm9sbGVyKCdlZGl0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ1Jlc3RTZXJ2aWNlcycsICckc3RhdGVQYXJhbXMnLCAnbm90aWZpY2F0aW9uU2VydmljZScsICckc3RhdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCBSZXN0U2VydmljZXMsICRzdGF0ZVBhcmFtcywgbm90aWZpY2F0aW9uU2VydmljZSwgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmVycm9yQ2hhcnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAkc2NvcGUuc2hvd1RhZ3MgPSBmYWxzZTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgIC8vU2UgY2FyZ2FuIGxhcyBjYXRlZ29yaWFzIHNlZ8O6biBsYSBjdWVudGFcclxuICAgICAgICAgICAgICAkc2NvcGUubG9hZHNtc3RlbXBsYXRlY2F0ZWdvcnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBSZXN0U2VydmljZXMubGlzdFNtc1RlbXBsYXRlQ2F0ZWdvcnkoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0Y2F0ZWcgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRzbXN0ZW1wbGF0ZWNhdGVnb3J5KCk7XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5uZXdDYXRlZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdjYXRlZ29yeXRlbXBsYXRlc21zID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsQ2F0ZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3c21zdGVtcGNhdGVnID0gJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3Y2F0ZWdvcnl0ZW1wbGF0ZXNtcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JDaGFydCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuZGF0YS5jb250ZW50dGVtcHNtcy5tYXRjaCgvXlswLTlBLVphLXpfIFxcXFxcXC9cXFxcJ1xcLSEjJCUmKCkqKywuOjs8PT4/QF17MSwxNjB9JC9pKSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JDaGFydCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICRzY29wZS5vcGVNb2RhbE1vcmVDYSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmKCAkKCcjbW9yZWNhcmFjdGVyJykucHJvcCgnY2hlY2tlZCcpICkge1xyXG4gICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0TW9yZUNhcmFjdGVyJykucmVtb3ZlQ2xhc3MoJ21vZGFsJyk7IFxyXG4gICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0TW9yZUNhcmFjdGVyJykuYWRkQ2xhc3MoJ2RpYWxvZyBkaWFsb2ctLW9wZW4nKTsgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICRzY29wZS5zYXZlQ2F0ZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUubmV3c21zdGVtcGNhdGVnKSB8fCAkc2NvcGUubmV3c21zdGVtcGNhdGVnID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKFwiRWwgY2FtcG8gZGUgbnVldmEgY2F0ZWdvcsOtYSBubyBwdWVkZSBlc3RhciB2YWPDrW9cIik7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3c21zdGVtcGNhdGVnLmxlbmd0aCA8IDIgfHwgJHNjb3BlLm5ld3Ntc3RlbXBjYXRlZy5sZW5ndGggPiA4MCkge1xyXG4gICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKFwiRWwgY2FtcG8gZGUgbnVldmEgY2F0ZWdvcsOtYSBkZWJlIHRlbmVyIG3DrW5pbW8gMiBjYXJhY3RlcmVzIHkgbcOheGltbyA4MFwiKTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUubmV3c21zdGVtcGNhdGVnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIFJlc3RTZXJ2aWNlcy5zYXZlU21zVGVtcENhdGVnKGRhdGEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5zdWNjZXNzKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdzbXN0ZW1wY2F0ZWcgPSAnJztcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld2NhdGVnb3J5dGVtcGxhdGVzbXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRzbXN0ZW1wbGF0ZWNhdGVnb3J5KCk7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLnNtc3RlbXBjYXRlZyA9IGRhdGEuaWRTbXNUZW1wbGF0ZUNhdGVnb3J5O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICRzY29wZS5sb2FkRGF0YU9uZVNtc1RlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgUmVzdFNlcnZpY2VzLmdldFNtc1RlbXBsYXRlKCRzdGF0ZVBhcmFtcy5pZHNtc3RlbXBsYXRlKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5pZFNtc1RlbXBsYXRlID0gZGF0YS5pZFNtc1RlbXBsYXRlO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZUluTGluZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWREYXRhT25lU21zVGVtcGxhdGUoKTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICRzY29wZS5lZGl0U21zVGVtcGxhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICQoJyNjb250ZW50dGVtcHNtcycpLnZhbCgpOyBcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLmNvbnRlbnR0ZW1wc21zID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFwID0ge1xyXG4gICAgICAgICAgICAgICAgICBpZFNtc1RlbXBsYXRlOiAkc2NvcGUuaWRTbXNUZW1wbGF0ZSxcclxuICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmRhdGEubmFtZXRlbXBzbXMsXHJcbiAgICAgICAgICAgICAgICAgIGNhdGVnOiAkc2NvcGUuZGF0YS5zbXN0ZW1wY2F0ZWcsXHJcbiAgICAgICAgICAgICAgICAgIG1vcmVjYXJhY3RlciA6ICRzY29wZS5kYXRhLm1vcmVjYXJhY3RlcixcclxuICAgICAgICAgICAgICAgICAgY29udGVudDogJHNjb3BlLmRhdGEuY29udGVudHRlbXBzbXNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBSZXN0U2VydmljZXMuZWRpdFNtc1RlbXBsYXRlKGRhdGFwKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2Uuc3VjY2VzcyhkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJpbmRleFwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICRzY29wZS5nZXRUYWdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgUmVzdFNlcnZpY2VzLmdldFRhZ3MoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS50YWdzID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLnRhZ3MpO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmFkZFRhZyA9IGZ1bmN0aW9uICh0YWcpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLmNvbnRlbnR0ZW1wc21zICs9IFwiIFwiICsgdGFnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlSW5MaW5lKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVJbkxpbmUgPSBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkQ2hhcmFjdGVycyA9IGZhbHNlO1xyXG4vLyAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RUYWdzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFnZ2VkTWVzc2FnZSA9ICRzY29wZS5kYXRhLmNvbnRlbnR0ZW1wc21zO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhZ3MgPSAvJSUrW2EtekEtWjAtOV9dKyUlLztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFncy50ZXN0KCRzY29wZS5kYXRhLmNvbnRlbnR0ZW1wc21zKSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RUYWdzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhZ2dlZE1lc3NhZ2UgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgd29yZHMgPSAkc2NvcGUuZGF0YS5jb250ZW50dGVtcHNtcy5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbnQgPSAwOyBjb250IDwgd29yZHMubGVuZ3RoOyBjb250KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd29yZCA9IHdvcmRzW2NvbnRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3b3JkLnN1YnN0cigwLCAyKSA9PSBcIiUlXCIgJiYgKHdvcmQuc3Vic3RyKC0yKSA9PSBcIiUlXCIgfHwgd29yZC5zdWJzdHIoLTMpID09IFwiJSUsXCIgfHwgd29yZC5zdWJzdHIoLTMpID09IFwiJSUuXCIgfHwgd29yZC5zdWJzdHIoLTMpID09IFwiJSU7XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gd29yZC5zdWJzdHIoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gXCI8Yj48aT5cIiArIHdvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAod29yZC5zdWJzdHIoLTIpID09IFwiJSVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gd29yZC5zdWJzdHIoMCwgd29yZC5sZW5ndGggLSAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod29yZC5zdWJzdHIoLTMpID09IFwiJSUsXCIgfHwgd29yZC5zdWJzdHIoLTMpID09IFwiJSUuXCIgfHwgd29yZC5zdWJzdHIoLTMpID09IFwiJSU7XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZCA9IHdvcmQuc3Vic3RyKDAsIHdvcmQubGVuZ3RoIC0gMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB3b3JkID0gd29yZCArIFwiPC9pPjwvYj5cIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhZ2dlZE1lc3NhZ2UgKz0gd29yZCArIFwiIFwiO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5vcGVuUHJldmlldyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjcHJldmlld1wiKS5hZGRDbGFzcygnZGlhbG9nLS1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZVByZXZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3ByZXZpZXdcIikucmVtb3ZlQ2xhc3MoJ2RpYWxvZy0tb3BlbicpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlQWxsVGFncyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoXCIuYWxsVGFnc1wiKS50b2dnbGUoJ3Nsb3cnKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmdldFRhZ3MoKTtcclxuICAgICAgICAgICAgfV0pO1xyXG59KSgpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2pzL2FuZ3VsYXIvc21zdGVtcGxhdGUvY29udHJvbGxlci5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

eval("(function () {\r\n  angular.module('smstemplate', ['ui.router', 'smstemplate.controller', 'smstemplate.services', \"ngMaterial\", \"ui.select\", \"ngSanitize\"])\r\n    .config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n          .state('index', {\r\n            url: \"/\",\r\n            templateUrl: fullUrlBase + templateBase + '/list',\r\n            controller: 'listController'\r\n          })\r\n          .state('create', {\r\n            url: \"/create\",\r\n            templateUrl: fullUrlBase + templateBase + '/create',\r\n            controller: 'createController'\r\n          })\r\n          .state('edit', {\r\n            url: \"/edit/:idsmstemplate\",\r\n            templateUrl: fullUrlBase + templateBase + '/edit',\r\n            controller: 'editController'\r\n          });\r\n      }]);\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3Ntc3RlbXBsYXRlL2FwcC5qcz9jNGI2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsT0FBTztBQUNQLENBQUMiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XHJcbiAgYW5ndWxhci5tb2R1bGUoJ3Ntc3RlbXBsYXRlJywgWyd1aS5yb3V0ZXInLCAnc21zdGVtcGxhdGUuY29udHJvbGxlcicsICdzbXN0ZW1wbGF0ZS5zZXJ2aWNlcycsIFwibmdNYXRlcmlhbFwiLCBcInVpLnNlbGVjdFwiLCBcIm5nU2FuaXRpemVcIl0pXHJcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgLnN0YXRlKCdpbmRleCcsIHtcclxuICAgICAgICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bGxVcmxCYXNlICsgdGVtcGxhdGVCYXNlICsgJy9saXN0JyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ2xpc3RDb250cm9sbGVyJ1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnY3JlYXRlJywge1xyXG4gICAgICAgICAgICB1cmw6IFwiL2NyZWF0ZVwiLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVsbFVybEJhc2UgKyB0ZW1wbGF0ZUJhc2UgKyAnL2NyZWF0ZScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjcmVhdGVDb250cm9sbGVyJ1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zdGF0ZSgnZWRpdCcsIHtcclxuICAgICAgICAgICAgdXJsOiBcIi9lZGl0LzppZHNtc3RlbXBsYXRlXCIsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBmdWxsVXJsQmFzZSArIHRlbXBsYXRlQmFzZSArICcvZWRpdCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlZGl0Q29udHJvbGxlcidcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XSk7XHJcbn0pKCk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vanMvYW5ndWxhci9zbXN0ZW1wbGF0ZS9hcHAuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports) {

eval("(function () {\r\n  angular.module('smstemplate.services', [])\r\n\r\n          .service('RestServices', function ($http, $q, notificationService) {\r\n            this.listSmsTemplateCategory = function () {\r\n              var deferred = $q.defer();\r\n              $http.get(fullUrlBase + \"api/smstemplatecategory/listsmstempcategory\")\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            };\r\n\r\n            this.saveSmsTempCateg = function (data) {\r\n              var url = fullUrlBase + \"api/smstemplatecategory/savemailtempcategory\";\r\n              var deferred = $q.defer();\r\n              $http.post(url, data)\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            };\r\n\r\n            this.listSmsTemplate = function (page, data) {\r\n              var deferred = $q.defer();\r\n              $http.post(fullUrlBase + \"api/smstemplate/listsmstemp/\" + page, data)\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            };\r\n\r\n            this.saveSmsTemplate = function (data) {\r\n              var url = fullUrlBase + \"api/smstemplate/savesmstemp\";\r\n              var deferred = $q.defer();\r\n              $http.post(url, data)\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            };\r\n\r\n            this.getSmsTemplate = function (id) {\r\n              var deferred = $q.defer();\r\n              $http.get(fullUrlBase + \"api/smstemplate/getsmstemp/\" + id)\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            };\r\n\r\n            this.editSmsTemplate = function (data) {\r\n              var deferred = $q.defer();\r\n              $http.post(fullUrlBase + \"api/smstemplate/editsmstemp\", data)\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            };\r\n\r\n            this.getAll = function (page) {\r\n              var deferred = $q.defer();\r\n              $http.post(fullUrlBase + 'api/smstemplate/listsmstemp/' + page)\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            }\r\n\r\n\r\n            this.deleteSmstemplate = function (id) {\r\n              var url = fullUrlBase + 'api/smstemplate/deletesmstemplate/' + id;\r\n              var deferred = $q.defer();\r\n              $http.delete(url)\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            }\r\n            \r\n            this.getTags = function () {\r\n              var deferred = $q.defer();\r\n              $http.get(fullUrlBase + 'api/smstemplate/gettags')\r\n                      .success(function (data) {\r\n                        deferred.resolve(data);\r\n                      })\r\n                      .error(function (data) {\r\n                        deferred.reject(data);\r\n                        notificationService.error(data.message);\r\n                      });\r\n\r\n              return deferred.promise;\r\n            }\r\n\r\n          })\r\n          .factory('notificationService', function () {\r\n            function error(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-remove-circle', 'danger');\r\n            }\r\n\r\n            function success(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-ok-circle', 'success');\r\n            }\r\n\r\n            function warning(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-exclamation-sign', 'warning');\r\n            }\r\n\r\n            function notice(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-exclamation-sign', 'notice');\r\n            }\r\n\r\n            function info(message) {\r\n              slideOnTop(message, 4000, 'glyphicon glyphicon-exclamation-sign', 'info');\r\n            }\r\n\r\n            return {\r\n              error: error,\r\n              success: success,\r\n              warning: warning,\r\n              notice: notice,\r\n              info: info\r\n            };\r\n          });\r\n  ;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hbmd1bGFyL3Ntc3RlbXBsYXRlL3NlcnZpY2VzLmpzPzE3NjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCOztBQUV2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7O0FBRXZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7O0FBRXZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsQ0FBQyIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICBhbmd1bGFyLm1vZHVsZSgnc21zdGVtcGxhdGUuc2VydmljZXMnLCBbXSlcclxuXHJcbiAgICAgICAgICAuc2VydmljZSgnUmVzdFNlcnZpY2VzJywgZnVuY3Rpb24gKCRodHRwLCAkcSwgbm90aWZpY2F0aW9uU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RTbXNUZW1wbGF0ZUNhdGVnb3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgJGh0dHAuZ2V0KGZ1bGxVcmxCYXNlICsgXCJhcGkvc21zdGVtcGxhdGVjYXRlZ29yeS9saXN0c21zdGVtcGNhdGVnb3J5XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVNtc1RlbXBDYXRlZyA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgXCJhcGkvc21zdGVtcGxhdGVjYXRlZ29yeS9zYXZlbWFpbHRlbXBjYXRlZ29yeVwiO1xyXG4gICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgJGh0dHAucG9zdCh1cmwsIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdFNtc1RlbXBsYXRlID0gZnVuY3Rpb24gKHBhZ2UsIGRhdGEpIHtcclxuICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICRodHRwLnBvc3QoZnVsbFVybEJhc2UgKyBcImFwaS9zbXN0ZW1wbGF0ZS9saXN0c21zdGVtcC9cIiArIHBhZ2UsIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVNtc1RlbXBsYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICB2YXIgdXJsID0gZnVsbFVybEJhc2UgKyBcImFwaS9zbXN0ZW1wbGF0ZS9zYXZlc21zdGVtcFwiO1xyXG4gICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgJGh0dHAucG9zdCh1cmwsIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U21zVGVtcGxhdGUgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICRodHRwLmdldChmdWxsVXJsQmFzZSArIFwiYXBpL3Ntc3RlbXBsYXRlL2dldHNtc3RlbXAvXCIgKyBpZClcclxuICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lZGl0U21zVGVtcGxhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgJGh0dHAucG9zdChmdWxsVXJsQmFzZSArIFwiYXBpL3Ntc3RlbXBsYXRlL2VkaXRzbXN0ZW1wXCIsIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0QWxsID0gZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICRodHRwLnBvc3QoZnVsbFVybEJhc2UgKyAnYXBpL3Ntc3RlbXBsYXRlL2xpc3RzbXN0ZW1wLycgKyBwYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVNtc3RlbXBsYXRlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHVybCA9IGZ1bGxVcmxCYXNlICsgJ2FwaS9zbXN0ZW1wbGF0ZS9kZWxldGVzbXN0ZW1wbGF0ZS8nICsgaWQ7XHJcbiAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAkaHR0cC5kZWxldGUodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VGFncyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICRodHRwLmdldChmdWxsVXJsQmFzZSArICdhcGkvc21zdGVtcGxhdGUvZ2V0dGFncycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2UuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmFjdG9yeSgnbm90aWZpY2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgIHNsaWRlT25Ub3AobWVzc2FnZSwgNDAwMCwgJ2dseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlLWNpcmNsZScsICdkYW5nZXInKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgc2xpZGVPblRvcChtZXNzYWdlLCA0MDAwLCAnZ2x5cGhpY29uIGdseXBoaWNvbi1vay1jaXJjbGUnLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICBzbGlkZU9uVG9wKG1lc3NhZ2UsIDQwMDAsICdnbHlwaGljb24gZ2x5cGhpY29uLWV4Y2xhbWF0aW9uLXNpZ24nLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBub3RpY2UobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgIHNsaWRlT25Ub3AobWVzc2FnZSwgNDAwMCwgJ2dseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbicsICdub3RpY2UnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW5mbyhtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgc2xpZGVPblRvcChtZXNzYWdlLCA0MDAwLCAnZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduJywgJ2luZm8nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXHJcbiAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcclxuICAgICAgICAgICAgICB3YXJuaW5nOiB3YXJuaW5nLFxyXG4gICAgICAgICAgICAgIG5vdGljZTogbm90aWNlLFxyXG4gICAgICAgICAgICAgIGluZm86IGluZm9cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gIDtcclxufSkoKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hbmd1bGFyL3Ntc3RlbXBsYXRlL3NlcnZpY2VzLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ })
/******/ ]);